/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var U6=Object.create;var Cu=Object.defineProperty;var z6=Object.getOwnPropertyDescriptor;var j6=Object.getOwnPropertyNames;var Q6=Object.getPrototypeOf,H6=Object.prototype.hasOwnProperty;var W6=(t,e,r)=>e in t?Cu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var zv=(t,e)=>()=>(t&&(e=t(t=0)),e);var we=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),V6=(t,e)=>{for(var r in e)Cu(t,r,{get:e[r],enumerable:!0})},jv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of j6(e))!H6.call(t,i)&&i!==r&&Cu(t,i,{get:()=>e[i],enumerable:!(n=z6(e,i))||n.enumerable});return t};var Eu=(t,e,r)=>(r=t!=null?U6(Q6(t)):{},jv(e||!t||!t.__esModule?Cu(r,"default",{value:t,enumerable:!0}):r,t)),G6=t=>jv(Cu({},"__esModule",{value:!0}),t);var Pr=(t,e,r)=>W6(t,typeof e!="symbol"?e+"":e,r);function X6(t){if(t<768)return!1;for(let e=0,r=Sh.length;;){let n=e+r>>1;if(t<Sh[n])r=n;else if(t>=Vv[n])e=n+1;else return!0;if(e==r)return!1}}function Qv(t){return t>=127462&&t<=127487}function Gv(t,e,r=!0,n=!0){return(r?Xv:K6)(t,e,n)}function Xv(t,e,r){if(e==t.length)return e;e&&Kv(t.charCodeAt(e))&&Yv(t.charCodeAt(e-1))&&e--;let n=wh(t,e);for(e+=Wv(n);e<t.length;){let i=wh(t,e);if(n==Hv||i==Hv||r&&X6(i))e+=Wv(i),n=i;else if(Qv(i)){let o=0,u=e-2;for(;u>=0&&Qv(wh(t,u));)o++,u-=2;if(o%2==0)break;e+=2}else break}return e}function K6(t,e,r){for(;e>0;){let n=Xv(t,e-2,r);if(n<e)return n;e--}return 0}function wh(t,e){let r=t.charCodeAt(e);if(!Yv(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return Kv(n)?(r-55296<<10)+(n-56320)+65536:r}function Kv(t){return t>=56320&&t<57344}function Yv(t){return t>=55296&&t<56320}function Wv(t){return t<65536?1:2}var Sh,Vv,Hv,Zv=zv(()=>{S();Sh=[],Vv=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<t.length;e++)(e%2?Vv:Sh).push(r=r+t[e])})();Hv=8205});function Y6(t){let e=-1;for(let r of t)e+=r.length+1;return e}function Ml(t,e,r=0,n=1e9){for(let i=0,o=0,u=!0;o<t.length&&i<=n;o++){let l=t[o],c=i+l.length;c>=r&&(c>n&&(l=l.slice(0,n-i)),i<r&&(l=l.slice(r-i)),u?(e[e.length-1]+=l,u=!1):e.push(l)),i=c+1}return e}function Jv(t,e,r){return Ml(t,[""],e,r)}function wo(t,e,r){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,r))]}function re(t,e,r=!0,n=!0){return Gv(t,e,r,n)}function yr(t,e,r,n=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=r:n?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function Yi(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(I.empty);t.push(r)}}function xh(t,e,r){let n=t.inserted;for(let i=0,o=0,u=0;u<t.sections.length;){let l=t.sections[u++],c=t.sections[u++];if(c<0)i+=l,o+=l;else{let d=i,h=o,g=I.empty;for(;d+=l,h+=c,c&&n&&(g=g.append(n[u-2>>1])),!(r||u==t.sections.length||t.sections[u+1]<0);)l=t.sections[u++],c=t.sections[u++];e(i,d,o,h,g),i=d,o=h}}}function kh(t,e,r,n=!1){let i=[],o=n?[]:null,u=new Ds(t),l=new Ds(e);for(let c=-1;;){if(u.done&&l.len||l.done&&u.len)throw new Error("Mismatched change set lengths");if(u.ins==-1&&l.ins==-1){let d=Math.min(u.len,l.len);yr(i,d,-1),u.forward(d),l.forward(d)}else if(l.ins>=0&&(u.ins<0||c==u.i||u.off==0&&(l.len<u.len||l.len==u.len&&!r))){let d=l.len;for(yr(i,l.ins,-1);d;){let h=Math.min(u.len,d);u.ins>=0&&c<u.i&&u.len<=h&&(yr(i,0,u.ins),o&&Yi(o,i,u.text),c=u.i),u.forward(h),d-=h}l.next()}else if(u.ins>=0){let d=0,h=u.len;for(;h;)if(l.ins==-1){let g=Math.min(h,l.len);d+=g,h-=g,l.forward(g)}else if(l.ins==0&&l.len<h)h-=l.len,l.next();else break;yr(i,d,c<u.i?u.ins:0),o&&c<u.i&&Yi(o,i,u.text),c=u.i,u.forward(u.len-h)}else{if(u.done&&l.done)return o?L.createSet(i,o):z.create(i);throw new Error("Mismatched change set lengths")}}}function sy(t,e,r=!1){let n=[],i=r?[]:null,o=new Ds(t),u=new Ds(e);for(let l=!1;;){if(o.done&&u.done)return i?L.createSet(n,i):z.create(n);if(o.ins==0)yr(n,o.len,0,l),o.next();else if(u.len==0&&!u.done)yr(n,0,u.ins,l),i&&Yi(i,n,u.text),u.next();else{if(o.done||u.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,u.len),d=n.length;if(o.ins==-1){let h=u.ins==-1?-1:u.off?0:u.ins;yr(n,c,h,l),i&&h&&Yi(i,n,u.text)}else u.ins==-1?(yr(n,o.off?0:o.len,c,l),i&&Yi(i,n,o.textBit(c))):(yr(n,o.off?0:o.len,u.off?0:u.ins,l),i&&!u.off&&Yi(i,n,u.text));l=(o.ins>c||u.ins>=0&&u.len>c)&&(l||n.length>d),o.forward2(c),u.forward(c)}}}}function oy(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}function Nh(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}function ey(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function Ch(t,e){let r=!1;for(let n of e)Au(t,n)&1&&(r=!0);return r}function Z6(t,e,r){let n=r.map(c=>t[c.id]),i=r.map(c=>c.type),o=n.filter(c=>!(c&1)),u=t[e.id]>>1;function l(c){let d=[];for(let h=0;h<n.length;h++){let g=Ul(c,n[h]);if(i[h]==2)for(let v of g)d.push(v);else d.push(g)}return e.combine(d)}return{create(c){for(let d of n)Au(c,d);return c.values[u]=l(c),1},update(c,d){if(!Ch(c,o))return 0;let h=l(c);return e.compare(h,c.values[u])?0:(c.values[u]=h,1)},reconfigure(c,d){let h=Ch(c,n),g=d.config.facets[e.id],v=d.facet(e);if(g&&!h&&Nh(r,g))return c.values[u]=v,0;let b=l(c);return e.compare(b,v)?(c.values[u]=v,0):(c.values[u]=b,1)}}}function Pu(t){return e=>new Bl(e,t)}function J6(t,e,r){let n=[[],[],[],[],[]],i=new Map;function o(u,l){let c=i.get(u);if(c!=null){if(c<=l)return;let d=n[c].indexOf(u);d>-1&&n[c].splice(d,1),u instanceof $u&&r.delete(u.compartment)}if(i.set(u,l),Array.isArray(u))for(let d of u)o(d,l);else if(u instanceof $u){if(r.has(u.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(u.compartment)||u.inner;r.set(u.compartment,d),o(d,l)}else if(u instanceof Bl)o(u.inner,u.prec);else if(u instanceof J)n[l].push(u),u.provides&&o(u.provides,l);else if(u instanceof yo)n[l].push(u),u.facet.extensions&&o(u.facet.extensions,Rs.default);else{let d=u.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${u}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(d,l)}}return o(t,Rs.default),n.reduce((u,l)=>u.concat(l))}function Au(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function Ul(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}function eP(t,e){let r=[];for(let n=0,i=0;;){let o,u;if(n<t.length&&(i==e.length||e[i]>=t[n]))o=t[n++],u=t[n++];else if(i<e.length)o=e[i++],u=e[i++];else return r;!r.length||r[r.length-1]<o?r.push(o,u):r[r.length-1]<u&&(r[r.length-1]=u)}}function hy(t,e,r){var n;let i,o,u;return r?(i=e.changes,o=L.empty(e.changes.length),u=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),u=t.changes.compose(i)),{changes:u,selection:e.selection?e.selection.map(o):(n=t.selection)===null||n===void 0?void 0:n.map(i),effects:D.mapEffects(t.effects,i).concat(D.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Ph(t,e,r){let n=e.selection,i=bo(e.annotations);return e.userEvent&&(i=i.concat(M.userEvent.of(e.userEvent))),{changes:e.changes instanceof L?e.changes:L.of(e.changes||[],r,t.facet(ay)),selection:n&&(n instanceof N?n:N.single(n.anchor,n.head)),effects:bo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function py(t,e,r){let n=Ph(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(r=!1);let u=!!e[o].sequential;n=hy(n,Ph(t,e[o],u?n.changes.newLength:t.doc.length),u)}let i=M.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return rP(r?tP(i):i)}function tP(t){let e=t.startState,r=!0;for(let i of e.facet(ly)){let o=i(t);if(o===!1){r=!1;break}Array.isArray(o)&&(r=r===!0?o:eP(r,o))}if(r!==!0){let i,o;if(r===!1)o=t.changes.invertedDesc,i=L.empty(e.doc.length);else{let u=t.changes.filter(r);i=u.changes,o=u.filtered.mapDesc(u.changes).invertedDesc}t=M.create(e,i,t.selection&&t.selection.map(o),D.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let n=e.facet(cy);for(let i=n.length-1;i>=0;i--){let o=n[i](t);o instanceof M?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof M?t=o[0]:t=py(e,bo(o),!1)}return t}function rP(t){let e=t.startState,r=e.facet(fy),n=t;for(let i=r.length-1;i>=0;i--){let o=r[i](t);o&&Object.keys(o).length&&(n=hy(n,Ph(e,o,t.changes.newLength),!0))}return n==t?t:M.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}function bo(t){return t==null?nP:Array.isArray(t)?t:[t]}function sP(t){if(Ah)return Ah.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>"\x80"&&(r.toUpperCase()!=r.toLowerCase()||iP.test(r)))return!0}return!1}function oP(t){return e=>{if(!/\S/.test(e))return V.Space;if(sP(e))return V.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return V.Word;return V.Other}}function $h(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}function uP(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if($h(e,n)>0)return t.slice().sort($h);e=n}return t}function ry(t,e,r){let n=new Map;for(let o of t)for(let u=0;u<o.chunk.length;u++)o.chunk[u].maxPoint<=0&&n.set(o.chunk[u],o.chunkPos[u]);let i=new Set;for(let o of e)for(let u=0;u<o.chunk.length;u++){let l=n.get(o.chunk[u]);l!=null&&(r?r.mapPos(l):l)==o.chunkPos[u]&&!(r!=null&&r.touchesRange(l,l+o.chunk[u].length))&&i.add(o.chunk[u])}return i}function _h(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let i=t[n];if(n+1<t.length&&i.compare(t[n+1])>=0&&(i=t[n+1],n++),r.compare(i)<0)break;t[n]=r,t[e]=i,e=n}}function ny(t,e,r,n,i,o){t.goto(e),r.goto(n);let u=n+i,l=n,c=n-e;for(;;){let d=t.to+c-r.to,h=d||t.endSide-r.endSide,g=h<0?t.to+c:r.to,v=Math.min(g,u);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&Rh(t.activeForPoint(t.to),r.activeForPoint(r.to))||o.comparePoint(l,v,t.point,r.point):v>l&&!Rh(t.active,r.active)&&o.compareRange(l,v,t.active,r.active),g>u)break;(d||t.openEnd!=r.openEnd)&&o.boundChange&&o.boundChange(g),l=g,h<=0&&t.next(),h>=0&&r.next()}}function Rh(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function Nl(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function Dl(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function iy(t,e){let r=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||t[i].endSide-t[r].endSide)<0&&(r=i,n=e[i]);return r}var I,on,vo,Ns,Ll,ql,G,Oh,F,z,L,Ds,j,N,Ih,U,yo,ty,J,Rs,ie,Bl,X,$u,Fl,uy,Eh,ay,ly,cy,fy,dy,H,K,Y,D,M,nP,V,iP,Ah,B,W,Z,Th,Q,ee,zl,Tu,Is,S=zv(()=>{Zv();I=class t{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){[e,r]=wo(this,e,r);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(r,this.length,i,1),vo.from(i,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=wo(this,e,r);let n=[];return this.decompose(e,r,n,0),vo.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new Ns(this),o=new Ns(e);for(let u=r,l=r;;){if(i.next(u),o.next(u),u=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(l+=i.value.length,i.done||l>=n)return!0}}iter(e=1){return new Ns(this,e)}iterRange(e,r=this.length){return new Ll(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new ql(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?t.empty:e.length<=32?new on(e):vo.from(on.split(e,[]))}},on=class t extends I{constructor(e,r=Y6(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,i){for(let o=0;;o++){let u=this.text[o],l=i+u.length;if((r?n:l)>=e)return new G(i,l,n,u);i=l+1,n++}}decompose(e,r,n,i){let o=e<=0&&r>=this.length?this:new t(Jv(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let u=n.pop(),l=Ml(o.text,u.text.slice(),0,o.length);if(l.length<=32)n.push(new t(l,u.length+o.length));else{let c=l.length>>1;n.push(new t(l.slice(0,c)),new t(l.slice(c)))}}else n.push(o)}replace(e,r,n){if(!(n instanceof t))return super.replace(e,r,n);[e,r]=wo(this,e,r);let i=Ml(this.text,Ml(n.text,Jv(this.text,0,e)),r),o=this.length+n.length-(r-e);return i.length<=32?new t(i,o):vo.from(t.split(i,[]),o)}sliceString(e,r=this.length,n=`
`){[e,r]=wo(this,e,r);let i="";for(let o=0,u=0;o<=r&&u<this.text.length;u++){let l=this.text[u],c=o+l.length;o>e&&u&&(i+=n),e<c&&r>o&&(i+=l.slice(Math.max(0,e-o),r-o)),o=c+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],i=-1;for(let o of e)n.push(o),i+=o.length+1,n.length==32&&(r.push(new t(n,i)),n=[],i=-1);return i>-1&&r.push(new t(n,i)),r}},vo=class t extends I{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,i){for(let o=0;;o++){let u=this.children[o],l=i+u.length,c=n+u.lines-1;if((r?c:l)>=e)return u.lineInner(e,r,n,i);i=l+1,n=c+1}}decompose(e,r,n,i){for(let o=0,u=0;u<=r&&o<this.children.length;o++){let l=this.children[o],c=u+l.length;if(e<=c&&r>=u){let d=i&((u<=e?1:0)|(c>=r?2:0));u>=e&&c<=r&&!d?n.push(l):l.decompose(e-u,r-u,n,d)}u=c+1}}replace(e,r,n){if([e,r]=wo(this,e,r),n.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let u=this.children[i],l=o+u.length;if(e>=o&&r<=l){let c=u.replace(e-o,r-o,n),d=this.lines-u.lines+c.lines;if(c.lines<d>>4&&c.lines>d>>6){let h=this.children.slice();return h[i]=c,new t(h,this.length-(r-e)+n.length)}return super.replace(o,l,c)}o=l+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){[e,r]=wo(this,e,r);let i="";for(let o=0,u=0;o<this.children.length&&u<=r;o++){let l=this.children[o],c=u+l.length;u>e&&o&&(i+=n),e<c&&r>u&&(i+=l.sliceString(e-u,r-u,n)),u=c+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof t))return 0;let n=0,[i,o,u,l]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,o+=r){if(i==u||o==l)return n;let c=this.children[i],d=e.children[o];if(c!=d)return n+c.scanIdentical(d,r);n+=c.length+1}}static from(e,r=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let b of e)n+=b.lines;if(n<32){let b=[];for(let _ of e)_.flatten(b);return new on(b,r)}let i=Math.max(32,n>>5),o=i<<1,u=i>>1,l=[],c=0,d=-1,h=[];function g(b){let _;if(b.lines>o&&b instanceof t)for(let k of b.children)g(k);else b.lines>u&&(c>u||!c)?(v(),l.push(b)):b instanceof on&&c&&(_=h[h.length-1])instanceof on&&b.lines+_.lines<=32?(c+=b.lines,d+=b.length+1,h[h.length-1]=new on(_.text.concat(b.text),_.length+1+b.length)):(c+b.lines>i&&v(),c+=b.lines,d+=b.length+1,h.push(b))}function v(){c!=0&&(l.push(h.length==1?h[0]:t.from(h,d)),d=-1,c=h.length=0)}for(let b of e)g(b);return v(),l.length==1?l[0]:new t(l,r)}};I.empty=new on([""],0);Ns=class{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof on?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],o=this.offsets[n],u=o>>1,l=i instanceof on?i.text.length:i.children.length;if(u==(r>0?l:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof on){let c=i.text[u+(r<0?-1:0)];if(this.offsets[n]+=r,c.length>Math.max(0,e))return this.value=e==0?c:r>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[u+(r<0?-1:0)];e>c.length?(e-=c.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(c),this.offsets.push(r>0?1:(c instanceof on?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},Ll=class{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new Ns(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=n?i:r<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},ql=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol!="undefined"&&(I.prototype[Symbol.iterator]=function(){return this.iter()},Ns.prototype[Symbol.iterator]=Ll.prototype[Symbol.iterator]=ql.prototype[Symbol.iterator]=function(){return this});G=class{constructor(e,r,n,i){this.from=e,this.to=r,this.number=n,this.text=i}get length(){return this.to-this.from}};Oh=/\r\n?|\n/,F=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(F||(F={})),z=class t{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,i=0;r<this.sections.length;){let o=this.sections[r++],u=this.sections[r++];u<0?(e(n,i,o),i+=o):i+=u,n+=o}}iterChangedRanges(e,r=!1){xh(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];i<0?e.push(n,i):e.push(i,n)}return new t(e)}composeDesc(e){return this.empty?e:e.empty?this:sy(this,e)}mapDesc(e,r=!1){return e.empty?this:kh(this,e,r)}mapPos(e,r=-1,n=F.Simple){let i=0,o=0;for(let u=0;u<this.sections.length;){let l=this.sections[u++],c=this.sections[u++],d=i+l;if(c<0){if(d>e)return o+(e-i);o+=l}else{if(n!=F.Simple&&d>=e&&(n==F.TrackDel&&i<e&&d>e||n==F.TrackBefore&&i<e||n==F.TrackAfter&&d>e))return null;if(d>e||d==e&&r<0&&!l)return e==i||r<0?o:o+c;o+=c}i=d}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,r=e){for(let n=0,i=0;n<this.sections.length&&i<=r;){let o=this.sections[n++],u=this.sections[n++],l=i+o;if(u>=0&&i<=r&&l>=e)return i<e&&l>r?"cover":!0;i=l}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}static create(e){return new t(e)}},L=class t extends z{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return xh(this,(r,n,i,o,u)=>e=e.replace(i,i+(n-r),u),!1),e}mapDesc(e,r=!1){return kh(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let i=0,o=0;i<r.length;i+=2){let u=r[i],l=r[i+1];if(l>=0){r[i]=l,r[i+1]=u;let c=i>>1;for(;n.length<c;)n.push(I.empty);n.push(u?e.slice(o,o+u):I.empty)}o+=u}return new t(r,n)}compose(e){return this.empty?e:e.empty?this:sy(this,e,!0)}map(e,r=!1){return e.empty?this:kh(this,e,r,!0)}iterChanges(e,r=!1){xh(this,e,r)}get desc(){return z.create(this.sections)}filter(e){let r=[],n=[],i=[],o=new Ds(this);e:for(let u=0,l=0;;){let c=u==e.length?1e9:e[u++];for(;l<c||l==c&&o.len==0;){if(o.done)break e;let h=Math.min(o.len,c-l);yr(i,h,-1);let g=o.ins==-1?-1:o.off==0?o.ins:0;yr(r,h,g),g>0&&Yi(n,r,o.text),o.forward(h),l+=h}let d=e[u++];for(;l<d;){if(o.done)break e;let h=Math.min(o.len,d-l);yr(r,h,-1),yr(i,h,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(h),l+=h}}return{changes:new t(r,n),filtered:z.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],i=this.sections[r+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let i=[],o=[],u=0,l=null;function c(h=!1){if(!h&&!i.length)return;u<r&&yr(i,r-u,-1);let g=new t(i,o);l=l?l.compose(g.map(l)):g,i=[],o=[],u=0}function d(h){if(Array.isArray(h))for(let g of h)d(g);else if(h instanceof t){if(h.length!=r)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${r})`);c(),l=l?l.compose(h.map(l)):h}else{let{from:g,to:v=g,insert:b}=h;if(g>v||g<0||v>r)throw new RangeError(`Invalid change range ${g} to ${v} (in doc of length ${r})`);let _=b?typeof b=="string"?I.of(b.split(n||Oh)):b:I.empty,k=_.length;if(g==v&&k==0)return;g<u&&c(),g>u&&yr(i,g-u,-1),yr(i,v-g,k),Yi(o,i,_),u=v}}return d(e),c(!l),l}static empty(e){return new t(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")r.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((u,l)=>l&&typeof u!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)r.push(o[0],0);else{for(;n.length<i;)n.push(I.empty);n[i]=I.of(o.slice(1)),r.push(o[0],n[i].length)}}}return new t(r,n)}static createSet(e,r){return new t(e,r)}};Ds=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?I.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?I.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},j=class t{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new t(n,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return N.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return N.range(this.anchor,n)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(e.anchor,e.head)}static create(e,r,n){return new t(e,r,n)}},N=class t{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:t.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new t([this.main],0)}addRange(e,r=!0){return t.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,t.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map(r=>j.fromJSON(r)),e.main)}static single(e,r=e){return new t([t.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=n:o.from<n)return t.normalized(e.slice(),r);n=o.to}return new t(e,r)}static cursor(e,r=0,n,i){return j.create(e,e,(r==0?0:r<0?8:16)|(n==null?7:Math.min(6,n))|(i!=null?i:16777215)<<6)}static range(e,r,n,i){let o=(n!=null?n:16777215)<<6|(i==null?7:Math.min(6,i));return r<e?j.create(r,e,48|o):j.create(e,r,(r>e?8:0)|o)}static normalized(e,r=0){let n=e[r];e.sort((i,o)=>i.from-o.from),r=e.indexOf(n);for(let i=1;i<e.length;i++){let o=e[i],u=e[i-1];if(o.empty?o.from<=u.to:o.from<u.to){let l=u.from,c=Math.max(o.to,u.to);i<=r&&r--,e.splice(--i,2,o.anchor>o.head?t.range(c,l):t.range(l,c))}}return new t(e,r)}};Ih=0,U=class t{constructor(e,r,n,i,o){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=i,this.id=Ih++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new t(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:Nh),!!e.static,e.enables)}of(e){return new yo([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new yo(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new yo(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}};yo=class{constructor(e,r,n,i){this.dependencies=e,this.facet=r,this.type=n,this.value=i,this.id=Ih++}dynamicSlot(e){var r;let n=this.value,i=this.facet.compareInput,o=this.id,u=e[o]>>1,l=this.type==2,c=!1,d=!1,h=[];for(let g of this.dependencies)g=="doc"?c=!0:g=="selection"?d=!0:((r=e[g.id])!==null&&r!==void 0?r:1)&1||h.push(e[g.id]);return{create(g){return g.values[u]=n(g),1},update(g,v){if(c&&v.docChanged||d&&(v.docChanged||v.selection)||Ch(g,h)){let b=n(g);if(l?!ey(b,g.values[u],i):!i(b,g.values[u]))return g.values[u]=b,1}return 0},reconfigure:(g,v)=>{let b,_=v.config.address[o];if(_!=null){let k=Ul(v,_);if(this.dependencies.every(C=>C instanceof U?v.facet(C)===g.facet(C):C instanceof J?v.field(C,!1)==g.field(C,!1):!0)||(l?ey(b=n(g),k,i):i(b=n(g),k)))return g.values[u]=k,0}else b=n(g);return g.values[u]=b,1}}}};ty=U.define({static:!0}),J=class t{constructor(e,r,n,i,o){this.id=e,this.createF=r,this.updateF=n,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let r=new t(Ih++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(ty).find(n=>n.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,i)=>{let o=n.values[r],u=this.updateF(o,i);return this.compareF(o,u)?0:(n.values[r]=u,1)},reconfigure:(n,i)=>i.config.address[this.id]!=null?(n.values[r]=i.field(this),0):(n.values[r]=this.create(n),1)}}init(e){return[this,ty.of({field:this,create:e})]}get extension(){return this}},Rs={lowest:4,low:3,default:2,high:1,highest:0};ie={highest:Pu(Rs.highest),high:Pu(Rs.high),default:Pu(Rs.default),low:Pu(Rs.low),lowest:Pu(Rs.lowest)},Bl=class{constructor(e,r){this.inner=e,this.prec=r}},X=class t{of(e){return new $u(this,e)}reconfigure(e){return t.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}},$u=class{constructor(e,r){this.compartment=e,this.inner=r}},Fl=class t{constructor(e,r,n,i,o,u){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=i,this.staticValues=o,this.facets=u,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let i=[],o=Object.create(null),u=new Map;for(let v of J6(e,r,u))v instanceof J?i.push(v):(o[v.facet.id]||(o[v.facet.id]=[])).push(v);let l=Object.create(null),c=[],d=[];for(let v of i)l[v.id]=d.length<<1,d.push(b=>v.slot(b));let h=n==null?void 0:n.config.facets;for(let v in o){let b=o[v],_=b[0].facet,k=h&&h[v]||[];if(b.every(C=>C.type==0))if(l[_.id]=c.length<<1|1,Nh(k,b))c.push(n.facet(_));else{let C=_.combine(b.map(q=>q.value));c.push(n&&_.compare(C,n.facet(_))?n.facet(_):C)}else{for(let C of b)C.type==0?(l[C.id]=c.length<<1|1,c.push(C.value)):(l[C.id]=d.length<<1,d.push(q=>C.dynamicSlot(q)));l[_.id]=d.length<<1,d.push(C=>Z6(C,_,b))}}let g=d.map(v=>v(l));return new t(e,u,g,l,c,o)}};uy=U.define(),Eh=U.define({combine:t=>t.some(e=>e),static:!0}),ay=U.define({combine:t=>t.length?t[0]:void 0,static:!0}),ly=U.define(),cy=U.define(),fy=U.define(),dy=U.define({combine:t=>t.length?t[0]:!1}),H=class{constructor(e,r){this.type=e,this.value=r}static define(){return new K}},K=class{of(e){return new H(this,e)}},Y=class{constructor(e){this.map=e}of(e){return new D(this,e)}},D=class t{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new t(this.type,r)}is(e){return this.type==e}static define(e={}){return new Y(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let i of e){let o=i.map(r);o&&n.push(o)}return n}};D.reconfigure=D.define();D.appendConfig=D.define();M=class t{constructor(e,r,n,i,o,u){this.startState=e,this.changes=r,this.selection=n,this.effects=i,this.annotations=o,this.scrollIntoView=u,this._doc=null,this._state=null,n&&oy(n,r.newLength),o.some(l=>l.type==t.time)||(this.annotations=o.concat(t.time.of(Date.now())))}static create(e,r,n,i,o,u){return new t(e,r,n,i,o,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(t.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}};M.time=H.define();M.userEvent=H.define();M.addToHistory=H.define();M.remote=H.define();nP=[];V=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(V||(V={})),iP=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{Ah=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}B=class t{constructor(e,r,n,i,o,u){this.config=e,this.doc=r,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,u&&(u._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Au(this,l<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return Au(this,n),Ul(this,n)}update(...e){return py(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:i}=r;for(let l of e.effects)l.is(X.reconfigure)?(r&&(i=new Map,r.compartments.forEach((c,d)=>i.set(d,c)),r=null),i.set(l.value.compartment,l.value.extension)):l.is(D.reconfigure)?(r=null,n=l.value):l.is(D.appendConfig)&&(r=null,n=bo(n).concat(l.value));let o;r?o=e.startState.values.slice():(r=Fl.resolve(n,i,this),o=new t(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(c,d)=>d.reconfigure(c,this),null).values);let u=e.startState.facet(Eh)?e.newSelection:e.newSelection.asSingle();new t(r,e.newDoc,u,o,(l,c)=>c.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:N.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),i=this.changes(n.changes),o=[n.range],u=bo(n.effects);for(let l=1;l<r.ranges.length;l++){let c=e(r.ranges[l]),d=this.changes(c.changes),h=d.map(i);for(let v=0;v<l;v++)o[v]=o[v].map(h);let g=i.mapDesc(d,!0);o.push(c.range.map(g)),i=i.compose(h),u=D.mapEffects(u,h).concat(D.mapEffects(bo(c.effects),g))}return{changes:i,selection:N.create(o,r.mainIndex),effects:u}}changes(e=[]){return e instanceof L?e:L.of(e,this.doc.length,this.facet(t.lineSeparator))}toText(e){return I.of(e.split(this.facet(t.lineSeparator)||Oh))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(Au(this,r),Ul(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof J&&this.config.address[i.id]!=null&&(r[n]=i.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let o in n)if(Object.prototype.hasOwnProperty.call(e,o)){let u=n[o],l=e[o];i.push(u.init(c=>u.spec.fromJSON(l,c)))}}return t.create({doc:e.doc,selection:N.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=Fl.resolve(e.extensions||[],new Map),n=e.doc instanceof I?e.doc:I.of((e.doc||"").split(r.staticFacet(t.lineSeparator)||Oh)),i=e.selection?e.selection instanceof N?e.selection:N.single(e.selection.anchor,e.selection.head):N.single(0);return oy(i,n.length),r.staticFacet(Eh)||(i=i.asSingle()),new t(r,n,i,r.dynamicSlots.map(()=>null),(o,u)=>u.create(o),null)}get tabSize(){return this.facet(t.tabSize)}get lineBreak(){return this.facet(t.lineSeparator)||`
`}get readOnly(){return this.facet(dy)}phrase(e,...r){for(let n of this.facet(t.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>r.length?n:r[o-1]})),e}languageDataAt(e,r,n=-1){let i=[];for(let o of this.facet(uy))for(let u of o(this,r,n))Object.prototype.hasOwnProperty.call(u,e)&&i.push(u[e]);return i}charCategorizer(e){return oP(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:n,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),u=e-n,l=e-n;for(;u>0;){let c=re(r,u,!1);if(o(r.slice(c,u))!=V.Word)break;u=c}for(;l<i;){let c=re(r,l);if(o(r.slice(l,c))!=V.Word)break;l=c}return u==l?null:N.range(u+n,l+n)}};B.allowMultipleSelections=Eh;B.tabSize=U.define({combine:t=>t.length?t[0]:4});B.lineSeparator=ay;B.readOnly=dy;B.phrases=U.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(i=>t[i]==e[i])}});B.languageData=uy;B.changeFilter=ly;B.transactionFilter=cy;B.transactionExtender=fy;X.reconfigure=D.define();W=class{eq(e){return this==e}range(e,r=e){return Z.create(e,r,this)}};W.prototype.startSide=W.prototype.endSide=0;W.prototype.point=!1;W.prototype.mapMode=F.TrackDel;Z=class t{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new t(e,r,n)}};Th=class t{constructor(e,r,n,i){this.from=e,this.to=r,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,i=0){let o=n?this.to:this.from;for(let u=i,l=o.length;;){if(u==l)return u;let c=u+l>>1,d=o[c]-e||(n?this.value[c].endSide:this.value[c].startSide)-r;if(c==u)return d>=0?u:l;d>=0?l=c:u=c+1}}between(e,r,n,i){for(let o=this.findIndex(r,-1e9,!0),u=this.findIndex(n,1e9,!1,o);o<u;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,r){let n=[],i=[],o=[],u=-1,l=-1;for(let c=0;c<this.value.length;c++){let d=this.value[c],h=this.from[c]+e,g=this.to[c]+e,v,b;if(h==g){let _=r.mapPos(h,d.startSide,d.mapMode);if(_==null||(v=b=_,d.startSide!=d.endSide&&(b=r.mapPos(h,d.endSide),b<v)))continue}else if(v=r.mapPos(h,d.startSide),b=r.mapPos(g,d.endSide),v>b||v==b&&d.startSide>0&&d.endSide<=0)continue;(b-v||d.endSide-d.startSide)<0||(u<0&&(u=v),d.point&&(l=Math.max(l,b-v)),n.push(d),i.push(v-u),o.push(b-u))}return{mapped:n.length?new t(i,o,n,l):null,pos:u}}},Q=class t{constructor(e,r,n,i){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=i}static create(e,r,n,i){return new t(e,r,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:i=0,filterTo:o=this.length}=e,u=e.filter;if(r.length==0&&!u)return this;if(n&&(r=r.slice().sort($h)),this.isEmpty)return r.length?t.of(r):this;let l=new zl(this,null,-1).goto(0),c=0,d=[],h=new ee;for(;l.value||c<r.length;)if(c<r.length&&(l.from-r[c].from||l.startSide-r[c].value.startSide)>=0){let g=r[c++];h.addInner(g.from,g.to,g.value)||d.push(g)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(c==r.length||this.chunkEnd(l.chunkIndex)<r[c].from)&&(!u||i>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&h.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!u||i>l.to||o<l.from||u(l.from,l.to,l.value))&&(h.addInner(l.from,l.to,l.value)||d.push(Z.create(l.from,l.to,l.value))),l.next());return h.finishInner(this.nextLayer.isEmpty&&!d.length?t.empty:this.nextLayer.update({add:d,filter:u,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],i=-1;for(let u=0;u<this.chunk.length;u++){let l=this.chunkPos[u],c=this.chunk[u],d=e.touchesRange(l,l+c.length);if(d===!1)i=Math.max(i,c.maxPoint),r.push(c),n.push(e.mapPos(l));else if(d===!0){let{mapped:h,pos:g}=c.map(l,e);h&&(i=Math.max(i,h.maxPoint),r.push(h),n.push(g))}}let o=this.nextLayer.map(e);return r.length==0?o:new t(n,r,o||t.empty,i)}between(e,r,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],u=this.chunk[i];if(r>=o&&e<=o+u.length&&u.between(o,e-o,r-o,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return Tu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return Tu.from(e).goto(r)}static compare(e,r,n,i,o=-1){let u=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),l=r.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),c=ry(u,l,n),d=new Is(u,c,o),h=new Is(l,c,o);n.iterGaps((g,v,b)=>ny(d,g,h,v,b,i)),n.empty&&n.length==0&&ny(d,0,h,0,0,i)}static eq(e,r,n=0,i){i==null&&(i=999999999);let o=e.filter(h=>!h.isEmpty&&r.indexOf(h)<0),u=r.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(o.length!=u.length)return!1;if(!o.length)return!0;let l=ry(o,u),c=new Is(o,l,0).goto(n),d=new Is(u,l,0).goto(n);for(;;){if(c.to!=d.to||!Rh(c.active,d.active)||c.point&&(!d.point||!c.point.eq(d.point)))return!1;if(c.to>i)return!0;c.next(),d.next()}}static spans(e,r,n,i,o=-1){let u=new Is(e,null,o).goto(r),l=r,c=u.openStart;for(;;){let d=Math.min(u.to,n);if(u.point){let h=u.activeForPoint(u.to),g=u.pointFrom<r?h.length+1:u.point.startSide<0?h.length:Math.min(h.length,c);i.point(l,d,u.point,h,g,u.pointRank),c=Math.min(u.openEnd(d),h.length)}else d>l&&(i.span(l,d,u.active,c),c=u.openEnd(d));if(u.to>n)return c+(u.point&&u.to>n?1:0);l=u.to,u.next()}}static of(e,r=!1){let n=new ee;for(let i of e instanceof Z?[e]:r?uP(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return t.empty;let r=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=t.empty;i=i.nextLayer)r=new t(i.chunkPos,i.chunk,r,Math.max(i.maxPoint,r.maxPoint));return r}};Q.empty=new Q([],[],null,-1);Q.empty.nextLayer=Q.empty;ee=class t{finishChunk(e){this.chunks.push(new Th(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new t)).add(e,r,n)}addInner(e,r,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(Q.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=Q.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}};zl=class{constructor(e,r,n,i=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},Tu=class t{constructor(e){this.heap=e}static from(e,r=null,n=-1){let i=[];for(let o=0;o<e.length;o++)for(let u=e[o];!u.isEmpty;u=u.nextLayer)u.maxPoint>=n&&i.push(new zl(u,r,n,o));return i.length==1?i[0]:new t(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)_h(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)_h(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),_h(this.heap,0)}}};Is=class{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Tu.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){Nl(this.active,e),Nl(this.activeTo,e),Nl(this.activeRank,e),this.minActive=iy(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:i,rank:o}=this.cursor;for(;r<this.activeRank.length&&(o-this.activeRank[r]||i-this.activeTo[r])>0;)r++;Dl(this.active,r,n),Dl(this.activeTo,r,i),Dl(this.activeRank,r,o),e&&Dl(e,r,this.cursor.from),this.minActive=iy(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Nl(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}});var Hh=we((xo,Du)=>{S();(function(){var t,e="4.17.21",r=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",d=1,h=2,g=4,v=1,b=2,_=1,k=2,C=4,q=8,be=16,Oe=32,Ae=64,me=128,Ie=256,Ce=512,Ge=30,ze="...",Xe=800,ye=16,he=1,Ee=2,le=3,O=1/0,P=9007199254740991,R=17976931348623157e292,ge=NaN,$=4294967295,pe=$-1,ce=$>>>1,de=[["ary",me],["bind",_],["bindKey",k],["curry",q],["curryRight",be],["flip",Ce],["partial",Oe],["partialRight",Ae],["rearg",Ie]],ke="[object Arguments]",Re="[object Array]",Le="[object AsyncFunction]",Qe="[object Boolean]",Ve="[object Date]",st="[object DOMException]",kt="[object Error]",gr="[object Function]",ci="[object GeneratorFunction]",ur="[object Map]",Dt="[object Number]",ar="[object Null]",Nr="[object Object]",qi="[object Promise]",ro="[object Proxy]",Yr="[object RegExp]",lr="[object Set]",Gn="[object String]",Xn="[object Symbol]",Bi="[object Undefined]",Nn="[object WeakMap]",Fi="[object WeakSet]",Zr="[object ArrayBuffer]",Gt="[object DataView]",fi="[object Float32Array]",vs="[object Float64Array]",ys="[object Int8Array]",bs="[object Int16Array]",ws="[object Int32Array]",iu="[object Uint8Array]",su="[object Uint8ClampedArray]",ou="[object Uint16Array]",uu="[object Uint32Array]",au=/\b__p \+= '';/g,Ss=/\b(__p \+=) '' \+/g,lu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_s=/&(?:amp|lt|gt|quot|#39);/g,cu=/[&<>"']/g,od=RegExp(_s.source),ud=RegExp(cu.source),h5=/<%-([\s\S]+?)%>/g,p5=/<%([\s\S]+?)%>/g,gm=/<%=([\s\S]+?)%>/g,g5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m5=/^\w*$/,v5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ad=/[\\^$.*+?()[\]{}|]/g,y5=RegExp(ad.source),ld=/^\s+/,b5=/\s/,w5=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,S5=/\{\n\/\* \[wrapped with (.+)\] \*/,_5=/,? & /,O5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,x5=/[()=,{}\[\]\/\s]/,k5=/\\(\\)?/g,C5=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mm=/\w*$/,E5=/^[-+]0x[0-9a-f]+$/i,P5=/^0b[01]+$/i,A5=/^\[object .+?Constructor\]$/,$5=/^0o[0-7]+$/i,T5=/^(?:0|[1-9]\d*)$/,R5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wa=/($^)/,I5=/['\n\r\u2028\u2029\\]/g,Va="\\ud800-\\udfff",N5="\\u0300-\\u036f",D5="\\ufe20-\\ufe2f",M5="\\u20d0-\\u20ff",vm=N5+D5+M5,ym="\\u2700-\\u27bf",bm="a-z\\xdf-\\xf6\\xf8-\\xff",L5="\\xac\\xb1\\xd7\\xf7",q5="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",B5="\\u2000-\\u206f",F5=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wm="A-Z\\xc0-\\xd6\\xd8-\\xde",Sm="\\ufe0e\\ufe0f",_m=L5+q5+B5+F5,cd="['\u2019]",U5="["+Va+"]",Om="["+_m+"]",Ga="["+vm+"]",xm="\\d+",z5="["+ym+"]",km="["+bm+"]",Cm="[^"+Va+_m+xm+ym+bm+wm+"]",fd="\\ud83c[\\udffb-\\udfff]",j5="(?:"+Ga+"|"+fd+")",Em="[^"+Va+"]",dd="(?:\\ud83c[\\udde6-\\uddff]){2}",hd="[\\ud800-\\udbff][\\udc00-\\udfff]",no="["+wm+"]",Pm="\\u200d",Am="(?:"+km+"|"+Cm+")",Q5="(?:"+no+"|"+Cm+")",$m="(?:"+cd+"(?:d|ll|m|re|s|t|ve))?",Tm="(?:"+cd+"(?:D|LL|M|RE|S|T|VE))?",Rm=j5+"?",Im="["+Sm+"]?",H5="(?:"+Pm+"(?:"+[Em,dd,hd].join("|")+")"+Im+Rm+")*",W5="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",V5="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nm=Im+Rm+H5,G5="(?:"+[z5,dd,hd].join("|")+")"+Nm,X5="(?:"+[Em+Ga+"?",Ga,dd,hd,U5].join("|")+")",K5=RegExp(cd,"g"),Y5=RegExp(Ga,"g"),pd=RegExp(fd+"(?="+fd+")|"+X5+Nm,"g"),Z5=RegExp([no+"?"+km+"+"+$m+"(?="+[Om,no,"$"].join("|")+")",Q5+"+"+Tm+"(?="+[Om,no+Am,"$"].join("|")+")",no+"?"+Am+"+"+$m,no+"+"+Tm,V5,W5,xm,G5].join("|"),"g"),J5=RegExp("["+Pm+Va+vm+Sm+"]"),eO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tO=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rO=-1,Mt={};Mt[fi]=Mt[vs]=Mt[ys]=Mt[bs]=Mt[ws]=Mt[iu]=Mt[su]=Mt[ou]=Mt[uu]=!0,Mt[ke]=Mt[Re]=Mt[Zr]=Mt[Qe]=Mt[Gt]=Mt[Ve]=Mt[kt]=Mt[gr]=Mt[ur]=Mt[Dt]=Mt[Nr]=Mt[Yr]=Mt[lr]=Mt[Gn]=Mt[Nn]=!1;var Nt={};Nt[ke]=Nt[Re]=Nt[Zr]=Nt[Gt]=Nt[Qe]=Nt[Ve]=Nt[fi]=Nt[vs]=Nt[ys]=Nt[bs]=Nt[ws]=Nt[ur]=Nt[Dt]=Nt[Nr]=Nt[Yr]=Nt[lr]=Nt[Gn]=Nt[Xn]=Nt[iu]=Nt[su]=Nt[ou]=Nt[uu]=!0,Nt[kt]=Nt[gr]=Nt[Nn]=!1;var nO={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},iO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sO={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oO={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uO=parseFloat,aO=parseInt,Dm=typeof global=="object"&&global&&global.Object===Object&&global,lO=typeof self=="object"&&self&&self.Object===Object&&self,ir=Dm||lO||Function("return this")(),gd=typeof xo=="object"&&xo&&!xo.nodeType&&xo,Os=gd&&typeof Du=="object"&&Du&&!Du.nodeType&&Du,Mm=Os&&Os.exports===gd,md=Mm&&Dm.process,pn=function(){try{var A=Os&&Os.require&&Os.require("util").types;return A||md&&md.binding&&md.binding("util")}catch(ve){}}(),Lm=pn&&pn.isArrayBuffer,qm=pn&&pn.isDate,Bm=pn&&pn.isMap,Fm=pn&&pn.isRegExp,Um=pn&&pn.isSet,zm=pn&&pn.isTypedArray;function Jr(A,ve,ne){switch(ne.length){case 0:return A.call(ve);case 1:return A.call(ve,ne[0]);case 2:return A.call(ve,ne[0],ne[1]);case 3:return A.call(ve,ne[0],ne[1],ne[2])}return A.apply(ve,ne)}function cO(A,ve,ne,qe){for(var rt=-1,Ct=A==null?0:A.length;++rt<Ct;){var rr=A[rt];ve(qe,rr,ne(rr),A)}return qe}function gn(A,ve){for(var ne=-1,qe=A==null?0:A.length;++ne<qe&&ve(A[ne],ne,A)!==!1;);return A}function fO(A,ve){for(var ne=A==null?0:A.length;ne--&&ve(A[ne],ne,A)!==!1;);return A}function jm(A,ve){for(var ne=-1,qe=A==null?0:A.length;++ne<qe;)if(!ve(A[ne],ne,A))return!1;return!0}function Ui(A,ve){for(var ne=-1,qe=A==null?0:A.length,rt=0,Ct=[];++ne<qe;){var rr=A[ne];ve(rr,ne,A)&&(Ct[rt++]=rr)}return Ct}function Xa(A,ve){var ne=A==null?0:A.length;return!!ne&&io(A,ve,0)>-1}function vd(A,ve,ne){for(var qe=-1,rt=A==null?0:A.length;++qe<rt;)if(ne(ve,A[qe]))return!0;return!1}function Bt(A,ve){for(var ne=-1,qe=A==null?0:A.length,rt=Array(qe);++ne<qe;)rt[ne]=ve(A[ne],ne,A);return rt}function zi(A,ve){for(var ne=-1,qe=ve.length,rt=A.length;++ne<qe;)A[rt+ne]=ve[ne];return A}function yd(A,ve,ne,qe){var rt=-1,Ct=A==null?0:A.length;for(qe&&Ct&&(ne=A[++rt]);++rt<Ct;)ne=ve(ne,A[rt],rt,A);return ne}function dO(A,ve,ne,qe){var rt=A==null?0:A.length;for(qe&&rt&&(ne=A[--rt]);rt--;)ne=ve(ne,A[rt],rt,A);return ne}function bd(A,ve){for(var ne=-1,qe=A==null?0:A.length;++ne<qe;)if(ve(A[ne],ne,A))return!0;return!1}var hO=wd("length");function pO(A){return A.split("")}function gO(A){return A.match(O5)||[]}function Qm(A,ve,ne){var qe;return ne(A,function(rt,Ct,rr){if(ve(rt,Ct,rr))return qe=Ct,!1}),qe}function Ka(A,ve,ne,qe){for(var rt=A.length,Ct=ne+(qe?1:-1);qe?Ct--:++Ct<rt;)if(ve(A[Ct],Ct,A))return Ct;return-1}function io(A,ve,ne){return ve===ve?EO(A,ve,ne):Ka(A,Hm,ne)}function mO(A,ve,ne,qe){for(var rt=ne-1,Ct=A.length;++rt<Ct;)if(qe(A[rt],ve))return rt;return-1}function Hm(A){return A!==A}function Wm(A,ve){var ne=A==null?0:A.length;return ne?_d(A,ve)/ne:ge}function wd(A){return function(ve){return ve==null?t:ve[A]}}function Sd(A){return function(ve){return A==null?t:A[ve]}}function Vm(A,ve,ne,qe,rt){return rt(A,function(Ct,rr,Rt){ne=qe?(qe=!1,Ct):ve(ne,Ct,rr,Rt)}),ne}function vO(A,ve){var ne=A.length;for(A.sort(ve);ne--;)A[ne]=A[ne].value;return A}function _d(A,ve){for(var ne,qe=-1,rt=A.length;++qe<rt;){var Ct=ve(A[qe]);Ct!==t&&(ne=ne===t?Ct:ne+Ct)}return ne}function Od(A,ve){for(var ne=-1,qe=Array(A);++ne<A;)qe[ne]=ve(ne);return qe}function yO(A,ve){return Bt(ve,function(ne){return[ne,A[ne]]})}function Gm(A){return A&&A.slice(0,Zm(A)+1).replace(ld,"")}function en(A){return function(ve){return A(ve)}}function xd(A,ve){return Bt(ve,function(ne){return A[ne]})}function fu(A,ve){return A.has(ve)}function Xm(A,ve){for(var ne=-1,qe=A.length;++ne<qe&&io(ve,A[ne],0)>-1;);return ne}function Km(A,ve){for(var ne=A.length;ne--&&io(ve,A[ne],0)>-1;);return ne}function bO(A,ve){for(var ne=A.length,qe=0;ne--;)A[ne]===ve&&++qe;return qe}var wO=Sd(nO),SO=Sd(iO);function _O(A){return"\\"+oO[A]}function OO(A,ve){return A==null?t:A[ve]}function so(A){return J5.test(A)}function xO(A){return eO.test(A)}function kO(A){for(var ve,ne=[];!(ve=A.next()).done;)ne.push(ve.value);return ne}function kd(A){var ve=-1,ne=Array(A.size);return A.forEach(function(qe,rt){ne[++ve]=[rt,qe]}),ne}function Ym(A,ve){return function(ne){return A(ve(ne))}}function ji(A,ve){for(var ne=-1,qe=A.length,rt=0,Ct=[];++ne<qe;){var rr=A[ne];(rr===ve||rr===c)&&(A[ne]=c,Ct[rt++]=ne)}return Ct}function Ya(A){var ve=-1,ne=Array(A.size);return A.forEach(function(qe){ne[++ve]=qe}),ne}function CO(A){var ve=-1,ne=Array(A.size);return A.forEach(function(qe){ne[++ve]=[qe,qe]}),ne}function EO(A,ve,ne){for(var qe=ne-1,rt=A.length;++qe<rt;)if(A[qe]===ve)return qe;return-1}function PO(A,ve,ne){for(var qe=ne+1;qe--;)if(A[qe]===ve)return qe;return qe}function oo(A){return so(A)?$O(A):hO(A)}function Dn(A){return so(A)?TO(A):pO(A)}function Zm(A){for(var ve=A.length;ve--&&b5.test(A.charAt(ve)););return ve}var AO=Sd(sO);function $O(A){for(var ve=pd.lastIndex=0;pd.test(A);)++ve;return ve}function TO(A){return A.match(pd)||[]}function RO(A){return A.match(Z5)||[]}var IO=function A(ve){ve=ve==null?ir:Qi.defaults(ir.Object(),ve,Qi.pick(ir,tO));var ne=ve.Array,qe=ve.Date,rt=ve.Error,Ct=ve.Function,rr=ve.Math,Rt=ve.Object,Cd=ve.RegExp,NO=ve.String,mn=ve.TypeError,Za=ne.prototype,DO=Ct.prototype,uo=Rt.prototype,Ja=ve["__core-js_shared__"],el=DO.toString,Pt=uo.hasOwnProperty,MO=0,Jm=function(){var s=/[^.]+$/.exec(Ja&&Ja.keys&&Ja.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),tl=uo.toString,LO=el.call(Rt),qO=ir._,BO=Cd("^"+el.call(Pt).replace(ad,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rl=Mm?ve.Buffer:t,Hi=ve.Symbol,nl=ve.Uint8Array,e1=rl?rl.allocUnsafe:t,il=Ym(Rt.getPrototypeOf,Rt),t1=Rt.create,r1=uo.propertyIsEnumerable,sl=Za.splice,n1=Hi?Hi.isConcatSpreadable:t,du=Hi?Hi.iterator:t,xs=Hi?Hi.toStringTag:t,ol=function(){try{var s=As(Rt,"defineProperty");return s({},"",{}),s}catch(a){}}(),FO=ve.clearTimeout!==ir.clearTimeout&&ve.clearTimeout,UO=qe&&qe.now!==ir.Date.now&&qe.now,zO=ve.setTimeout!==ir.setTimeout&&ve.setTimeout,ul=rr.ceil,al=rr.floor,Ed=Rt.getOwnPropertySymbols,jO=rl?rl.isBuffer:t,i1=ve.isFinite,QO=Za.join,HO=Ym(Rt.keys,Rt),nr=rr.max,mr=rr.min,WO=qe.now,VO=ve.parseInt,s1=rr.random,GO=Za.reverse,Pd=As(ve,"DataView"),hu=As(ve,"Map"),Ad=As(ve,"Promise"),ao=As(ve,"Set"),pu=As(ve,"WeakMap"),gu=As(Rt,"create"),ll=pu&&new pu,lo={},XO=$s(Pd),KO=$s(hu),YO=$s(Ad),ZO=$s(ao),JO=$s(pu),cl=Hi?Hi.prototype:t,mu=cl?cl.valueOf:t,o1=cl?cl.toString:t;function y(s){if(Ht(s)&&!it(s)&&!(s instanceof mt)){if(s instanceof vn)return s;if(Pt.call(s,"__wrapped__"))return uv(s)}return new vn(s)}var co=function(){function s(){}return function(a){if(!zt(a))return{};if(t1)return t1(a);s.prototype=a;var f=new s;return s.prototype=t,f}}();function fl(){}function vn(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}y.templateSettings={escape:h5,evaluate:p5,interpolate:gm,variable:"",imports:{_:y}},y.prototype=fl.prototype,y.prototype.constructor=y,vn.prototype=co(fl.prototype),vn.prototype.constructor=vn;function mt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function ex(){var s=new mt(this.__wrapped__);return s.__actions__=Dr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Dr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Dr(this.__views__),s}function tx(){if(this.__filtered__){var s=new mt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function rx(){var s=this.__wrapped__.value(),a=this.__dir__,f=it(s),p=a<0,m=f?s.length:0,w=p8(0,m,this.__views__),x=w.start,E=w.end,T=E-x,Se=p?E:x-1,_e=this.__iteratees__,xe=_e.length,Ne=0,je=mr(T,this.__takeCount__);if(!f||!p&&m==T&&je==T)return $1(s,this.__actions__);var Ye=[];e:for(;T--&&Ne<je;){Se+=a;for(var at=-1,Ze=s[Se];++at<xe;){var pt=_e[at],yt=pt.iteratee,nn=pt.type,Er=yt(Ze);if(nn==Ee)Ze=Er;else if(!Er){if(nn==he)continue e;break e}}Ye[Ne++]=Ze}return Ye}mt.prototype=co(fl.prototype),mt.prototype.constructor=mt;function ks(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var p=s[a];this.set(p[0],p[1])}}function nx(){this.__data__=gu?gu(null):{},this.size=0}function ix(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function sx(s){var a=this.__data__;if(gu){var f=a[s];return f===u?t:f}return Pt.call(a,s)?a[s]:t}function ox(s){var a=this.__data__;return gu?a[s]!==t:Pt.call(a,s)}function ux(s,a){var f=this.__data__;return this.size+=this.has(s)?0:1,f[s]=gu&&a===t?u:a,this}ks.prototype.clear=nx,ks.prototype.delete=ix,ks.prototype.get=sx,ks.prototype.has=ox,ks.prototype.set=ux;function di(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var p=s[a];this.set(p[0],p[1])}}function ax(){this.__data__=[],this.size=0}function lx(s){var a=this.__data__,f=dl(a,s);if(f<0)return!1;var p=a.length-1;return f==p?a.pop():sl.call(a,f,1),--this.size,!0}function cx(s){var a=this.__data__,f=dl(a,s);return f<0?t:a[f][1]}function fx(s){return dl(this.__data__,s)>-1}function dx(s,a){var f=this.__data__,p=dl(f,s);return p<0?(++this.size,f.push([s,a])):f[p][1]=a,this}di.prototype.clear=ax,di.prototype.delete=lx,di.prototype.get=cx,di.prototype.has=fx,di.prototype.set=dx;function hi(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var p=s[a];this.set(p[0],p[1])}}function hx(){this.size=0,this.__data__={hash:new ks,map:new(hu||di),string:new ks}}function px(s){var a=xl(this,s).delete(s);return this.size-=a?1:0,a}function gx(s){return xl(this,s).get(s)}function mx(s){return xl(this,s).has(s)}function vx(s,a){var f=xl(this,s),p=f.size;return f.set(s,a),this.size+=f.size==p?0:1,this}hi.prototype.clear=hx,hi.prototype.delete=px,hi.prototype.get=gx,hi.prototype.has=mx,hi.prototype.set=vx;function Cs(s){var a=-1,f=s==null?0:s.length;for(this.__data__=new hi;++a<f;)this.add(s[a])}function yx(s){return this.__data__.set(s,u),this}function bx(s){return this.__data__.has(s)}Cs.prototype.add=Cs.prototype.push=yx,Cs.prototype.has=bx;function Mn(s){var a=this.__data__=new di(s);this.size=a.size}function wx(){this.__data__=new di,this.size=0}function Sx(s){var a=this.__data__,f=a.delete(s);return this.size=a.size,f}function _x(s){return this.__data__.get(s)}function Ox(s){return this.__data__.has(s)}function xx(s,a){var f=this.__data__;if(f instanceof di){var p=f.__data__;if(!hu||p.length<r-1)return p.push([s,a]),this.size=++f.size,this;f=this.__data__=new hi(p)}return f.set(s,a),this.size=f.size,this}Mn.prototype.clear=wx,Mn.prototype.delete=Sx,Mn.prototype.get=_x,Mn.prototype.has=Ox,Mn.prototype.set=xx;function u1(s,a){var f=it(s),p=!f&&Ts(s),m=!f&&!p&&Ki(s),w=!f&&!p&&!m&&go(s),x=f||p||m||w,E=x?Od(s.length,NO):[],T=E.length;for(var Se in s)(a||Pt.call(s,Se))&&!(x&&(Se=="length"||m&&(Se=="offset"||Se=="parent")||w&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||vi(Se,T)))&&E.push(Se);return E}function a1(s){var a=s.length;return a?s[Fd(0,a-1)]:t}function kx(s,a){return kl(Dr(s),Es(a,0,s.length))}function Cx(s){return kl(Dr(s))}function $d(s,a,f){(f!==t&&!Ln(s[a],f)||f===t&&!(a in s))&&pi(s,a,f)}function vu(s,a,f){var p=s[a];(!(Pt.call(s,a)&&Ln(p,f))||f===t&&!(a in s))&&pi(s,a,f)}function dl(s,a){for(var f=s.length;f--;)if(Ln(s[f][0],a))return f;return-1}function Ex(s,a,f,p){return Wi(s,function(m,w,x){a(p,m,f(m),x)}),p}function l1(s,a){return s&&Yn(a,sr(a),s)}function Px(s,a){return s&&Yn(a,Lr(a),s)}function pi(s,a,f){a=="__proto__"&&ol?ol(s,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):s[a]=f}function Td(s,a){for(var f=-1,p=a.length,m=ne(p),w=s==null;++f<p;)m[f]=w?t:fh(s,a[f]);return m}function Es(s,a,f){return s===s&&(f!==t&&(s=s<=f?s:f),a!==t&&(s=s>=a?s:a)),s}function yn(s,a,f,p,m,w){var x,E=a&d,T=a&h,Se=a&g;if(f&&(x=m?f(s,p,m,w):f(s)),x!==t)return x;if(!zt(s))return s;var _e=it(s);if(_e){if(x=m8(s),!E)return Dr(s,x)}else{var xe=vr(s),Ne=xe==gr||xe==ci;if(Ki(s))return I1(s,E);if(xe==Nr||xe==ke||Ne&&!m){if(x=T||Ne?{}:Z1(s),!E)return T?s8(s,Px(x,s)):i8(s,l1(x,s))}else{if(!Nt[xe])return m?s:{};x=v8(s,xe,E)}}w||(w=new Mn);var je=w.get(s);if(je)return je;w.set(s,x),Ev(s)?s.forEach(function(Ze){x.add(yn(Ze,a,f,Ze,s,w))}):kv(s)&&s.forEach(function(Ze,pt){x.set(pt,yn(Ze,a,f,pt,s,w))});var Ye=Se?T?Yd:Kd:T?Lr:sr,at=_e?t:Ye(s);return gn(at||s,function(Ze,pt){at&&(pt=Ze,Ze=s[pt]),vu(x,pt,yn(Ze,a,f,pt,s,w))}),x}function Ax(s){var a=sr(s);return function(f){return c1(f,s,a)}}function c1(s,a,f){var p=f.length;if(s==null)return!p;for(s=Rt(s);p--;){var m=f[p],w=a[m],x=s[m];if(x===t&&!(m in s)||!w(x))return!1}return!0}function f1(s,a,f){if(typeof s!="function")throw new mn(i);return xu(function(){s.apply(t,f)},a)}function yu(s,a,f,p){var m=-1,w=Xa,x=!0,E=s.length,T=[],Se=a.length;if(!E)return T;f&&(a=Bt(a,en(f))),p?(w=vd,x=!1):a.length>=r&&(w=fu,x=!1,a=new Cs(a));e:for(;++m<E;){var _e=s[m],xe=f==null?_e:f(_e);if(_e=p||_e!==0?_e:0,x&&xe===xe){for(var Ne=Se;Ne--;)if(a[Ne]===xe)continue e;T.push(_e)}else w(a,xe,p)||T.push(_e)}return T}var Wi=q1(Kn),d1=q1(Id,!0);function $x(s,a){var f=!0;return Wi(s,function(p,m,w){return f=!!a(p,m,w),f}),f}function hl(s,a,f){for(var p=-1,m=s.length;++p<m;){var w=s[p],x=a(w);if(x!=null&&(E===t?x===x&&!rn(x):f(x,E)))var E=x,T=w}return T}function Tx(s,a,f,p){var m=s.length;for(f=ot(f),f<0&&(f=-f>m?0:m+f),p=p===t||p>m?m:ot(p),p<0&&(p+=m),p=f>p?0:Av(p);f<p;)s[f++]=a;return s}function h1(s,a){var f=[];return Wi(s,function(p,m,w){a(p,m,w)&&f.push(p)}),f}function cr(s,a,f,p,m){var w=-1,x=s.length;for(f||(f=b8),m||(m=[]);++w<x;){var E=s[w];a>0&&f(E)?a>1?cr(E,a-1,f,p,m):zi(m,E):p||(m[m.length]=E)}return m}var Rd=B1(),p1=B1(!0);function Kn(s,a){return s&&Rd(s,a,sr)}function Id(s,a){return s&&p1(s,a,sr)}function pl(s,a){return Ui(a,function(f){return yi(s[f])})}function Ps(s,a){a=Gi(a,s);for(var f=0,p=a.length;s!=null&&f<p;)s=s[Zn(a[f++])];return f&&f==p?s:t}function g1(s,a,f){var p=a(s);return it(s)?p:zi(p,f(s))}function kr(s){return s==null?s===t?Bi:ar:xs&&xs in Rt(s)?h8(s):C8(s)}function Nd(s,a){return s>a}function Rx(s,a){return s!=null&&Pt.call(s,a)}function Ix(s,a){return s!=null&&a in Rt(s)}function Nx(s,a,f){return s>=mr(a,f)&&s<nr(a,f)}function Dd(s,a,f){for(var p=f?vd:Xa,m=s[0].length,w=s.length,x=w,E=ne(w),T=1/0,Se=[];x--;){var _e=s[x];x&&a&&(_e=Bt(_e,en(a))),T=mr(_e.length,T),E[x]=!f&&(a||m>=120&&_e.length>=120)?new Cs(x&&_e):t}_e=s[0];var xe=-1,Ne=E[0];e:for(;++xe<m&&Se.length<T;){var je=_e[xe],Ye=a?a(je):je;if(je=f||je!==0?je:0,!(Ne?fu(Ne,Ye):p(Se,Ye,f))){for(x=w;--x;){var at=E[x];if(!(at?fu(at,Ye):p(s[x],Ye,f)))continue e}Ne&&Ne.push(Ye),Se.push(je)}}return Se}function Dx(s,a,f,p){return Kn(s,function(m,w,x){a(p,f(m),w,x)}),p}function bu(s,a,f){a=Gi(a,s),s=rv(s,a);var p=s==null?s:s[Zn(wn(a))];return p==null?t:Jr(p,s,f)}function m1(s){return Ht(s)&&kr(s)==ke}function Mx(s){return Ht(s)&&kr(s)==Zr}function Lx(s){return Ht(s)&&kr(s)==Ve}function wu(s,a,f,p,m){return s===a?!0:s==null||a==null||!Ht(s)&&!Ht(a)?s!==s&&a!==a:qx(s,a,f,p,wu,m)}function qx(s,a,f,p,m,w){var x=it(s),E=it(a),T=x?Re:vr(s),Se=E?Re:vr(a);T=T==ke?Nr:T,Se=Se==ke?Nr:Se;var _e=T==Nr,xe=Se==Nr,Ne=T==Se;if(Ne&&Ki(s)){if(!Ki(a))return!1;x=!0,_e=!1}if(Ne&&!_e)return w||(w=new Mn),x||go(s)?X1(s,a,f,p,m,w):f8(s,a,T,f,p,m,w);if(!(f&v)){var je=_e&&Pt.call(s,"__wrapped__"),Ye=xe&&Pt.call(a,"__wrapped__");if(je||Ye){var at=je?s.value():s,Ze=Ye?a.value():a;return w||(w=new Mn),m(at,Ze,f,p,w)}}return Ne?(w||(w=new Mn),d8(s,a,f,p,m,w)):!1}function Bx(s){return Ht(s)&&vr(s)==ur}function Md(s,a,f,p){var m=f.length,w=m,x=!p;if(s==null)return!w;for(s=Rt(s);m--;){var E=f[m];if(x&&E[2]?E[1]!==s[E[0]]:!(E[0]in s))return!1}for(;++m<w;){E=f[m];var T=E[0],Se=s[T],_e=E[1];if(x&&E[2]){if(Se===t&&!(T in s))return!1}else{var xe=new Mn;if(p)var Ne=p(Se,_e,T,s,a,xe);if(!(Ne===t?wu(_e,Se,v|b,p,xe):Ne))return!1}}return!0}function v1(s){if(!zt(s)||S8(s))return!1;var a=yi(s)?BO:A5;return a.test($s(s))}function Fx(s){return Ht(s)&&kr(s)==Yr}function Ux(s){return Ht(s)&&vr(s)==lr}function zx(s){return Ht(s)&&Tl(s.length)&&!!Mt[kr(s)]}function y1(s){return typeof s=="function"?s:s==null?qr:typeof s=="object"?it(s)?S1(s[0],s[1]):w1(s):Fv(s)}function Ld(s){if(!Ou(s))return HO(s);var a=[];for(var f in Rt(s))Pt.call(s,f)&&f!="constructor"&&a.push(f);return a}function jx(s){if(!zt(s))return k8(s);var a=Ou(s),f=[];for(var p in s)p=="constructor"&&(a||!Pt.call(s,p))||f.push(p);return f}function qd(s,a){return s<a}function b1(s,a){var f=-1,p=Mr(s)?ne(s.length):[];return Wi(s,function(m,w,x){p[++f]=a(m,w,x)}),p}function w1(s){var a=Jd(s);return a.length==1&&a[0][2]?ev(a[0][0],a[0][1]):function(f){return f===s||Md(f,s,a)}}function S1(s,a){return th(s)&&J1(a)?ev(Zn(s),a):function(f){var p=fh(f,s);return p===t&&p===a?dh(f,s):wu(a,p,v|b)}}function gl(s,a,f,p,m){s!==a&&Rd(a,function(w,x){if(m||(m=new Mn),zt(w))Qx(s,a,x,f,gl,p,m);else{var E=p?p(nh(s,x),w,x+"",s,a,m):t;E===t&&(E=w),$d(s,x,E)}},Lr)}function Qx(s,a,f,p,m,w,x){var E=nh(s,f),T=nh(a,f),Se=x.get(T);if(Se){$d(s,f,Se);return}var _e=w?w(E,T,f+"",s,a,x):t,xe=_e===t;if(xe){var Ne=it(T),je=!Ne&&Ki(T),Ye=!Ne&&!je&&go(T);_e=T,Ne||je||Ye?it(E)?_e=E:Xt(E)?_e=Dr(E):je?(xe=!1,_e=I1(T,!0)):Ye?(xe=!1,_e=N1(T,!0)):_e=[]:ku(T)||Ts(T)?(_e=E,Ts(E)?_e=$v(E):(!zt(E)||yi(E))&&(_e=Z1(T))):xe=!1}xe&&(x.set(T,_e),m(_e,T,p,w,x),x.delete(T)),$d(s,f,_e)}function _1(s,a){var f=s.length;if(f)return a+=a<0?f:0,vi(a,f)?s[a]:t}function O1(s,a,f){a.length?a=Bt(a,function(w){return it(w)?function(x){return Ps(x,w.length===1?w[0]:w)}:w}):a=[qr];var p=-1;a=Bt(a,en(Ke()));var m=b1(s,function(w,x,E){var T=Bt(a,function(Se){return Se(w)});return{criteria:T,index:++p,value:w}});return vO(m,function(w,x){return n8(w,x,f)})}function Hx(s,a){return x1(s,a,function(f,p){return dh(s,p)})}function x1(s,a,f){for(var p=-1,m=a.length,w={};++p<m;){var x=a[p],E=Ps(s,x);f(E,x)&&Su(w,Gi(x,s),E)}return w}function Wx(s){return function(a){return Ps(a,s)}}function Bd(s,a,f,p){var m=p?mO:io,w=-1,x=a.length,E=s;for(s===a&&(a=Dr(a)),f&&(E=Bt(s,en(f)));++w<x;)for(var T=0,Se=a[w],_e=f?f(Se):Se;(T=m(E,_e,T,p))>-1;)E!==s&&sl.call(E,T,1),sl.call(s,T,1);return s}function k1(s,a){for(var f=s?a.length:0,p=f-1;f--;){var m=a[f];if(f==p||m!==w){var w=m;vi(m)?sl.call(s,m,1):jd(s,m)}}return s}function Fd(s,a){return s+al(s1()*(a-s+1))}function Vx(s,a,f,p){for(var m=-1,w=nr(ul((a-s)/(f||1)),0),x=ne(w);w--;)x[p?w:++m]=s,s+=f;return x}function Ud(s,a){var f="";if(!s||a<1||a>P)return f;do a%2&&(f+=s),a=al(a/2),a&&(s+=s);while(a);return f}function lt(s,a){return ih(tv(s,a,qr),s+"")}function Gx(s){return a1(mo(s))}function Xx(s,a){var f=mo(s);return kl(f,Es(a,0,f.length))}function Su(s,a,f,p){if(!zt(s))return s;a=Gi(a,s);for(var m=-1,w=a.length,x=w-1,E=s;E!=null&&++m<w;){var T=Zn(a[m]),Se=f;if(T==="__proto__"||T==="constructor"||T==="prototype")return s;if(m!=x){var _e=E[T];Se=p?p(_e,T,E):t,Se===t&&(Se=zt(_e)?_e:vi(a[m+1])?[]:{})}vu(E,T,Se),E=E[T]}return s}var C1=ll?function(s,a){return ll.set(s,a),s}:qr,Kx=ol?function(s,a){return ol(s,"toString",{configurable:!0,enumerable:!1,value:ph(a),writable:!0})}:qr;function Yx(s){return kl(mo(s))}function bn(s,a,f){var p=-1,m=s.length;a<0&&(a=-a>m?0:m+a),f=f>m?m:f,f<0&&(f+=m),m=a>f?0:f-a>>>0,a>>>=0;for(var w=ne(m);++p<m;)w[p]=s[p+a];return w}function Zx(s,a){var f;return Wi(s,function(p,m,w){return f=a(p,m,w),!f}),!!f}function ml(s,a,f){var p=0,m=s==null?p:s.length;if(typeof a=="number"&&a===a&&m<=ce){for(;p<m;){var w=p+m>>>1,x=s[w];x!==null&&!rn(x)&&(f?x<=a:x<a)?p=w+1:m=w}return m}return zd(s,a,qr,f)}function zd(s,a,f,p){var m=0,w=s==null?0:s.length;if(w===0)return 0;a=f(a);for(var x=a!==a,E=a===null,T=rn(a),Se=a===t;m<w;){var _e=al((m+w)/2),xe=f(s[_e]),Ne=xe!==t,je=xe===null,Ye=xe===xe,at=rn(xe);if(x)var Ze=p||Ye;else Se?Ze=Ye&&(p||Ne):E?Ze=Ye&&Ne&&(p||!je):T?Ze=Ye&&Ne&&!je&&(p||!at):je||at?Ze=!1:Ze=p?xe<=a:xe<a;Ze?m=_e+1:w=_e}return mr(w,pe)}function E1(s,a){for(var f=-1,p=s.length,m=0,w=[];++f<p;){var x=s[f],E=a?a(x):x;if(!f||!Ln(E,T)){var T=E;w[m++]=x===0?0:x}}return w}function P1(s){return typeof s=="number"?s:rn(s)?ge:+s}function tn(s){if(typeof s=="string")return s;if(it(s))return Bt(s,tn)+"";if(rn(s))return o1?o1.call(s):"";var a=s+"";return a=="0"&&1/s==-O?"-0":a}function Vi(s,a,f){var p=-1,m=Xa,w=s.length,x=!0,E=[],T=E;if(f)x=!1,m=vd;else if(w>=r){var Se=a?null:l8(s);if(Se)return Ya(Se);x=!1,m=fu,T=new Cs}else T=a?[]:E;e:for(;++p<w;){var _e=s[p],xe=a?a(_e):_e;if(_e=f||_e!==0?_e:0,x&&xe===xe){for(var Ne=T.length;Ne--;)if(T[Ne]===xe)continue e;a&&T.push(xe),E.push(_e)}else m(T,xe,f)||(T!==E&&T.push(xe),E.push(_e))}return E}function jd(s,a){return a=Gi(a,s),s=rv(s,a),s==null||delete s[Zn(wn(a))]}function A1(s,a,f,p){return Su(s,a,f(Ps(s,a)),p)}function vl(s,a,f,p){for(var m=s.length,w=p?m:-1;(p?w--:++w<m)&&a(s[w],w,s););return f?bn(s,p?0:w,p?w+1:m):bn(s,p?w+1:0,p?m:w)}function $1(s,a){var f=s;return f instanceof mt&&(f=f.value()),yd(a,function(p,m){return m.func.apply(m.thisArg,zi([p],m.args))},f)}function Qd(s,a,f){var p=s.length;if(p<2)return p?Vi(s[0]):[];for(var m=-1,w=ne(p);++m<p;)for(var x=s[m],E=-1;++E<p;)E!=m&&(w[m]=yu(w[m]||x,s[E],a,f));return Vi(cr(w,1),a,f)}function T1(s,a,f){for(var p=-1,m=s.length,w=a.length,x={};++p<m;){var E=p<w?a[p]:t;f(x,s[p],E)}return x}function Hd(s){return Xt(s)?s:[]}function Wd(s){return typeof s=="function"?s:qr}function Gi(s,a){return it(s)?s:th(s,a)?[s]:ov(Et(s))}var Jx=lt;function Xi(s,a,f){var p=s.length;return f=f===t?p:f,!a&&f>=p?s:bn(s,a,f)}var R1=FO||function(s){return ir.clearTimeout(s)};function I1(s,a){if(a)return s.slice();var f=s.length,p=e1?e1(f):new s.constructor(f);return s.copy(p),p}function Vd(s){var a=new s.constructor(s.byteLength);return new nl(a).set(new nl(s)),a}function e8(s,a){var f=a?Vd(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.byteLength)}function t8(s){var a=new s.constructor(s.source,mm.exec(s));return a.lastIndex=s.lastIndex,a}function r8(s){return mu?Rt(mu.call(s)):{}}function N1(s,a){var f=a?Vd(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.length)}function D1(s,a){if(s!==a){var f=s!==t,p=s===null,m=s===s,w=rn(s),x=a!==t,E=a===null,T=a===a,Se=rn(a);if(!E&&!Se&&!w&&s>a||w&&x&&T&&!E&&!Se||p&&x&&T||!f&&T||!m)return 1;if(!p&&!w&&!Se&&s<a||Se&&f&&m&&!p&&!w||E&&f&&m||!x&&m||!T)return-1}return 0}function n8(s,a,f){for(var p=-1,m=s.criteria,w=a.criteria,x=m.length,E=f.length;++p<x;){var T=D1(m[p],w[p]);if(T){if(p>=E)return T;var Se=f[p];return T*(Se=="desc"?-1:1)}}return s.index-a.index}function M1(s,a,f,p){for(var m=-1,w=s.length,x=f.length,E=-1,T=a.length,Se=nr(w-x,0),_e=ne(T+Se),xe=!p;++E<T;)_e[E]=a[E];for(;++m<x;)(xe||m<w)&&(_e[f[m]]=s[m]);for(;Se--;)_e[E++]=s[m++];return _e}function L1(s,a,f,p){for(var m=-1,w=s.length,x=-1,E=f.length,T=-1,Se=a.length,_e=nr(w-E,0),xe=ne(_e+Se),Ne=!p;++m<_e;)xe[m]=s[m];for(var je=m;++T<Se;)xe[je+T]=a[T];for(;++x<E;)(Ne||m<w)&&(xe[je+f[x]]=s[m++]);return xe}function Dr(s,a){var f=-1,p=s.length;for(a||(a=ne(p));++f<p;)a[f]=s[f];return a}function Yn(s,a,f,p){var m=!f;f||(f={});for(var w=-1,x=a.length;++w<x;){var E=a[w],T=p?p(f[E],s[E],E,f,s):t;T===t&&(T=s[E]),m?pi(f,E,T):vu(f,E,T)}return f}function i8(s,a){return Yn(s,eh(s),a)}function s8(s,a){return Yn(s,K1(s),a)}function yl(s,a){return function(f,p){var m=it(f)?cO:Ex,w=a?a():{};return m(f,s,Ke(p,2),w)}}function fo(s){return lt(function(a,f){var p=-1,m=f.length,w=m>1?f[m-1]:t,x=m>2?f[2]:t;for(w=s.length>3&&typeof w=="function"?(m--,w):t,x&&Cr(f[0],f[1],x)&&(w=m<3?t:w,m=1),a=Rt(a);++p<m;){var E=f[p];E&&s(a,E,p,w)}return a})}function q1(s,a){return function(f,p){if(f==null)return f;if(!Mr(f))return s(f,p);for(var m=f.length,w=a?m:-1,x=Rt(f);(a?w--:++w<m)&&p(x[w],w,x)!==!1;);return f}}function B1(s){return function(a,f,p){for(var m=-1,w=Rt(a),x=p(a),E=x.length;E--;){var T=x[s?E:++m];if(f(w[T],T,w)===!1)break}return a}}function o8(s,a,f){var p=a&_,m=_u(s);function w(){var x=this&&this!==ir&&this instanceof w?m:s;return x.apply(p?f:this,arguments)}return w}function F1(s){return function(a){a=Et(a);var f=so(a)?Dn(a):t,p=f?f[0]:a.charAt(0),m=f?Xi(f,1).join(""):a.slice(1);return p[s]()+m}}function ho(s){return function(a){return yd(qv(Lv(a).replace(K5,"")),s,"")}}function _u(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var f=co(s.prototype),p=s.apply(f,a);return zt(p)?p:f}}function u8(s,a,f){var p=_u(s);function m(){for(var w=arguments.length,x=ne(w),E=w,T=po(m);E--;)x[E]=arguments[E];var Se=w<3&&x[0]!==T&&x[w-1]!==T?[]:ji(x,T);if(w-=Se.length,w<f)return H1(s,a,bl,m.placeholder,t,x,Se,t,t,f-w);var _e=this&&this!==ir&&this instanceof m?p:s;return Jr(_e,this,x)}return m}function U1(s){return function(a,f,p){var m=Rt(a);if(!Mr(a)){var w=Ke(f,3);a=sr(a),f=function(E){return w(m[E],E,m)}}var x=s(a,f,p);return x>-1?m[w?a[x]:x]:t}}function z1(s){return mi(function(a){var f=a.length,p=f,m=vn.prototype.thru;for(s&&a.reverse();p--;){var w=a[p];if(typeof w!="function")throw new mn(i);if(m&&!x&&Ol(w)=="wrapper")var x=new vn([],!0)}for(p=x?p:f;++p<f;){w=a[p];var E=Ol(w),T=E=="wrapper"?Zd(w):t;T&&rh(T[0])&&T[1]==(me|q|Oe|Ie)&&!T[4].length&&T[9]==1?x=x[Ol(T[0])].apply(x,T[3]):x=w.length==1&&rh(w)?x[E]():x.thru(w)}return function(){var Se=arguments,_e=Se[0];if(x&&Se.length==1&&it(_e))return x.plant(_e).value();for(var xe=0,Ne=f?a[xe].apply(this,Se):_e;++xe<f;)Ne=a[xe].call(this,Ne);return Ne}})}function bl(s,a,f,p,m,w,x,E,T,Se){var _e=a&me,xe=a&_,Ne=a&k,je=a&(q|be),Ye=a&Ce,at=Ne?t:_u(s);function Ze(){for(var pt=arguments.length,yt=ne(pt),nn=pt;nn--;)yt[nn]=arguments[nn];if(je)var Er=po(Ze),sn=bO(yt,Er);if(p&&(yt=M1(yt,p,m,je)),w&&(yt=L1(yt,w,x,je)),pt-=sn,je&&pt<Se){var Kt=ji(yt,Er);return H1(s,a,bl,Ze.placeholder,f,yt,Kt,E,T,Se-pt)}var qn=xe?f:this,wi=Ne?qn[s]:s;return pt=yt.length,E?yt=E8(yt,E):Ye&&pt>1&&yt.reverse(),_e&&T<pt&&(yt.length=T),this&&this!==ir&&this instanceof Ze&&(wi=at||_u(wi)),wi.apply(qn,yt)}return Ze}function j1(s,a){return function(f,p){return Dx(f,s,a(p),{})}}function wl(s,a){return function(f,p){var m;if(f===t&&p===t)return a;if(f!==t&&(m=f),p!==t){if(m===t)return p;typeof f=="string"||typeof p=="string"?(f=tn(f),p=tn(p)):(f=P1(f),p=P1(p)),m=s(f,p)}return m}}function Gd(s){return mi(function(a){return a=Bt(a,en(Ke())),lt(function(f){var p=this;return s(a,function(m){return Jr(m,p,f)})})})}function Sl(s,a){a=a===t?" ":tn(a);var f=a.length;if(f<2)return f?Ud(a,s):a;var p=Ud(a,ul(s/oo(a)));return so(a)?Xi(Dn(p),0,s).join(""):p.slice(0,s)}function a8(s,a,f,p){var m=a&_,w=_u(s);function x(){for(var E=-1,T=arguments.length,Se=-1,_e=p.length,xe=ne(_e+T),Ne=this&&this!==ir&&this instanceof x?w:s;++Se<_e;)xe[Se]=p[Se];for(;T--;)xe[Se++]=arguments[++E];return Jr(Ne,m?f:this,xe)}return x}function Q1(s){return function(a,f,p){return p&&typeof p!="number"&&Cr(a,f,p)&&(f=p=t),a=bi(a),f===t?(f=a,a=0):f=bi(f),p=p===t?a<f?1:-1:bi(p),Vx(a,f,p,s)}}function _l(s){return function(a,f){return typeof a=="string"&&typeof f=="string"||(a=Sn(a),f=Sn(f)),s(a,f)}}function H1(s,a,f,p,m,w,x,E,T,Se){var _e=a&q,xe=_e?x:t,Ne=_e?t:x,je=_e?w:t,Ye=_e?t:w;a|=_e?Oe:Ae,a&=~(_e?Ae:Oe),a&C||(a&=~(_|k));var at=[s,a,m,je,xe,Ye,Ne,E,T,Se],Ze=f.apply(t,at);return rh(s)&&nv(Ze,at),Ze.placeholder=p,iv(Ze,s,a)}function Xd(s){var a=rr[s];return function(f,p){if(f=Sn(f),p=p==null?0:mr(ot(p),292),p&&i1(f)){var m=(Et(f)+"e").split("e"),w=a(m[0]+"e"+(+m[1]+p));return m=(Et(w)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return a(f)}}var l8=ao&&1/Ya(new ao([,-0]))[1]==O?function(s){return new ao(s)}:vh;function W1(s){return function(a){var f=vr(a);return f==ur?kd(a):f==lr?CO(a):yO(a,s(a))}}function gi(s,a,f,p,m,w,x,E){var T=a&k;if(!T&&typeof s!="function")throw new mn(i);var Se=p?p.length:0;if(Se||(a&=~(Oe|Ae),p=m=t),x=x===t?x:nr(ot(x),0),E=E===t?E:ot(E),Se-=m?m.length:0,a&Ae){var _e=p,xe=m;p=m=t}var Ne=T?t:Zd(s),je=[s,a,f,p,m,_e,xe,w,x,E];if(Ne&&x8(je,Ne),s=je[0],a=je[1],f=je[2],p=je[3],m=je[4],E=je[9]=je[9]===t?T?0:s.length:nr(je[9]-Se,0),!E&&a&(q|be)&&(a&=~(q|be)),!a||a==_)var Ye=o8(s,a,f);else a==q||a==be?Ye=u8(s,a,E):(a==Oe||a==(_|Oe))&&!m.length?Ye=a8(s,a,f,p):Ye=bl.apply(t,je);var at=Ne?C1:nv;return iv(at(Ye,je),s,a)}function V1(s,a,f,p){return s===t||Ln(s,uo[f])&&!Pt.call(p,f)?a:s}function G1(s,a,f,p,m,w){return zt(s)&&zt(a)&&(w.set(a,s),gl(s,a,t,G1,w),w.delete(a)),s}function c8(s){return ku(s)?t:s}function X1(s,a,f,p,m,w){var x=f&v,E=s.length,T=a.length;if(E!=T&&!(x&&T>E))return!1;var Se=w.get(s),_e=w.get(a);if(Se&&_e)return Se==a&&_e==s;var xe=-1,Ne=!0,je=f&b?new Cs:t;for(w.set(s,a),w.set(a,s);++xe<E;){var Ye=s[xe],at=a[xe];if(p)var Ze=x?p(at,Ye,xe,a,s,w):p(Ye,at,xe,s,a,w);if(Ze!==t){if(Ze)continue;Ne=!1;break}if(je){if(!bd(a,function(pt,yt){if(!fu(je,yt)&&(Ye===pt||m(Ye,pt,f,p,w)))return je.push(yt)})){Ne=!1;break}}else if(!(Ye===at||m(Ye,at,f,p,w))){Ne=!1;break}}return w.delete(s),w.delete(a),Ne}function f8(s,a,f,p,m,w,x){switch(f){case Gt:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Zr:return!(s.byteLength!=a.byteLength||!w(new nl(s),new nl(a)));case Qe:case Ve:case Dt:return Ln(+s,+a);case kt:return s.name==a.name&&s.message==a.message;case Yr:case Gn:return s==a+"";case ur:var E=kd;case lr:var T=p&v;if(E||(E=Ya),s.size!=a.size&&!T)return!1;var Se=x.get(s);if(Se)return Se==a;p|=b,x.set(s,a);var _e=X1(E(s),E(a),p,m,w,x);return x.delete(s),_e;case Xn:if(mu)return mu.call(s)==mu.call(a)}return!1}function d8(s,a,f,p,m,w){var x=f&v,E=Kd(s),T=E.length,Se=Kd(a),_e=Se.length;if(T!=_e&&!x)return!1;for(var xe=T;xe--;){var Ne=E[xe];if(!(x?Ne in a:Pt.call(a,Ne)))return!1}var je=w.get(s),Ye=w.get(a);if(je&&Ye)return je==a&&Ye==s;var at=!0;w.set(s,a),w.set(a,s);for(var Ze=x;++xe<T;){Ne=E[xe];var pt=s[Ne],yt=a[Ne];if(p)var nn=x?p(yt,pt,Ne,a,s,w):p(pt,yt,Ne,s,a,w);if(!(nn===t?pt===yt||m(pt,yt,f,p,w):nn)){at=!1;break}Ze||(Ze=Ne=="constructor")}if(at&&!Ze){var Er=s.constructor,sn=a.constructor;Er!=sn&&"constructor"in s&&"constructor"in a&&!(typeof Er=="function"&&Er instanceof Er&&typeof sn=="function"&&sn instanceof sn)&&(at=!1)}return w.delete(s),w.delete(a),at}function mi(s){return ih(tv(s,t,cv),s+"")}function Kd(s){return g1(s,sr,eh)}function Yd(s){return g1(s,Lr,K1)}var Zd=ll?function(s){return ll.get(s)}:vh;function Ol(s){for(var a=s.name+"",f=lo[a],p=Pt.call(lo,a)?f.length:0;p--;){var m=f[p],w=m.func;if(w==null||w==s)return m.name}return a}function po(s){var a=Pt.call(y,"placeholder")?y:s;return a.placeholder}function Ke(){var s=y.iteratee||gh;return s=s===gh?y1:s,arguments.length?s(arguments[0],arguments[1]):s}function xl(s,a){var f=s.__data__;return w8(a)?f[typeof a=="string"?"string":"hash"]:f.map}function Jd(s){for(var a=sr(s),f=a.length;f--;){var p=a[f],m=s[p];a[f]=[p,m,J1(m)]}return a}function As(s,a){var f=OO(s,a);return v1(f)?f:t}function h8(s){var a=Pt.call(s,xs),f=s[xs];try{s[xs]=t;var p=!0}catch(w){}var m=tl.call(s);return p&&(a?s[xs]=f:delete s[xs]),m}var eh=Ed?function(s){return s==null?[]:(s=Rt(s),Ui(Ed(s),function(a){return r1.call(s,a)}))}:yh,K1=Ed?function(s){for(var a=[];s;)zi(a,eh(s)),s=il(s);return a}:yh,vr=kr;(Pd&&vr(new Pd(new ArrayBuffer(1)))!=Gt||hu&&vr(new hu)!=ur||Ad&&vr(Ad.resolve())!=qi||ao&&vr(new ao)!=lr||pu&&vr(new pu)!=Nn)&&(vr=function(s){var a=kr(s),f=a==Nr?s.constructor:t,p=f?$s(f):"";if(p)switch(p){case XO:return Gt;case KO:return ur;case YO:return qi;case ZO:return lr;case JO:return Nn}return a});function p8(s,a,f){for(var p=-1,m=f.length;++p<m;){var w=f[p],x=w.size;switch(w.type){case"drop":s+=x;break;case"dropRight":a-=x;break;case"take":a=mr(a,s+x);break;case"takeRight":s=nr(s,a-x);break}}return{start:s,end:a}}function g8(s){var a=s.match(S5);return a?a[1].split(_5):[]}function Y1(s,a,f){a=Gi(a,s);for(var p=-1,m=a.length,w=!1;++p<m;){var x=Zn(a[p]);if(!(w=s!=null&&f(s,x)))break;s=s[x]}return w||++p!=m?w:(m=s==null?0:s.length,!!m&&Tl(m)&&vi(x,m)&&(it(s)||Ts(s)))}function m8(s){var a=s.length,f=new s.constructor(a);return a&&typeof s[0]=="string"&&Pt.call(s,"index")&&(f.index=s.index,f.input=s.input),f}function Z1(s){return typeof s.constructor=="function"&&!Ou(s)?co(il(s)):{}}function v8(s,a,f){var p=s.constructor;switch(a){case Zr:return Vd(s);case Qe:case Ve:return new p(+s);case Gt:return e8(s,f);case fi:case vs:case ys:case bs:case ws:case iu:case su:case ou:case uu:return N1(s,f);case ur:return new p;case Dt:case Gn:return new p(s);case Yr:return t8(s);case lr:return new p;case Xn:return r8(s)}}function y8(s,a){var f=a.length;if(!f)return s;var p=f-1;return a[p]=(f>1?"& ":"")+a[p],a=a.join(f>2?", ":" "),s.replace(w5,`{
/* [wrapped with `+a+`] */
`)}function b8(s){return it(s)||Ts(s)||!!(n1&&s&&s[n1])}function vi(s,a){var f=typeof s;return a=a==null?P:a,!!a&&(f=="number"||f!="symbol"&&T5.test(s))&&s>-1&&s%1==0&&s<a}function Cr(s,a,f){if(!zt(f))return!1;var p=typeof a;return(p=="number"?Mr(f)&&vi(a,f.length):p=="string"&&a in f)?Ln(f[a],s):!1}function th(s,a){if(it(s))return!1;var f=typeof s;return f=="number"||f=="symbol"||f=="boolean"||s==null||rn(s)?!0:m5.test(s)||!g5.test(s)||a!=null&&s in Rt(a)}function w8(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function rh(s){var a=Ol(s),f=y[a];if(typeof f!="function"||!(a in mt.prototype))return!1;if(s===f)return!0;var p=Zd(f);return!!p&&s===p[0]}function S8(s){return!!Jm&&Jm in s}var _8=Ja?yi:bh;function Ou(s){var a=s&&s.constructor,f=typeof a=="function"&&a.prototype||uo;return s===f}function J1(s){return s===s&&!zt(s)}function ev(s,a){return function(f){return f==null?!1:f[s]===a&&(a!==t||s in Rt(f))}}function O8(s){var a=Al(s,function(p){return f.size===l&&f.clear(),p}),f=a.cache;return a}function x8(s,a){var f=s[1],p=a[1],m=f|p,w=m<(_|k|me),x=p==me&&f==q||p==me&&f==Ie&&s[7].length<=a[8]||p==(me|Ie)&&a[7].length<=a[8]&&f==q;if(!(w||x))return s;p&_&&(s[2]=a[2],m|=f&_?0:C);var E=a[3];if(E){var T=s[3];s[3]=T?M1(T,E,a[4]):E,s[4]=T?ji(s[3],c):a[4]}return E=a[5],E&&(T=s[5],s[5]=T?L1(T,E,a[6]):E,s[6]=T?ji(s[5],c):a[6]),E=a[7],E&&(s[7]=E),p&me&&(s[8]=s[8]==null?a[8]:mr(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=m,s}function k8(s){var a=[];if(s!=null)for(var f in Rt(s))a.push(f);return a}function C8(s){return tl.call(s)}function tv(s,a,f){return a=nr(a===t?s.length-1:a,0),function(){for(var p=arguments,m=-1,w=nr(p.length-a,0),x=ne(w);++m<w;)x[m]=p[a+m];m=-1;for(var E=ne(a+1);++m<a;)E[m]=p[m];return E[a]=f(x),Jr(s,this,E)}}function rv(s,a){return a.length<2?s:Ps(s,bn(a,0,-1))}function E8(s,a){for(var f=s.length,p=mr(a.length,f),m=Dr(s);p--;){var w=a[p];s[p]=vi(w,f)?m[w]:t}return s}function nh(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var nv=sv(C1),xu=zO||function(s,a){return ir.setTimeout(s,a)},ih=sv(Kx);function iv(s,a,f){var p=a+"";return ih(s,y8(p,P8(g8(p),f)))}function sv(s){var a=0,f=0;return function(){var p=WO(),m=ye-(p-f);if(f=p,m>0){if(++a>=Xe)return arguments[0]}else a=0;return s.apply(t,arguments)}}function kl(s,a){var f=-1,p=s.length,m=p-1;for(a=a===t?p:a;++f<a;){var w=Fd(f,m),x=s[w];s[w]=s[f],s[f]=x}return s.length=a,s}var ov=O8(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(v5,function(f,p,m,w){a.push(m?w.replace(k5,"$1"):p||f)}),a});function Zn(s){if(typeof s=="string"||rn(s))return s;var a=s+"";return a=="0"&&1/s==-O?"-0":a}function $s(s){if(s!=null){try{return el.call(s)}catch(a){}try{return s+""}catch(a){}}return""}function P8(s,a){return gn(de,function(f){var p="_."+f[0];a&f[1]&&!Xa(s,p)&&s.push(p)}),s.sort()}function uv(s){if(s instanceof mt)return s.clone();var a=new vn(s.__wrapped__,s.__chain__);return a.__actions__=Dr(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function A8(s,a,f){(f?Cr(s,a,f):a===t)?a=1:a=nr(ot(a),0);var p=s==null?0:s.length;if(!p||a<1)return[];for(var m=0,w=0,x=ne(ul(p/a));m<p;)x[w++]=bn(s,m,m+=a);return x}function $8(s){for(var a=-1,f=s==null?0:s.length,p=0,m=[];++a<f;){var w=s[a];w&&(m[p++]=w)}return m}function T8(){var s=arguments.length;if(!s)return[];for(var a=ne(s-1),f=arguments[0],p=s;p--;)a[p-1]=arguments[p];return zi(it(f)?Dr(f):[f],cr(a,1))}var R8=lt(function(s,a){return Xt(s)?yu(s,cr(a,1,Xt,!0)):[]}),I8=lt(function(s,a){var f=wn(a);return Xt(f)&&(f=t),Xt(s)?yu(s,cr(a,1,Xt,!0),Ke(f,2)):[]}),N8=lt(function(s,a){var f=wn(a);return Xt(f)&&(f=t),Xt(s)?yu(s,cr(a,1,Xt,!0),t,f):[]});function D8(s,a,f){var p=s==null?0:s.length;return p?(a=f||a===t?1:ot(a),bn(s,a<0?0:a,p)):[]}function M8(s,a,f){var p=s==null?0:s.length;return p?(a=f||a===t?1:ot(a),a=p-a,bn(s,0,a<0?0:a)):[]}function L8(s,a){return s&&s.length?vl(s,Ke(a,3),!0,!0):[]}function q8(s,a){return s&&s.length?vl(s,Ke(a,3),!0):[]}function B8(s,a,f,p){var m=s==null?0:s.length;return m?(f&&typeof f!="number"&&Cr(s,a,f)&&(f=0,p=m),Tx(s,a,f,p)):[]}function av(s,a,f){var p=s==null?0:s.length;if(!p)return-1;var m=f==null?0:ot(f);return m<0&&(m=nr(p+m,0)),Ka(s,Ke(a,3),m)}function lv(s,a,f){var p=s==null?0:s.length;if(!p)return-1;var m=p-1;return f!==t&&(m=ot(f),m=f<0?nr(p+m,0):mr(m,p-1)),Ka(s,Ke(a,3),m,!0)}function cv(s){var a=s==null?0:s.length;return a?cr(s,1):[]}function F8(s){var a=s==null?0:s.length;return a?cr(s,O):[]}function U8(s,a){var f=s==null?0:s.length;return f?(a=a===t?1:ot(a),cr(s,a)):[]}function z8(s){for(var a=-1,f=s==null?0:s.length,p={};++a<f;){var m=s[a];p[m[0]]=m[1]}return p}function fv(s){return s&&s.length?s[0]:t}function j8(s,a,f){var p=s==null?0:s.length;if(!p)return-1;var m=f==null?0:ot(f);return m<0&&(m=nr(p+m,0)),io(s,a,m)}function Q8(s){var a=s==null?0:s.length;return a?bn(s,0,-1):[]}var H8=lt(function(s){var a=Bt(s,Hd);return a.length&&a[0]===s[0]?Dd(a):[]}),W8=lt(function(s){var a=wn(s),f=Bt(s,Hd);return a===wn(f)?a=t:f.pop(),f.length&&f[0]===s[0]?Dd(f,Ke(a,2)):[]}),V8=lt(function(s){var a=wn(s),f=Bt(s,Hd);return a=typeof a=="function"?a:t,a&&f.pop(),f.length&&f[0]===s[0]?Dd(f,t,a):[]});function G8(s,a){return s==null?"":QO.call(s,a)}function wn(s){var a=s==null?0:s.length;return a?s[a-1]:t}function X8(s,a,f){var p=s==null?0:s.length;if(!p)return-1;var m=p;return f!==t&&(m=ot(f),m=m<0?nr(p+m,0):mr(m,p-1)),a===a?PO(s,a,m):Ka(s,Hm,m,!0)}function K8(s,a){return s&&s.length?_1(s,ot(a)):t}var Y8=lt(dv);function dv(s,a){return s&&s.length&&a&&a.length?Bd(s,a):s}function Z8(s,a,f){return s&&s.length&&a&&a.length?Bd(s,a,Ke(f,2)):s}function J8(s,a,f){return s&&s.length&&a&&a.length?Bd(s,a,t,f):s}var ek=mi(function(s,a){var f=s==null?0:s.length,p=Td(s,a);return k1(s,Bt(a,function(m){return vi(m,f)?+m:m}).sort(D1)),p});function tk(s,a){var f=[];if(!(s&&s.length))return f;var p=-1,m=[],w=s.length;for(a=Ke(a,3);++p<w;){var x=s[p];a(x,p,s)&&(f.push(x),m.push(p))}return k1(s,m),f}function sh(s){return s==null?s:GO.call(s)}function rk(s,a,f){var p=s==null?0:s.length;return p?(f&&typeof f!="number"&&Cr(s,a,f)?(a=0,f=p):(a=a==null?0:ot(a),f=f===t?p:ot(f)),bn(s,a,f)):[]}function nk(s,a){return ml(s,a)}function ik(s,a,f){return zd(s,a,Ke(f,2))}function sk(s,a){var f=s==null?0:s.length;if(f){var p=ml(s,a);if(p<f&&Ln(s[p],a))return p}return-1}function ok(s,a){return ml(s,a,!0)}function uk(s,a,f){return zd(s,a,Ke(f,2),!0)}function ak(s,a){var f=s==null?0:s.length;if(f){var p=ml(s,a,!0)-1;if(Ln(s[p],a))return p}return-1}function lk(s){return s&&s.length?E1(s):[]}function ck(s,a){return s&&s.length?E1(s,Ke(a,2)):[]}function fk(s){var a=s==null?0:s.length;return a?bn(s,1,a):[]}function dk(s,a,f){return s&&s.length?(a=f||a===t?1:ot(a),bn(s,0,a<0?0:a)):[]}function hk(s,a,f){var p=s==null?0:s.length;return p?(a=f||a===t?1:ot(a),a=p-a,bn(s,a<0?0:a,p)):[]}function pk(s,a){return s&&s.length?vl(s,Ke(a,3),!1,!0):[]}function gk(s,a){return s&&s.length?vl(s,Ke(a,3)):[]}var mk=lt(function(s){return Vi(cr(s,1,Xt,!0))}),vk=lt(function(s){var a=wn(s);return Xt(a)&&(a=t),Vi(cr(s,1,Xt,!0),Ke(a,2))}),yk=lt(function(s){var a=wn(s);return a=typeof a=="function"?a:t,Vi(cr(s,1,Xt,!0),t,a)});function bk(s){return s&&s.length?Vi(s):[]}function wk(s,a){return s&&s.length?Vi(s,Ke(a,2)):[]}function Sk(s,a){return a=typeof a=="function"?a:t,s&&s.length?Vi(s,t,a):[]}function oh(s){if(!(s&&s.length))return[];var a=0;return s=Ui(s,function(f){if(Xt(f))return a=nr(f.length,a),!0}),Od(a,function(f){return Bt(s,wd(f))})}function hv(s,a){if(!(s&&s.length))return[];var f=oh(s);return a==null?f:Bt(f,function(p){return Jr(a,t,p)})}var _k=lt(function(s,a){return Xt(s)?yu(s,a):[]}),Ok=lt(function(s){return Qd(Ui(s,Xt))}),xk=lt(function(s){var a=wn(s);return Xt(a)&&(a=t),Qd(Ui(s,Xt),Ke(a,2))}),kk=lt(function(s){var a=wn(s);return a=typeof a=="function"?a:t,Qd(Ui(s,Xt),t,a)}),Ck=lt(oh);function Ek(s,a){return T1(s||[],a||[],vu)}function Pk(s,a){return T1(s||[],a||[],Su)}var Ak=lt(function(s){var a=s.length,f=a>1?s[a-1]:t;return f=typeof f=="function"?(s.pop(),f):t,hv(s,f)});function pv(s){var a=y(s);return a.__chain__=!0,a}function $k(s,a){return a(s),s}function Cl(s,a){return a(s)}var Tk=mi(function(s){var a=s.length,f=a?s[0]:0,p=this.__wrapped__,m=function(w){return Td(w,s)};return a>1||this.__actions__.length||!(p instanceof mt)||!vi(f)?this.thru(m):(p=p.slice(f,+f+(a?1:0)),p.__actions__.push({func:Cl,args:[m],thisArg:t}),new vn(p,this.__chain__).thru(function(w){return a&&!w.length&&w.push(t),w}))});function Rk(){return pv(this)}function Ik(){return new vn(this.value(),this.__chain__)}function Nk(){this.__values__===t&&(this.__values__=Pv(this.value()));var s=this.__index__>=this.__values__.length,a=s?t:this.__values__[this.__index__++];return{done:s,value:a}}function Dk(){return this}function Mk(s){for(var a,f=this;f instanceof fl;){var p=uv(f);p.__index__=0,p.__values__=t,a?m.__wrapped__=p:a=p;var m=p;f=f.__wrapped__}return m.__wrapped__=s,a}function Lk(){var s=this.__wrapped__;if(s instanceof mt){var a=s;return this.__actions__.length&&(a=new mt(this)),a=a.reverse(),a.__actions__.push({func:Cl,args:[sh],thisArg:t}),new vn(a,this.__chain__)}return this.thru(sh)}function qk(){return $1(this.__wrapped__,this.__actions__)}var Bk=yl(function(s,a,f){Pt.call(s,f)?++s[f]:pi(s,f,1)});function Fk(s,a,f){var p=it(s)?jm:$x;return f&&Cr(s,a,f)&&(a=t),p(s,Ke(a,3))}function Uk(s,a){var f=it(s)?Ui:h1;return f(s,Ke(a,3))}var zk=U1(av),jk=U1(lv);function Qk(s,a){return cr(El(s,a),1)}function Hk(s,a){return cr(El(s,a),O)}function Wk(s,a,f){return f=f===t?1:ot(f),cr(El(s,a),f)}function gv(s,a){var f=it(s)?gn:Wi;return f(s,Ke(a,3))}function mv(s,a){var f=it(s)?fO:d1;return f(s,Ke(a,3))}var Vk=yl(function(s,a,f){Pt.call(s,f)?s[f].push(a):pi(s,f,[a])});function Gk(s,a,f,p){s=Mr(s)?s:mo(s),f=f&&!p?ot(f):0;var m=s.length;return f<0&&(f=nr(m+f,0)),Rl(s)?f<=m&&s.indexOf(a,f)>-1:!!m&&io(s,a,f)>-1}var Xk=lt(function(s,a,f){var p=-1,m=typeof a=="function",w=Mr(s)?ne(s.length):[];return Wi(s,function(x){w[++p]=m?Jr(a,x,f):bu(x,a,f)}),w}),Kk=yl(function(s,a,f){pi(s,f,a)});function El(s,a){var f=it(s)?Bt:b1;return f(s,Ke(a,3))}function Yk(s,a,f,p){return s==null?[]:(it(a)||(a=a==null?[]:[a]),f=p?t:f,it(f)||(f=f==null?[]:[f]),O1(s,a,f))}var Zk=yl(function(s,a,f){s[f?0:1].push(a)},function(){return[[],[]]});function Jk(s,a,f){var p=it(s)?yd:Vm,m=arguments.length<3;return p(s,Ke(a,4),f,m,Wi)}function eC(s,a,f){var p=it(s)?dO:Vm,m=arguments.length<3;return p(s,Ke(a,4),f,m,d1)}function tC(s,a){var f=it(s)?Ui:h1;return f(s,$l(Ke(a,3)))}function rC(s){var a=it(s)?a1:Gx;return a(s)}function nC(s,a,f){(f?Cr(s,a,f):a===t)?a=1:a=ot(a);var p=it(s)?kx:Xx;return p(s,a)}function iC(s){var a=it(s)?Cx:Yx;return a(s)}function sC(s){if(s==null)return 0;if(Mr(s))return Rl(s)?oo(s):s.length;var a=vr(s);return a==ur||a==lr?s.size:Ld(s).length}function oC(s,a,f){var p=it(s)?bd:Zx;return f&&Cr(s,a,f)&&(a=t),p(s,Ke(a,3))}var uC=lt(function(s,a){if(s==null)return[];var f=a.length;return f>1&&Cr(s,a[0],a[1])?a=[]:f>2&&Cr(a[0],a[1],a[2])&&(a=[a[0]]),O1(s,cr(a,1),[])}),Pl=UO||function(){return ir.Date.now()};function aC(s,a){if(typeof a!="function")throw new mn(i);return s=ot(s),function(){if(--s<1)return a.apply(this,arguments)}}function vv(s,a,f){return a=f?t:a,a=s&&a==null?s.length:a,gi(s,me,t,t,t,t,a)}function yv(s,a){var f;if(typeof a!="function")throw new mn(i);return s=ot(s),function(){return--s>0&&(f=a.apply(this,arguments)),s<=1&&(a=t),f}}var uh=lt(function(s,a,f){var p=_;if(f.length){var m=ji(f,po(uh));p|=Oe}return gi(s,p,a,f,m)}),bv=lt(function(s,a,f){var p=_|k;if(f.length){var m=ji(f,po(bv));p|=Oe}return gi(a,p,s,f,m)});function wv(s,a,f){a=f?t:a;var p=gi(s,q,t,t,t,t,t,a);return p.placeholder=wv.placeholder,p}function Sv(s,a,f){a=f?t:a;var p=gi(s,be,t,t,t,t,t,a);return p.placeholder=Sv.placeholder,p}function _v(s,a,f){var p,m,w,x,E,T,Se=0,_e=!1,xe=!1,Ne=!0;if(typeof s!="function")throw new mn(i);a=Sn(a)||0,zt(f)&&(_e=!!f.leading,xe="maxWait"in f,w=xe?nr(Sn(f.maxWait)||0,a):w,Ne="trailing"in f?!!f.trailing:Ne);function je(Kt){var qn=p,wi=m;return p=m=t,Se=Kt,x=s.apply(wi,qn),x}function Ye(Kt){return Se=Kt,E=xu(pt,a),_e?je(Kt):x}function at(Kt){var qn=Kt-T,wi=Kt-Se,Uv=a-qn;return xe?mr(Uv,w-wi):Uv}function Ze(Kt){var qn=Kt-T,wi=Kt-Se;return T===t||qn>=a||qn<0||xe&&wi>=w}function pt(){var Kt=Pl();if(Ze(Kt))return yt(Kt);E=xu(pt,at(Kt))}function yt(Kt){return E=t,Ne&&p?je(Kt):(p=m=t,x)}function nn(){E!==t&&R1(E),Se=0,p=T=m=E=t}function Er(){return E===t?x:yt(Pl())}function sn(){var Kt=Pl(),qn=Ze(Kt);if(p=arguments,m=this,T=Kt,qn){if(E===t)return Ye(T);if(xe)return R1(E),E=xu(pt,a),je(T)}return E===t&&(E=xu(pt,a)),x}return sn.cancel=nn,sn.flush=Er,sn}var lC=lt(function(s,a){return f1(s,1,a)}),cC=lt(function(s,a,f){return f1(s,Sn(a)||0,f)});function fC(s){return gi(s,Ce)}function Al(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new mn(i);var f=function(){var p=arguments,m=a?a.apply(this,p):p[0],w=f.cache;if(w.has(m))return w.get(m);var x=s.apply(this,p);return f.cache=w.set(m,x)||w,x};return f.cache=new(Al.Cache||hi),f}Al.Cache=hi;function $l(s){if(typeof s!="function")throw new mn(i);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function dC(s){return yv(2,s)}var hC=Jx(function(s,a){a=a.length==1&&it(a[0])?Bt(a[0],en(Ke())):Bt(cr(a,1),en(Ke()));var f=a.length;return lt(function(p){for(var m=-1,w=mr(p.length,f);++m<w;)p[m]=a[m].call(this,p[m]);return Jr(s,this,p)})}),ah=lt(function(s,a){var f=ji(a,po(ah));return gi(s,Oe,t,a,f)}),Ov=lt(function(s,a){var f=ji(a,po(Ov));return gi(s,Ae,t,a,f)}),pC=mi(function(s,a){return gi(s,Ie,t,t,t,a)});function gC(s,a){if(typeof s!="function")throw new mn(i);return a=a===t?a:ot(a),lt(s,a)}function mC(s,a){if(typeof s!="function")throw new mn(i);return a=a==null?0:nr(ot(a),0),lt(function(f){var p=f[a],m=Xi(f,0,a);return p&&zi(m,p),Jr(s,this,m)})}function vC(s,a,f){var p=!0,m=!0;if(typeof s!="function")throw new mn(i);return zt(f)&&(p="leading"in f?!!f.leading:p,m="trailing"in f?!!f.trailing:m),_v(s,a,{leading:p,maxWait:a,trailing:m})}function yC(s){return vv(s,1)}function bC(s,a){return ah(Wd(a),s)}function wC(){if(!arguments.length)return[];var s=arguments[0];return it(s)?s:[s]}function SC(s){return yn(s,g)}function _C(s,a){return a=typeof a=="function"?a:t,yn(s,g,a)}function OC(s){return yn(s,d|g)}function xC(s,a){return a=typeof a=="function"?a:t,yn(s,d|g,a)}function kC(s,a){return a==null||c1(s,a,sr(a))}function Ln(s,a){return s===a||s!==s&&a!==a}var CC=_l(Nd),EC=_l(function(s,a){return s>=a}),Ts=m1(function(){return arguments}())?m1:function(s){return Ht(s)&&Pt.call(s,"callee")&&!r1.call(s,"callee")},it=ne.isArray,PC=Lm?en(Lm):Mx;function Mr(s){return s!=null&&Tl(s.length)&&!yi(s)}function Xt(s){return Ht(s)&&Mr(s)}function AC(s){return s===!0||s===!1||Ht(s)&&kr(s)==Qe}var Ki=jO||bh,$C=qm?en(qm):Lx;function TC(s){return Ht(s)&&s.nodeType===1&&!ku(s)}function RC(s){if(s==null)return!0;if(Mr(s)&&(it(s)||typeof s=="string"||typeof s.splice=="function"||Ki(s)||go(s)||Ts(s)))return!s.length;var a=vr(s);if(a==ur||a==lr)return!s.size;if(Ou(s))return!Ld(s).length;for(var f in s)if(Pt.call(s,f))return!1;return!0}function IC(s,a){return wu(s,a)}function NC(s,a,f){f=typeof f=="function"?f:t;var p=f?f(s,a):t;return p===t?wu(s,a,t,f):!!p}function lh(s){if(!Ht(s))return!1;var a=kr(s);return a==kt||a==st||typeof s.message=="string"&&typeof s.name=="string"&&!ku(s)}function DC(s){return typeof s=="number"&&i1(s)}function yi(s){if(!zt(s))return!1;var a=kr(s);return a==gr||a==ci||a==Le||a==ro}function xv(s){return typeof s=="number"&&s==ot(s)}function Tl(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=P}function zt(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function Ht(s){return s!=null&&typeof s=="object"}var kv=Bm?en(Bm):Bx;function MC(s,a){return s===a||Md(s,a,Jd(a))}function LC(s,a,f){return f=typeof f=="function"?f:t,Md(s,a,Jd(a),f)}function qC(s){return Cv(s)&&s!=+s}function BC(s){if(_8(s))throw new rt(n);return v1(s)}function FC(s){return s===null}function UC(s){return s==null}function Cv(s){return typeof s=="number"||Ht(s)&&kr(s)==Dt}function ku(s){if(!Ht(s)||kr(s)!=Nr)return!1;var a=il(s);if(a===null)return!0;var f=Pt.call(a,"constructor")&&a.constructor;return typeof f=="function"&&f instanceof f&&el.call(f)==LO}var ch=Fm?en(Fm):Fx;function zC(s){return xv(s)&&s>=-P&&s<=P}var Ev=Um?en(Um):Ux;function Rl(s){return typeof s=="string"||!it(s)&&Ht(s)&&kr(s)==Gn}function rn(s){return typeof s=="symbol"||Ht(s)&&kr(s)==Xn}var go=zm?en(zm):zx;function jC(s){return s===t}function QC(s){return Ht(s)&&vr(s)==Nn}function HC(s){return Ht(s)&&kr(s)==Fi}var WC=_l(qd),VC=_l(function(s,a){return s<=a});function Pv(s){if(!s)return[];if(Mr(s))return Rl(s)?Dn(s):Dr(s);if(du&&s[du])return kO(s[du]());var a=vr(s),f=a==ur?kd:a==lr?Ya:mo;return f(s)}function bi(s){if(!s)return s===0?s:0;if(s=Sn(s),s===O||s===-O){var a=s<0?-1:1;return a*R}return s===s?s:0}function ot(s){var a=bi(s),f=a%1;return a===a?f?a-f:a:0}function Av(s){return s?Es(ot(s),0,$):0}function Sn(s){if(typeof s=="number")return s;if(rn(s))return ge;if(zt(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=zt(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=Gm(s);var f=P5.test(s);return f||$5.test(s)?aO(s.slice(2),f?2:8):E5.test(s)?ge:+s}function $v(s){return Yn(s,Lr(s))}function GC(s){return s?Es(ot(s),-P,P):s===0?s:0}function Et(s){return s==null?"":tn(s)}var XC=fo(function(s,a){if(Ou(a)||Mr(a)){Yn(a,sr(a),s);return}for(var f in a)Pt.call(a,f)&&vu(s,f,a[f])}),Tv=fo(function(s,a){Yn(a,Lr(a),s)}),Il=fo(function(s,a,f,p){Yn(a,Lr(a),s,p)}),KC=fo(function(s,a,f,p){Yn(a,sr(a),s,p)}),YC=mi(Td);function ZC(s,a){var f=co(s);return a==null?f:l1(f,a)}var JC=lt(function(s,a){s=Rt(s);var f=-1,p=a.length,m=p>2?a[2]:t;for(m&&Cr(a[0],a[1],m)&&(p=1);++f<p;)for(var w=a[f],x=Lr(w),E=-1,T=x.length;++E<T;){var Se=x[E],_e=s[Se];(_e===t||Ln(_e,uo[Se])&&!Pt.call(s,Se))&&(s[Se]=w[Se])}return s}),eE=lt(function(s){return s.push(t,G1),Jr(Rv,t,s)});function tE(s,a){return Qm(s,Ke(a,3),Kn)}function rE(s,a){return Qm(s,Ke(a,3),Id)}function nE(s,a){return s==null?s:Rd(s,Ke(a,3),Lr)}function iE(s,a){return s==null?s:p1(s,Ke(a,3),Lr)}function sE(s,a){return s&&Kn(s,Ke(a,3))}function oE(s,a){return s&&Id(s,Ke(a,3))}function uE(s){return s==null?[]:pl(s,sr(s))}function aE(s){return s==null?[]:pl(s,Lr(s))}function fh(s,a,f){var p=s==null?t:Ps(s,a);return p===t?f:p}function lE(s,a){return s!=null&&Y1(s,a,Rx)}function dh(s,a){return s!=null&&Y1(s,a,Ix)}var cE=j1(function(s,a,f){a!=null&&typeof a.toString!="function"&&(a=tl.call(a)),s[a]=f},ph(qr)),fE=j1(function(s,a,f){a!=null&&typeof a.toString!="function"&&(a=tl.call(a)),Pt.call(s,a)?s[a].push(f):s[a]=[f]},Ke),dE=lt(bu);function sr(s){return Mr(s)?u1(s):Ld(s)}function Lr(s){return Mr(s)?u1(s,!0):jx(s)}function hE(s,a){var f={};return a=Ke(a,3),Kn(s,function(p,m,w){pi(f,a(p,m,w),p)}),f}function pE(s,a){var f={};return a=Ke(a,3),Kn(s,function(p,m,w){pi(f,m,a(p,m,w))}),f}var gE=fo(function(s,a,f){gl(s,a,f)}),Rv=fo(function(s,a,f,p){gl(s,a,f,p)}),mE=mi(function(s,a){var f={};if(s==null)return f;var p=!1;a=Bt(a,function(w){return w=Gi(w,s),p||(p=w.length>1),w}),Yn(s,Yd(s),f),p&&(f=yn(f,d|h|g,c8));for(var m=a.length;m--;)jd(f,a[m]);return f});function vE(s,a){return Iv(s,$l(Ke(a)))}var yE=mi(function(s,a){return s==null?{}:Hx(s,a)});function Iv(s,a){if(s==null)return{};var f=Bt(Yd(s),function(p){return[p]});return a=Ke(a),x1(s,f,function(p,m){return a(p,m[0])})}function bE(s,a,f){a=Gi(a,s);var p=-1,m=a.length;for(m||(m=1,s=t);++p<m;){var w=s==null?t:s[Zn(a[p])];w===t&&(p=m,w=f),s=yi(w)?w.call(s):w}return s}function wE(s,a,f){return s==null?s:Su(s,a,f)}function SE(s,a,f,p){return p=typeof p=="function"?p:t,s==null?s:Su(s,a,f,p)}var Nv=W1(sr),Dv=W1(Lr);function _E(s,a,f){var p=it(s),m=p||Ki(s)||go(s);if(a=Ke(a,4),f==null){var w=s&&s.constructor;m?f=p?new w:[]:zt(s)?f=yi(w)?co(il(s)):{}:f={}}return(m?gn:Kn)(s,function(x,E,T){return a(f,x,E,T)}),f}function OE(s,a){return s==null?!0:jd(s,a)}function xE(s,a,f){return s==null?s:A1(s,a,Wd(f))}function kE(s,a,f,p){return p=typeof p=="function"?p:t,s==null?s:A1(s,a,Wd(f),p)}function mo(s){return s==null?[]:xd(s,sr(s))}function CE(s){return s==null?[]:xd(s,Lr(s))}function EE(s,a,f){return f===t&&(f=a,a=t),f!==t&&(f=Sn(f),f=f===f?f:0),a!==t&&(a=Sn(a),a=a===a?a:0),Es(Sn(s),a,f)}function PE(s,a,f){return a=bi(a),f===t?(f=a,a=0):f=bi(f),s=Sn(s),Nx(s,a,f)}function AE(s,a,f){if(f&&typeof f!="boolean"&&Cr(s,a,f)&&(a=f=t),f===t&&(typeof a=="boolean"?(f=a,a=t):typeof s=="boolean"&&(f=s,s=t)),s===t&&a===t?(s=0,a=1):(s=bi(s),a===t?(a=s,s=0):a=bi(a)),s>a){var p=s;s=a,a=p}if(f||s%1||a%1){var m=s1();return mr(s+m*(a-s+uO("1e-"+((m+"").length-1))),a)}return Fd(s,a)}var $E=ho(function(s,a,f){return a=a.toLowerCase(),s+(f?Mv(a):a)});function Mv(s){return hh(Et(s).toLowerCase())}function Lv(s){return s=Et(s),s&&s.replace(R5,wO).replace(Y5,"")}function TE(s,a,f){s=Et(s),a=tn(a);var p=s.length;f=f===t?p:Es(ot(f),0,p);var m=f;return f-=a.length,f>=0&&s.slice(f,m)==a}function RE(s){return s=Et(s),s&&ud.test(s)?s.replace(cu,SO):s}function IE(s){return s=Et(s),s&&y5.test(s)?s.replace(ad,"\\$&"):s}var NE=ho(function(s,a,f){return s+(f?"-":"")+a.toLowerCase()}),DE=ho(function(s,a,f){return s+(f?" ":"")+a.toLowerCase()}),ME=F1("toLowerCase");function LE(s,a,f){s=Et(s),a=ot(a);var p=a?oo(s):0;if(!a||p>=a)return s;var m=(a-p)/2;return Sl(al(m),f)+s+Sl(ul(m),f)}function qE(s,a,f){s=Et(s),a=ot(a);var p=a?oo(s):0;return a&&p<a?s+Sl(a-p,f):s}function BE(s,a,f){s=Et(s),a=ot(a);var p=a?oo(s):0;return a&&p<a?Sl(a-p,f)+s:s}function FE(s,a,f){return f||a==null?a=0:a&&(a=+a),VO(Et(s).replace(ld,""),a||0)}function UE(s,a,f){return(f?Cr(s,a,f):a===t)?a=1:a=ot(a),Ud(Et(s),a)}function zE(){var s=arguments,a=Et(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var jE=ho(function(s,a,f){return s+(f?"_":"")+a.toLowerCase()});function QE(s,a,f){return f&&typeof f!="number"&&Cr(s,a,f)&&(a=f=t),f=f===t?$:f>>>0,f?(s=Et(s),s&&(typeof a=="string"||a!=null&&!ch(a))&&(a=tn(a),!a&&so(s))?Xi(Dn(s),0,f):s.split(a,f)):[]}var HE=ho(function(s,a,f){return s+(f?" ":"")+hh(a)});function WE(s,a,f){return s=Et(s),f=f==null?0:Es(ot(f),0,s.length),a=tn(a),s.slice(f,f+a.length)==a}function VE(s,a,f){var p=y.templateSettings;f&&Cr(s,a,f)&&(a=t),s=Et(s),a=Il({},a,p,V1);var m=Il({},a.imports,p.imports,V1),w=sr(m),x=xd(m,w),E,T,Se=0,_e=a.interpolate||Wa,xe="__p += '",Ne=Cd((a.escape||Wa).source+"|"+_e.source+"|"+(_e===gm?C5:Wa).source+"|"+(a.evaluate||Wa).source+"|$","g"),je="//# sourceURL="+(Pt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rO+"]")+`
`;s.replace(Ne,function(Ze,pt,yt,nn,Er,sn){return yt||(yt=nn),xe+=s.slice(Se,sn).replace(I5,_O),pt&&(E=!0,xe+=`' +
__e(`+pt+`) +
'`),Er&&(T=!0,xe+=`';
`+Er+`;
__p += '`),yt&&(xe+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),Se=sn+Ze.length,Ze}),xe+=`';
`;var Ye=Pt.call(a,"variable")&&a.variable;if(!Ye)xe=`with (obj) {
`+xe+`
}
`;else if(x5.test(Ye))throw new rt(o);xe=(T?xe.replace(au,""):xe).replace(Ss,"$1").replace(lu,"$1;"),xe="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var at=Bv(function(){return Ct(w,je+"return "+xe).apply(t,x)});if(at.source=xe,lh(at))throw at;return at}function GE(s){return Et(s).toLowerCase()}function XE(s){return Et(s).toUpperCase()}function KE(s,a,f){if(s=Et(s),s&&(f||a===t))return Gm(s);if(!s||!(a=tn(a)))return s;var p=Dn(s),m=Dn(a),w=Xm(p,m),x=Km(p,m)+1;return Xi(p,w,x).join("")}function YE(s,a,f){if(s=Et(s),s&&(f||a===t))return s.slice(0,Zm(s)+1);if(!s||!(a=tn(a)))return s;var p=Dn(s),m=Km(p,Dn(a))+1;return Xi(p,0,m).join("")}function ZE(s,a,f){if(s=Et(s),s&&(f||a===t))return s.replace(ld,"");if(!s||!(a=tn(a)))return s;var p=Dn(s),m=Xm(p,Dn(a));return Xi(p,m).join("")}function JE(s,a){var f=Ge,p=ze;if(zt(a)){var m="separator"in a?a.separator:m;f="length"in a?ot(a.length):f,p="omission"in a?tn(a.omission):p}s=Et(s);var w=s.length;if(so(s)){var x=Dn(s);w=x.length}if(f>=w)return s;var E=f-oo(p);if(E<1)return p;var T=x?Xi(x,0,E).join(""):s.slice(0,E);if(m===t)return T+p;if(x&&(E+=T.length-E),ch(m)){if(s.slice(E).search(m)){var Se,_e=T;for(m.global||(m=Cd(m.source,Et(mm.exec(m))+"g")),m.lastIndex=0;Se=m.exec(_e);)var xe=Se.index;T=T.slice(0,xe===t?E:xe)}}else if(s.indexOf(tn(m),E)!=E){var Ne=T.lastIndexOf(m);Ne>-1&&(T=T.slice(0,Ne))}return T+p}function e6(s){return s=Et(s),s&&od.test(s)?s.replace(_s,AO):s}var t6=ho(function(s,a,f){return s+(f?" ":"")+a.toUpperCase()}),hh=F1("toUpperCase");function qv(s,a,f){return s=Et(s),a=f?t:a,a===t?xO(s)?RO(s):gO(s):s.match(a)||[]}var Bv=lt(function(s,a){try{return Jr(s,t,a)}catch(f){return lh(f)?f:new rt(f)}}),r6=mi(function(s,a){return gn(a,function(f){f=Zn(f),pi(s,f,uh(s[f],s))}),s});function n6(s){var a=s==null?0:s.length,f=Ke();return s=a?Bt(s,function(p){if(typeof p[1]!="function")throw new mn(i);return[f(p[0]),p[1]]}):[],lt(function(p){for(var m=-1;++m<a;){var w=s[m];if(Jr(w[0],this,p))return Jr(w[1],this,p)}})}function i6(s){return Ax(yn(s,d))}function ph(s){return function(){return s}}function s6(s,a){return s==null||s!==s?a:s}var o6=z1(),u6=z1(!0);function qr(s){return s}function gh(s){return y1(typeof s=="function"?s:yn(s,d))}function a6(s){return w1(yn(s,d))}function l6(s,a){return S1(s,yn(a,d))}var c6=lt(function(s,a){return function(f){return bu(f,s,a)}}),f6=lt(function(s,a){return function(f){return bu(s,f,a)}});function mh(s,a,f){var p=sr(a),m=pl(a,p);f==null&&!(zt(a)&&(m.length||!p.length))&&(f=a,a=s,s=this,m=pl(a,sr(a)));var w=!(zt(f)&&"chain"in f)||!!f.chain,x=yi(s);return gn(m,function(E){var T=a[E];s[E]=T,x&&(s.prototype[E]=function(){var Se=this.__chain__;if(w||Se){var _e=s(this.__wrapped__),xe=_e.__actions__=Dr(this.__actions__);return xe.push({func:T,args:arguments,thisArg:s}),_e.__chain__=Se,_e}return T.apply(s,zi([this.value()],arguments))})}),s}function d6(){return ir._===this&&(ir._=qO),this}function vh(){}function h6(s){return s=ot(s),lt(function(a){return _1(a,s)})}var p6=Gd(Bt),g6=Gd(jm),m6=Gd(bd);function Fv(s){return th(s)?wd(Zn(s)):Wx(s)}function v6(s){return function(a){return s==null?t:Ps(s,a)}}var y6=Q1(),b6=Q1(!0);function yh(){return[]}function bh(){return!1}function w6(){return{}}function S6(){return""}function _6(){return!0}function O6(s,a){if(s=ot(s),s<1||s>P)return[];var f=$,p=mr(s,$);a=Ke(a),s-=$;for(var m=Od(p,a);++f<s;)a(f);return m}function x6(s){return it(s)?Bt(s,Zn):rn(s)?[s]:Dr(ov(Et(s)))}function k6(s){var a=++MO;return Et(s)+a}var C6=wl(function(s,a){return s+a},0),E6=Xd("ceil"),P6=wl(function(s,a){return s/a},1),A6=Xd("floor");function $6(s){return s&&s.length?hl(s,qr,Nd):t}function T6(s,a){return s&&s.length?hl(s,Ke(a,2),Nd):t}function R6(s){return Wm(s,qr)}function I6(s,a){return Wm(s,Ke(a,2))}function N6(s){return s&&s.length?hl(s,qr,qd):t}function D6(s,a){return s&&s.length?hl(s,Ke(a,2),qd):t}var M6=wl(function(s,a){return s*a},1),L6=Xd("round"),q6=wl(function(s,a){return s-a},0);function B6(s){return s&&s.length?_d(s,qr):0}function F6(s,a){return s&&s.length?_d(s,Ke(a,2)):0}return y.after=aC,y.ary=vv,y.assign=XC,y.assignIn=Tv,y.assignInWith=Il,y.assignWith=KC,y.at=YC,y.before=yv,y.bind=uh,y.bindAll=r6,y.bindKey=bv,y.castArray=wC,y.chain=pv,y.chunk=A8,y.compact=$8,y.concat=T8,y.cond=n6,y.conforms=i6,y.constant=ph,y.countBy=Bk,y.create=ZC,y.curry=wv,y.curryRight=Sv,y.debounce=_v,y.defaults=JC,y.defaultsDeep=eE,y.defer=lC,y.delay=cC,y.difference=R8,y.differenceBy=I8,y.differenceWith=N8,y.drop=D8,y.dropRight=M8,y.dropRightWhile=L8,y.dropWhile=q8,y.fill=B8,y.filter=Uk,y.flatMap=Qk,y.flatMapDeep=Hk,y.flatMapDepth=Wk,y.flatten=cv,y.flattenDeep=F8,y.flattenDepth=U8,y.flip=fC,y.flow=o6,y.flowRight=u6,y.fromPairs=z8,y.functions=uE,y.functionsIn=aE,y.groupBy=Vk,y.initial=Q8,y.intersection=H8,y.intersectionBy=W8,y.intersectionWith=V8,y.invert=cE,y.invertBy=fE,y.invokeMap=Xk,y.iteratee=gh,y.keyBy=Kk,y.keys=sr,y.keysIn=Lr,y.map=El,y.mapKeys=hE,y.mapValues=pE,y.matches=a6,y.matchesProperty=l6,y.memoize=Al,y.merge=gE,y.mergeWith=Rv,y.method=c6,y.methodOf=f6,y.mixin=mh,y.negate=$l,y.nthArg=h6,y.omit=mE,y.omitBy=vE,y.once=dC,y.orderBy=Yk,y.over=p6,y.overArgs=hC,y.overEvery=g6,y.overSome=m6,y.partial=ah,y.partialRight=Ov,y.partition=Zk,y.pick=yE,y.pickBy=Iv,y.property=Fv,y.propertyOf=v6,y.pull=Y8,y.pullAll=dv,y.pullAllBy=Z8,y.pullAllWith=J8,y.pullAt=ek,y.range=y6,y.rangeRight=b6,y.rearg=pC,y.reject=tC,y.remove=tk,y.rest=gC,y.reverse=sh,y.sampleSize=nC,y.set=wE,y.setWith=SE,y.shuffle=iC,y.slice=rk,y.sortBy=uC,y.sortedUniq=lk,y.sortedUniqBy=ck,y.split=QE,y.spread=mC,y.tail=fk,y.take=dk,y.takeRight=hk,y.takeRightWhile=pk,y.takeWhile=gk,y.tap=$k,y.throttle=vC,y.thru=Cl,y.toArray=Pv,y.toPairs=Nv,y.toPairsIn=Dv,y.toPath=x6,y.toPlainObject=$v,y.transform=_E,y.unary=yC,y.union=mk,y.unionBy=vk,y.unionWith=yk,y.uniq=bk,y.uniqBy=wk,y.uniqWith=Sk,y.unset=OE,y.unzip=oh,y.unzipWith=hv,y.update=xE,y.updateWith=kE,y.values=mo,y.valuesIn=CE,y.without=_k,y.words=qv,y.wrap=bC,y.xor=Ok,y.xorBy=xk,y.xorWith=kk,y.zip=Ck,y.zipObject=Ek,y.zipObjectDeep=Pk,y.zipWith=Ak,y.entries=Nv,y.entriesIn=Dv,y.extend=Tv,y.extendWith=Il,mh(y,y),y.add=C6,y.attempt=Bv,y.camelCase=$E,y.capitalize=Mv,y.ceil=E6,y.clamp=EE,y.clone=SC,y.cloneDeep=OC,y.cloneDeepWith=xC,y.cloneWith=_C,y.conformsTo=kC,y.deburr=Lv,y.defaultTo=s6,y.divide=P6,y.endsWith=TE,y.eq=Ln,y.escape=RE,y.escapeRegExp=IE,y.every=Fk,y.find=zk,y.findIndex=av,y.findKey=tE,y.findLast=jk,y.findLastIndex=lv,y.findLastKey=rE,y.floor=A6,y.forEach=gv,y.forEachRight=mv,y.forIn=nE,y.forInRight=iE,y.forOwn=sE,y.forOwnRight=oE,y.get=fh,y.gt=CC,y.gte=EC,y.has=lE,y.hasIn=dh,y.head=fv,y.identity=qr,y.includes=Gk,y.indexOf=j8,y.inRange=PE,y.invoke=dE,y.isArguments=Ts,y.isArray=it,y.isArrayBuffer=PC,y.isArrayLike=Mr,y.isArrayLikeObject=Xt,y.isBoolean=AC,y.isBuffer=Ki,y.isDate=$C,y.isElement=TC,y.isEmpty=RC,y.isEqual=IC,y.isEqualWith=NC,y.isError=lh,y.isFinite=DC,y.isFunction=yi,y.isInteger=xv,y.isLength=Tl,y.isMap=kv,y.isMatch=MC,y.isMatchWith=LC,y.isNaN=qC,y.isNative=BC,y.isNil=UC,y.isNull=FC,y.isNumber=Cv,y.isObject=zt,y.isObjectLike=Ht,y.isPlainObject=ku,y.isRegExp=ch,y.isSafeInteger=zC,y.isSet=Ev,y.isString=Rl,y.isSymbol=rn,y.isTypedArray=go,y.isUndefined=jC,y.isWeakMap=QC,y.isWeakSet=HC,y.join=G8,y.kebabCase=NE,y.last=wn,y.lastIndexOf=X8,y.lowerCase=DE,y.lowerFirst=ME,y.lt=WC,y.lte=VC,y.max=$6,y.maxBy=T6,y.mean=R6,y.meanBy=I6,y.min=N6,y.minBy=D6,y.stubArray=yh,y.stubFalse=bh,y.stubObject=w6,y.stubString=S6,y.stubTrue=_6,y.multiply=M6,y.nth=K8,y.noConflict=d6,y.noop=vh,y.now=Pl,y.pad=LE,y.padEnd=qE,y.padStart=BE,y.parseInt=FE,y.random=AE,y.reduce=Jk,y.reduceRight=eC,y.repeat=UE,y.replace=zE,y.result=bE,y.round=L6,y.runInContext=A,y.sample=rC,y.size=sC,y.snakeCase=jE,y.some=oC,y.sortedIndex=nk,y.sortedIndexBy=ik,y.sortedIndexOf=sk,y.sortedLastIndex=ok,y.sortedLastIndexBy=uk,y.sortedLastIndexOf=ak,y.startCase=HE,y.startsWith=WE,y.subtract=q6,y.sum=B6,y.sumBy=F6,y.template=VE,y.times=O6,y.toFinite=bi,y.toInteger=ot,y.toLength=Av,y.toLower=GE,y.toNumber=Sn,y.toSafeInteger=GC,y.toString=Et,y.toUpper=XE,y.trim=KE,y.trimEnd=YE,y.trimStart=ZE,y.truncate=JE,y.unescape=e6,y.uniqueId=k6,y.upperCase=t6,y.upperFirst=hh,y.each=gv,y.eachRight=mv,y.first=fv,mh(y,function(){var s={};return Kn(y,function(a,f){Pt.call(y.prototype,f)||(s[f]=a)}),s}(),{chain:!1}),y.VERSION=e,gn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){y[s].placeholder=y}),gn(["drop","take"],function(s,a){mt.prototype[s]=function(f){f=f===t?1:nr(ot(f),0);var p=this.__filtered__&&!a?new mt(this):this.clone();return p.__filtered__?p.__takeCount__=mr(f,p.__takeCount__):p.__views__.push({size:mr(f,$),type:s+(p.__dir__<0?"Right":"")}),p},mt.prototype[s+"Right"]=function(f){return this.reverse()[s](f).reverse()}}),gn(["filter","map","takeWhile"],function(s,a){var f=a+1,p=f==he||f==le;mt.prototype[s]=function(m){var w=this.clone();return w.__iteratees__.push({iteratee:Ke(m,3),type:f}),w.__filtered__=w.__filtered__||p,w}}),gn(["head","last"],function(s,a){var f="take"+(a?"Right":"");mt.prototype[s]=function(){return this[f](1).value()[0]}}),gn(["initial","tail"],function(s,a){var f="drop"+(a?"":"Right");mt.prototype[s]=function(){return this.__filtered__?new mt(this):this[f](1)}}),mt.prototype.compact=function(){return this.filter(qr)},mt.prototype.find=function(s){return this.filter(s).head()},mt.prototype.findLast=function(s){return this.reverse().find(s)},mt.prototype.invokeMap=lt(function(s,a){return typeof s=="function"?new mt(this):this.map(function(f){return bu(f,s,a)})}),mt.prototype.reject=function(s){return this.filter($l(Ke(s)))},mt.prototype.slice=function(s,a){s=ot(s);var f=this;return f.__filtered__&&(s>0||a<0)?new mt(f):(s<0?f=f.takeRight(-s):s&&(f=f.drop(s)),a!==t&&(a=ot(a),f=a<0?f.dropRight(-a):f.take(a-s)),f)},mt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},mt.prototype.toArray=function(){return this.take($)},Kn(mt.prototype,function(s,a){var f=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),m=y[p?"take"+(a=="last"?"Right":""):a],w=p||/^find/.test(a);m&&(y.prototype[a]=function(){var x=this.__wrapped__,E=p?[1]:arguments,T=x instanceof mt,Se=E[0],_e=T||it(x),xe=function(pt){var yt=m.apply(y,zi([pt],E));return p&&Ne?yt[0]:yt};_e&&f&&typeof Se=="function"&&Se.length!=1&&(T=_e=!1);var Ne=this.__chain__,je=!!this.__actions__.length,Ye=w&&!Ne,at=T&&!je;if(!w&&_e){x=at?x:new mt(this);var Ze=s.apply(x,E);return Ze.__actions__.push({func:Cl,args:[xe],thisArg:t}),new vn(Ze,Ne)}return Ye&&at?s.apply(this,E):(Ze=this.thru(xe),Ye?p?Ze.value()[0]:Ze.value():Ze)})}),gn(["pop","push","shift","sort","splice","unshift"],function(s){var a=Za[s],f=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",p=/^(?:pop|shift)$/.test(s);y.prototype[s]=function(){var m=arguments;if(p&&!this.__chain__){var w=this.value();return a.apply(it(w)?w:[],m)}return this[f](function(x){return a.apply(it(x)?x:[],m)})}}),Kn(mt.prototype,function(s,a){var f=y[a];if(f){var p=f.name+"";Pt.call(lo,p)||(lo[p]=[]),lo[p].push({name:a,func:f})}}),lo[bl(t,k).name]=[{name:"wrapper",func:t}],mt.prototype.clone=ex,mt.prototype.reverse=tx,mt.prototype.value=rx,y.prototype.at=Tk,y.prototype.chain=Rk,y.prototype.commit=Ik,y.prototype.next=Nk,y.prototype.plant=Mk,y.prototype.reverse=Lk,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=qk,y.prototype.first=y.prototype.head,du&&(y.prototype[du]=Dk),y},Qi=IO();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ir._=Qi,define(function(){return Qi})):Os?((Os.exports=Qi)._=Qi,gd._=Qi):ir._=Qi}).call(xo)});var Vh=we((Lq,Ty)=>{"use strict";S();var IP={mode:"lazy"};Ty.exports=IP});var ic=we((Bq,Ry)=>{"use strict";S();var NP=RegExp.prototype.exec;Ry.exports=NP});var Ny=we((Uq,Iy)=>{"use strict";S();Iy.exports={_hasUFlag:!1,shouldRun:function(e){var r=e.flags.includes("s");return r?(e.flags=e.flags.replace("s",""),this._hasUFlag=e.flags.includes("u"),!0):!1},Char:function(e){var r=e.node;if(!(r.kind!=="meta"||r.value!==".")){var n="\\uFFFF",i="\uFFFF";this._hasUFlag&&(n="\\u{10FFFF}",i="\u{10FFFF}"),e.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:n,kind:"unicode",symbol:i}}]})}}}});var My=we((jq,Dy)=>{"use strict";S();Dy.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(e){var r=e.node;r.name&&(this._groupNames[r.name]=r.number,delete r.name,delete r.nameRaw)},Backreference:function(e){var r=e.node;r.kind==="name"&&(r.kind="number",r.reference=r.number,delete r.referenceRaw)}}});var qy=we((Hq,Ly)=>{"use strict";S();Ly.exports={RegExp:function(e){var r=e.node;r.flags.includes("x")&&(r.flags=r.flags.replace("x",""))}}});var Fy=we((Vq,By)=>{"use strict";S();By.exports={dotAll:Ny(),namedCapturingGroups:My(),xFlag:qy()}});var Gh=we((Xq,Uy)=>{"use strict";S();function an(t){return t?DP[t.type](t):""}var DP={RegExp:function(e){return"/"+an(e.body)+"/"+e.flags},Alternative:function(e){return(e.expressions||[]).map(an).join("")},Disjunction:function(e){return an(e.left)+"|"+an(e.right)},Group:function(e){var r=an(e.expression);return e.capturing?e.name?"(?<"+(e.nameRaw||e.name)+">"+r+")":"("+r+")":"(?:"+r+")"},Backreference:function(e){switch(e.kind){case"number":return"\\"+e.reference;case"name":return"\\k<"+(e.referenceRaw||e.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+e.kind)}},Assertion:function(e){switch(e.kind){case"^":case"$":case"\\b":case"\\B":return e.kind;case"Lookahead":{var r=an(e.assertion);return e.negative?"(?!"+r+")":"(?="+r+")"}case"Lookbehind":{var n=an(e.assertion);return e.negative?"(?<!"+n+")":"(?<="+n+")"}default:throw new TypeError("Unknown Assertion kind: "+e.kind)}},CharacterClass:function(e){var r=e.expressions.map(an).join("");return e.negative?"[^"+r+"]":"["+r+"]"},ClassRange:function(e){return an(e.from)+"-"+an(e.to)},Repetition:function(e){return""+an(e.expression)+an(e.quantifier)},Quantifier:function(e){var r=void 0,n=e.greedy?"":"?";switch(e.kind){case"+":case"?":case"*":r=e.kind;break;case"Range":e.from===e.to?r="{"+e.from+"}":e.to?r="{"+e.from+","+e.to+"}":r="{"+e.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+e.kind)}return""+r+n},Char:function(e){var r=e.value;switch(e.kind){case"simple":return e.escaped?"\\"+r:r;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return r;default:throw new TypeError("Unknown Char kind: "+e.kind)}},UnicodeProperty:function(e){var r=e.negative?"P":"p",n=void 0;return!e.shorthand&&!e.binary?n=e.name+"=":n="","\\"+r+"{"+n+e.value+"}"}};Uy.exports={generate:an}});var Hy=we((Yq,Qy)=>{"use strict";S();var Xh={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},Mu=ac(Xh),uc={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},Ji=ac(uc),Kh={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},sc=ac(Kh),Yh={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},oc=ac(Yh);function ac(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)e[n[i]]=r;else e[n]=r}return e}function MP(t){return Xh.hasOwnProperty(t)||Mu.hasOwnProperty(t)||uc.hasOwnProperty(t)||Ji.hasOwnProperty(t)}function LP(t,e){return BP(t)?zy(e):FP(t)?jy(e):!1}function qP(t){return Mu.hasOwnProperty(t)||Ji.hasOwnProperty(t)}function BP(t){return t==="General_Category"||t=="gc"}function FP(t){return t==="Script"||t==="Script_Extensions"||t==="sc"||t==="scx"}function zy(t){return Kh.hasOwnProperty(t)||sc.hasOwnProperty(t)}function jy(t){return Yh.hasOwnProperty(t)||oc.hasOwnProperty(t)}function UP(t){return uc.hasOwnProperty(t)||Ji.hasOwnProperty(t)}function zP(t){return Mu.hasOwnProperty(t)?Mu[t]:Ji.hasOwnProperty(t)?Ji[t]:null}function jP(t){return sc.hasOwnProperty(t)?sc[t]:oc.hasOwnProperty(t)?oc[t]:Ji.hasOwnProperty(t)?Ji[t]:null}Qy.exports={isAlias:qP,isValidName:MP,isValidValue:LP,isGeneralCategoryValue:zy,isScriptCategoryValue:jy,isBinaryPropertyName:UP,getCanonicalName:zP,getCanonicalValue:jP,NON_BINARY_PROP_NAMES_TO_ALIASES:Xh,NON_BINARY_ALIASES_TO_PROP_NAMES:Mu,BINARY_PROP_NAMES_TO_ALIASES:uc,BINARY_ALIASES_TO_PROP_NAMES:Ji,GENERAL_CATEGORY_VALUE_TO_ALIASES:Kh,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:sc,SCRIPT_VALUE_TO_ALIASES:Yh,SCRIPT_VALUE_ALIASES_TO_VALUE:oc}});var ib=we((Jq,nb)=>{"use strict";S();var QP=function(){function t(e,r){var n=[],i=!0,o=!1,u=void 0;try{for(var l=e[Symbol.iterator](),c;!(i=(c=l.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(d){o=!0,u=d}finally{try{!i&&l.return&&l.return()}finally{if(o)throw u}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function Yy(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var Jn=void 0,Zy=void 0,Zt={},De=void 0,Pe=void 0;function Ue(t,e){return Zt.options.captureLocations?!t||!e?t||e:{startOffset:t.startOffset,endOffset:e.endOffset,startLine:t.startLine,endLine:e.endLine,startColumn:t.startColumn,endColumn:e.endColumn}:null}var Jy="$",HP=[[-1,1,function(t,e){Pe=Ue(e,e),De=t}],[0,4,function(t,e,r,n,i,o,u,l){Pe=Ue(i,l),De=jt({type:"RegExp",body:e,flags:KP(n)},lc(i,l||u))}],[1,1,function(t,e){Pe=Ue(e,e),De=t}],[1,0,function(){Pe=null,De=""}],[2,1,function(t,e){Pe=Ue(e,e),De=t}],[2,2,function(t,e,r,n){Pe=Ue(r,n),De=t+e}],[3,1,function(t,e){Pe=Ue(e,e),De=t}],[4,1,function(t,e){Pe=Ue(e,e),De=t}],[4,3,function(t,e,r,n,i,o){Pe=Ue(n,o);var u=null;i&&(u=lc(n||i,o||i)),De=jt({type:"Disjunction",left:t,right:r},u)}],[5,1,function(t,e){if(Pe=Ue(e,e),t.length===0){De=null;return}t.length===1?De=jt(t[0],Pe):De=jt({type:"Alternative",expressions:t},Pe)}],[6,0,function(){Pe=null,De=[]}],[6,2,function(t,e,r,n){Pe=Ue(r,n),De=t.concat(e)}],[7,1,function(t,e){Pe=Ue(e,e),De=jt(Object.assign({type:"Assertion"},t),Pe)}],[7,2,function(t,e,r,n){Pe=Ue(r,n),De=t,e&&(De=jt({type:"Repetition",expression:t,quantifier:e},Pe))}],[8,1,function(t,e){Pe=Ue(e,e),De={kind:"^"}}],[8,1,function(t,e){Pe=Ue(e,e),De={kind:"$"}}],[8,1,function(t,e){Pe=Ue(e,e),De={kind:"\\b"}}],[8,1,function(t,e){Pe=Ue(e,e),De={kind:"\\B"}}],[8,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De={kind:"Lookahead",assertion:e}}],[8,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De={kind:"Lookahead",negative:!0,assertion:e}}],[8,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De={kind:"Lookbehind",assertion:e}}],[8,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De={kind:"Lookbehind",negative:!0,assertion:e}}],[9,1,function(t,e){Pe=Ue(e,e),De=t}],[9,1,function(t,e){Pe=Ue(e,e),De=t}],[9,1,function(t,e){Pe=Ue(e,e),De=t}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"simple",Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t.slice(1),"simple",Pe),De.escaped=!0}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"unicode",Pe),De.isSurrogatePair=!0}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"unicode",Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=GP(t,Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"control",Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"hex",Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"oct",Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=YP(t,Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"meta",Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=$r(t,"meta",Pe)}],[10,1,function(t,e){Pe=Ue(e,e),De=rA(t,e)}],[11,1,function(t,e){Pe=Ue(e,e),De=t}],[11,0],[12,1,function(t,e){Pe=Ue(e,e),De=t}],[12,2,function(t,e,r,n){Pe=Ue(r,n),t.greedy=!1,De=t}],[13,1,function(t,e){Pe=Ue(e,e),De=jt({type:"Quantifier",kind:t,greedy:!0},Pe)}],[13,1,function(t,e){Pe=Ue(e,e),De=jt({type:"Quantifier",kind:t,greedy:!0},Pe)}],[13,1,function(t,e){Pe=Ue(e,e),De=jt({type:"Quantifier",kind:t,greedy:!0},Pe)}],[13,1,function(t,e){Pe=Ue(e,e);var r=Jh(t);De=jt({type:"Quantifier",kind:"Range",from:r[0],to:r[0],greedy:!0},Pe)}],[13,1,function(t,e){Pe=Ue(e,e),De=jt({type:"Quantifier",kind:"Range",from:Jh(t)[0],greedy:!0},Pe)}],[13,1,function(t,e){Pe=Ue(e,e);var r=Jh(t);De=jt({type:"Quantifier",kind:"Range",from:r[0],to:r[1],greedy:!0},Pe)}],[14,1,function(t,e){Pe=Ue(e,e),De=t}],[14,1,function(t,e){Pe=Ue(e,e),De=t}],[15,3,function(t,e,r,n,i,o){Pe=Ue(n,o);var u=String(t),l=tb(u);if(!Zt.options.allowGroupNameDuplicates&&Lu.hasOwnProperty(l))throw new SyntaxError('Duplicate of the named group "'+l+'".');Lu[l]=t.groupNumber,De=jt({type:"Group",capturing:!0,name:l,nameRaw:u,number:t.groupNumber,expression:e},Pe)}],[15,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De=jt({type:"Group",capturing:!0,number:t.groupNumber,expression:e},Pe)}],[16,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De=jt({type:"Group",capturing:!1,expression:e},Pe)}],[17,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De=jt({type:"CharacterClass",negative:!0,expressions:e},Pe)}],[17,3,function(t,e,r,n,i,o){Pe=Ue(n,o),De=jt({type:"CharacterClass",expressions:e},Pe)}],[18,0,function(){Pe=null,De=[]}],[18,1,function(t,e){Pe=Ue(e,e),De=t}],[19,1,function(t,e){Pe=Ue(e,e),De=[t]}],[19,2,function(t,e,r,n){Pe=Ue(r,n),De=[t].concat(e)}],[19,4,function(t,e,r,n,i,o,u,l){Pe=Ue(i,l),Gy(t,r),De=[jt({type:"ClassRange",from:t,to:r},lc(i,u))],n&&(De=De.concat(n))}],[20,1,function(t,e){Pe=Ue(e,e),De=t}],[20,2,function(t,e,r,n){Pe=Ue(r,n),De=[t].concat(e)}],[20,4,function(t,e,r,n,i,o,u,l){Pe=Ue(i,l),Gy(t,r),De=[jt({type:"ClassRange",from:t,to:r},lc(i,u))],n&&(De=De.concat(n))}],[21,1,function(t,e){Pe=Ue(e,e),De=$r(t,"simple",Pe)}],[21,1,function(t,e){Pe=Ue(e,e),De=t}],[22,1,function(t,e){Pe=Ue(e,e),De=t}],[22,1,function(t,e){Pe=Ue(e,e),De=$r(t,"meta",Pe)}]],Wy={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},Zh=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],Ar=[],ln=void 0,WP=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){var t=Jn.slice(3,-1);return Xy(t,this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var t=this.getCurrentState();if(t==="u_class"&&Jn==="\\-")return"ESC_CHAR";if(t==="u"||t==="xu"||t==="u_class")throw new SyntaxError("invalid Unicode escape "+Jn);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return Jn=Jn.slice(3,-1),Xy(Jn,this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var t=this.getCurrentState();return this.pushState(t==="u"||t==="xu"?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var t=this.getCurrentState();return this.pushState(t==="u"||t==="xu"?"u_class":"class"),"L_BRACKET"}]],VP={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},Vy={type:Jy,value:""};ln={initString:function(e){return this._string=e,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(e){this._states.push(e)},begin:function(e){this.pushState(e)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(Vy);for(var e=this._string.slice(this._cursor),r=VP[this.getCurrentState()],n=0;n<r.length;n++){var i=r[n],o=WP[i],u=this._match(e,o[0]);if(e===""&&u===""&&this._cursor++,u!==null){Jn=u,Zy=Jn.length;var l=o[1].call(this);if(!l)return this.getNextToken();if(Array.isArray(l)){var c=l.slice(1);if(l=l[0],c.length>0){var d;(d=this._tokensQueue).unshift.apply(d,Yy(c))}}return this.onToken(this._toToken(l,Jn))}}if(this.isEOF())return this._cursor++,Vy;this.throwUnexpectedToken(e[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(e,r,n){var i=this._string.split(`
`)[r-1],o="";if(i){var u=" ".repeat(n);o=`

`+i+`
`+u+`^
`}throw new SyntaxError(o+'Unexpected token: "'+e+'" '+("at "+r+":"+n+"."))},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(e){var r=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var n=void 0;(n=r.exec(e))!==null;)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+n.index+1;this._tokenEndOffset=this._cursor+e.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return{type:e,value:r,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(e,r){var n=e.match(r);return n?(this._captureLocation(n[0]),this._cursor+=n[0].length,n[0]):null},onToken:function(e){return e}};Zt.lexer=ln;Zt.tokenizer=ln;Zt.options={captureLocations:!0};var Ms={setOptions:function(e){return Zt.options=e,this},getOptions:function(){return Zt.options},parse:function(e,r){if(!ln)throw new Error("Tokenizer instance wasn't specified.");ln.initString(e);var n=Zt.options;r&&(Zt.options=Object.assign({},Zt.options,r)),Ms.onParseBegin(e,ln,Zt.options),Ar.length=0,Ar.push(0);var i=ln.getNextToken(),o=null;do{i||(Zt.options=n,rb());var u=Ar[Ar.length-1],l=Wy[i.type];Zh[u].hasOwnProperty(l)||(Zt.options=n,Ky(i));var c=Zh[u][l];if(c[0]==="s"){var d=null;Zt.options.captureLocations&&(d={startOffset:i.startOffset,endOffset:i.endOffset,startLine:i.startLine,endLine:i.endLine,startColumn:i.startColumn,endColumn:i.endColumn}),o=this.onShift(i),Ar.push({symbol:Wy[o.type],semanticValue:o.value,loc:d},Number(c.slice(1))),i=ln.getNextToken()}else if(c[0]==="r"){var h=c.slice(1),g=HP[h],v=typeof g[2]=="function",b=v?[]:null,_=v&&Zt.options.captureLocations?[]:null;if(g[1]!==0)for(var k=g[1];k-- >0;){Ar.pop();var C=Ar.pop();v&&(b.unshift(C.semanticValue),_&&_.unshift(C.loc))}var q={symbol:g[0]};if(v){Jn=o?o.value:null,Zy=o?o.value.length:null;var be=_!==null?b.concat(_):b;g[2].apply(g,Yy(be)),q.semanticValue=De,_&&(q.loc=Pe)}var Oe=Ar[Ar.length-1],Ae=g[0];Ar.push(q,Zh[Oe][Ae])}else if(c==="acc"){Ar.pop();var me=Ar.pop();return(Ar.length!==1||Ar[0]!==0||ln.hasMoreTokens())&&(Zt.options=n,Ky(i)),me.hasOwnProperty("semanticValue")?(Zt.options=n,Ms.onParseEnd(me.semanticValue),me.semanticValue):(Ms.onParseEnd(),Zt.options=n,!0)}}while(ln.hasMoreTokens()||Ar.length>1)},setTokenizer:function(e){return ln=e,Ms},getTokenizer:function(){return ln},onParseBegin:function(e,r,n){},onParseEnd:function(e){},onShift:function(e){return e}},ep=0,Lu={},eb="";Ms.onParseBegin=function(t,e){eb=t,ep=0,Lu={};var r=t.lastIndexOf("/"),n=t.slice(r);n.includes("x")&&n.includes("u")?e.pushState("xu"):(n.includes("x")&&e.pushState("x"),n.includes("u")&&e.pushState("u"))};Ms.onShift=function(t){return(t.type==="L_PAREN"||t.type==="NAMED_CAPTURE_GROUP")&&(t.value=new String(t.value),t.value.groupNumber=++ep),t};function Jh(t){var e=t.match(/\d+/g).map(Number);if(Number.isFinite(e[1])&&e[1]<e[0])throw new SyntaxError("Numbers out of order in "+t+" quantifier");return e}function Gy(t,e){if(t.kind==="control"||e.kind==="control"||!isNaN(t.codePoint)&&!isNaN(e.codePoint)&&t.codePoint>e.codePoint)throw new SyntaxError("Range "+t.value+"-"+e.value+" out of order in character class")}var ko=Hy();function GP(t,e){var r=t[1]==="P",n=t.indexOf("="),i=t.slice(3,n!==-1?n:-1),o=void 0,u=n===-1&&ko.isGeneralCategoryValue(i),l=n===-1&&ko.isBinaryPropertyName(i);if(u)o=i,i="General_Category";else if(l)o=i;else{if(!ko.isValidName(i))throw new SyntaxError("Invalid unicode property name: "+i+".");if(o=t.slice(n+1,-1),!ko.isValidValue(i,o))throw new SyntaxError("Invalid "+i+" unicode property value: "+o+".")}return jt({type:"UnicodeProperty",name:i,value:o,negative:r,shorthand:u,binary:l,canonicalName:ko.getCanonicalName(i)||i,canonicalValue:ko.getCanonicalValue(o)||o},e)}function $r(t,e,r){var n=void 0,i=void 0;switch(e){case"decimal":{i=Number(t.slice(1)),n=String.fromCodePoint(i);break}case"oct":{i=parseInt(t.slice(1),8),n=String.fromCodePoint(i);break}case"hex":case"unicode":{if(t.lastIndexOf("\\u")>0){var o=t.split("\\u").slice(1),u=QP(o,2),l=u[0],c=u[1];l=parseInt(l,16),c=parseInt(c,16),i=(l-55296)*1024+(c-56320)+65536,n=String.fromCodePoint(i)}else{var d=t.slice(2).replace("{","");if(i=parseInt(d,16),i>1114111)throw new SyntaxError("Bad character escape sequence: "+t);n=String.fromCodePoint(i)}break}case"meta":{switch(t){case"\\t":n="	",i=n.codePointAt(0);break;case"\\n":n=`
`,i=n.codePointAt(0);break;case"\\r":n="\r",i=n.codePointAt(0);break;case"\\v":n="\v",i=n.codePointAt(0);break;case"\\f":n="\f",i=n.codePointAt(0);break;case"\\b":n="\b",i=n.codePointAt(0);case"\\0":n="\0",i=0;case".":n=".",i=NaN;break;default:i=NaN}break}case"simple":{n=t,i=n.codePointAt(0);break}}return jt({type:"Char",value:t,kind:e,symbol:n,codePoint:i},r)}var XP="gimsuxy";function KP(t){var e=new Set,r=!0,n=!1,i=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var l=u.value;if(e.has(l)||!XP.includes(l))throw new SyntaxError("Invalid flags: "+t);e.add(l)}}catch(c){n=!0,i=c}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return t.split("").sort().join("")}function YP(t,e){var r=Number(t.slice(1));return r>0&&r<=ep?jt({type:"Backreference",kind:"number",number:r,reference:r},e):$r(t,"decimal",e)}var ZP=/^\\u[0-9a-fA-F]{4}/,JP=/^\\u\{[0-9a-fA-F]{1,}\}/,eA=/\\u\{[0-9a-fA-F]{1,}\}/;function Xy(t,e){var r=eA.test(t),n=e==="u"||e==="xu"||e==="u_class";if(r&&!n)throw new SyntaxError('invalid group Unicode name "'+t+'", use `u` flag.');return t}var tA=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function tb(t){return t.replace(new RegExp(tA,"g"),function(e,r,n,i,o,u,l){return r?String.fromCodePoint(parseInt(r,16),parseInt(n,16)):i?String.fromCodePoint(parseInt(i,16)):o?String.fromCodePoint(parseInt(o,16)):u?String.fromCodePoint(parseInt(u,16)):l?String.fromCodePoint(parseInt(l,16)):e})}function rA(t,e){var r=t.slice(3,-1),n=tb(r);if(Lu.hasOwnProperty(n))return jt({type:"Backreference",kind:"name",number:Lu[n],reference:n,referenceRaw:r},e);var i=null,o=null,u=null,l=null;e&&(i=e.startOffset,o=e.startLine,u=e.endLine,l=e.startColumn);var c=/^[\w$<>]/,d=void 0,h=[$r(t.slice(1,2),"simple",i?{startLine:o,endLine:u,startColumn:l,startOffset:i,endOffset:i+=2,endColumn:l+=2}:null)];for(h[0].escaped=!0,t=t.slice(2);t.length>0;){var g=null;(g=t.match(ZP))||(g=t.match(JP))?(i&&(d={startLine:o,endLine:u,startColumn:l,startOffset:i,endOffset:i+=g[0].length,endColumn:l+=g[0].length}),h.push($r(g[0],"unicode",d)),t=t.slice(g[0].length)):(g=t.match(c))&&(i&&(d={startLine:o,endLine:u,startColumn:l,startOffset:i,endOffset:++i,endColumn:++l}),h.push($r(g[0],"simple",d)),t=t.slice(1))}return h}function jt(t,e){return Zt.options.captureLocations&&(t.loc={source:eb.slice(e.startOffset,e.endOffset),start:{line:e.startLine,column:e.startColumn,offset:e.startOffset},end:{line:e.endLine,column:e.endColumn,offset:e.endOffset}}),t}function lc(t,e){return Zt.options.captureLocations?{startOffset:t.startOffset,endOffset:e.endOffset,startLine:t.startLine,endLine:e.endLine,startColumn:t.startColumn,endColumn:e.endColumn}:null}function Ky(t){t.type===Jy&&rb(),ln.throwUnexpectedToken(t.value,t.startLine,t.startColumn)}function rb(){nA("Unexpected end of input.")}function nA(t){throw new SyntaxError(t)}nb.exports=Ms});var Bu=we((tB,sb)=>{"use strict";S();var qu=ib(),iA=qu.parse.bind(qu);qu.parse=function(t,e){return iA(""+t,e)};qu.setOptions({captureLocations:!1});sb.exports=qu});var fc=we((nB,ub)=>{"use strict";S();var sA=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function oA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var cc="expressions",ob="expression",rp=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;oA(this,t),this.node=e,this.parentPath=r,this.parent=r?r.node:null,this.property=n,this.index=i}return sA(t,[{key:"_enforceProp",value:function(r){if(!this.node.hasOwnProperty(r))throw new Error("Node of type "+this.node.type+` doesn't have "`+r+'" collection.')}},{key:"setChild",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=void 0;return n!=null?(i||(i=cc),this._enforceProp(i),this.node[i][n]=r,o=t.getForNode(r,this,i,n)):(i||(i=ob),this._enforceProp(i),this.node[i]=r,o=t.getForNode(r,this,i,null)),o}},{key:"appendChild",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n||(n=cc),this._enforceProp(n);var i=this.node[n].length;return this.setChild(r,i,n)}},{key:"insertChildAt",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cc;this._enforceProp(i),this.node[i].splice(n,0,r),n<=t.getTraversingIndex()&&t.updateTraversingIndex(1),this._rebuildIndex(this.node,i)}},{key:"remove",value:function(){if(!this.isRemoved()&&(t.registry.delete(this.node),this.node=null,!!this.parent)){if(this.index!==null){this.parent[this.property].splice(this.index,1),this.index<=t.getTraversingIndex()&&t.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,this.property=null;return}delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(r,n){for(var i=t.getForNode(r),o=0;o<r[n].length;o++){var u=t.getForNode(r[n][o],i,n,o);u.index=o}}},{key:"isRemoved",value:function(){return this.node===null}},{key:"replace",value:function(r){return t.registry.delete(this.node),this.node=r,this.parent?(this.index!==null?this.parent[this.property][this.index]=r:this.parent[this.property]=r,t.getForNode(r,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(r){Object.assign(this.node,r)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.node.expressions?t.getForNode(this.node.expressions[r],this,cc,r):this.node.expression&&r==0?t.getForNode(this.node.expression,this,ob):null}},{key:"hasEqualSource",value:function(r){return JSON.stringify(this.node,tp)===JSON.stringify(r.node,tp)}},{key:"jsonEncode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.format,i=r.useLoc;return JSON.stringify(this.node,i?null:tp,n)}},{key:"getPreviousSibling",value:function(){return!this.parent||this.index==null?null:t.getForNode(this.parent[this.property][this.index-1],t.getForNode(this.parent),this.property,this.index-1)}},{key:"getNextSibling",value:function(){return!this.parent||this.index==null?null:t.getForNode(this.parent[this.property][this.index+1],t.getForNode(this.parent),this.property,this.index+1)}}],[{key:"getForNode",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1;if(!r)return null;t.registry.has(r)||t.registry.set(r,new t(r,n,i,o==-1?null:o));var u=t.registry.get(r);return n!==null&&(u.parentPath=n,u.parent=u.parentPath.node),i!==null&&(u.property=i),o>=0&&(u.index=o),u}},{key:"initRegistry",value:function(){t.registry||(t.registry=new Map),t.registry.clear()}},{key:"updateTraversingIndex",value:function(r){return t.traversingIndexStack[t.traversingIndexStack.length-1]+=r}},{key:"getTraversingIndex",value:function(){return t.traversingIndexStack[t.traversingIndexStack.length-1]}}]),t}();rp.initRegistry();rp.traversingIndexStack=[];function tp(t,e){if(t!=="loc")return e}ub.exports=rp});var np=we((sB,ab)=>{"use strict";S();var Co=fc();function uA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.pre,n=e.post,i=e.skipProperty;function o(u,l,c,d){if(!(!u||typeof u.type!="string")){var h=void 0;if(r&&(h=r(u,l,c,d)),h!==!1){l&&l[c]&&(isNaN(d)?u=l[c]:u=l[c][d]);for(var g in u)if(u.hasOwnProperty(g)){if(i?i(g,u):g[0]==="$")continue;var v=u[g];if(Array.isArray(v)){var b=0;for(Co.traversingIndexStack.push(b);b<v.length;)o(v[b],u,g,b),b=Co.updateTraversingIndex(1);Co.traversingIndexStack.pop()}else o(v,u,g)}}n&&n(u,l,c,d)}}o(t,null)}ab.exports={traverse:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{asNodes:!1};Array.isArray(r)||(r=[r]),r=r.filter(function(o){return typeof o.shouldRun!="function"?!0:o.shouldRun(e)}),Co.initRegistry(),r.forEach(function(o){typeof o.init=="function"&&o.init(e)});function i(o,u,l,c){var d=Co.getForNode(u),h=Co.getForNode(o,d,l,c);return h}uA(e,{pre:function(u,l,c,d){var h=void 0;n.asNodes||(h=i(u,l,c,d));var g=!0,v=!1,b=void 0;try{for(var _=r[Symbol.iterator](),k;!(g=(k=_.next()).done);g=!0){var C=k.value;if(typeof C["*"]=="function")if(h){if(!h.isRemoved()){var q=C["*"](h);if(q===!1)return!1}}else C["*"](u,l,c,d);var be=void 0;if(typeof C[u.type]=="function"?be=C[u.type]:typeof C[u.type]=="object"&&typeof C[u.type].pre=="function"&&(be=C[u.type].pre),be)if(h){if(!h.isRemoved()){var Oe=be.call(C,h);if(Oe===!1)return!1}}else be.call(C,u,l,c,d)}}catch(Ae){v=!0,b=Ae}finally{try{!g&&_.return&&_.return()}finally{if(v)throw b}}},post:function(u,l,c,d){if(u){var h=void 0;n.asNodes||(h=i(u,l,c,d));var g=!0,v=!1,b=void 0;try{for(var _=r[Symbol.iterator](),k;!(g=(k=_.next()).done);g=!0){var C=k.value,q=void 0;if(typeof C[u.type]=="object"&&typeof C[u.type].post=="function"&&(q=C[u.type].post),q)if(h){if(!h.isRemoved()){var be=q.call(C,h);if(be===!1)return!1}}else q.call(C,u,l,c,d)}}catch(Oe){v=!0,b=Oe}finally{try{!g&&_.return&&_.return()}finally{if(v)throw b}}}},skipProperty:function(u){return u==="loc"}})}}});var dc=we((uB,fb)=>{"use strict";S();var aA=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function lA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var lb=Gh(),cA=Bu(),fA=np(),cb=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lA(this,t),this._ast=e,this._source=null,this._string=null,this._regexp=null,this._extra=r}return aA(t,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(r){this._extra=r}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=lb.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=lb.generate(this._ast)),this._string}}]),t}();fb.exports={TransformResult:cb,transform:function(e,r){var n=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(n=cA.parse(e,{captureLocations:!0})),fA.traverse(n,r),new cb(n)}}});var hb=we((lB,db)=>{"use strict";S();var hc=Fy(),dA=dc();db.exports={transform:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=r.length>0?r:Object.keys(hc),i=void 0,o={};return n.forEach(function(u){if(!hc.hasOwnProperty(u))throw new Error("Unknown compat-transform: "+u+". Available transforms are: "+Object.keys(hc).join(", "));var l=hc[u];i=dA.transform(e,l),e=i.getAST(),typeof l.getExtra=="function"&&(o[u]=l.getExtra())}),i.setExtra(o),i}}});var gb=we((fB,pb)=>{"use strict";S();pb.exports=function t(e){if(e===null||typeof e!="object")return e;var r=void 0;Array.isArray(e)?r=[]:r={};for(var n in e)r[n]=t(e[n]);return r}});var vb=we((hB,mb)=>{"use strict";S();mb.exports={shouldRun:function(e){return e.flags.includes("u")},Char:function(e){var r=e.node;r.kind!=="unicode"||!r.isSurrogatePair||isNaN(r.codePoint)||(r.value="\\u{"+r.codePoint.toString(16)+"}",delete r.isSurrogatePair)}}});var kb=we((gB,xb)=>{"use strict";S();var yb="A".codePointAt(0),bb="Z".codePointAt(0),wb="a".codePointAt(0),Sb="z".codePointAt(0),_b="0".codePointAt(0),Ob="9".codePointAt(0);xb.exports={Char:function(e){var r=e.node,n=e.parent;if(!(isNaN(r.codePoint)||r.kind==="simple")&&!(n.type==="ClassRange"&&!hA(n))&&pA(r.codePoint)){var i=String.fromCodePoint(r.codePoint),o={type:"Char",kind:"simple",value:i,symbol:i,codePoint:r.codePoint};gA(i,n.type)&&(o.escaped=!0),e.replace(o)}}};function hA(t){var e=t.from,r=t.to;return e.codePoint>=_b&&e.codePoint<=Ob&&r.codePoint>=_b&&r.codePoint<=Ob||e.codePoint>=yb&&e.codePoint<=bb&&r.codePoint>=yb&&r.codePoint<=bb||e.codePoint>=wb&&e.codePoint<=Sb&&r.codePoint>=wb&&r.codePoint<=Sb}function pA(t){return t>=32&&t<=126}function gA(t,e){return e==="ClassRange"||e==="CharacterClass"?/[\]\\^-]/.test(t):/[*[()+?^$./\\|{}]/.test(t)}});var Ab=we((vB,Pb)=>{"use strict";S();var Cb="A".codePointAt(0),Eb="Z".codePointAt(0);Pb.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(e){this._AZClassRanges=new Set,this._hasUFlag=e.flags.includes("u")},shouldRun:function(e){return e.flags.includes("i")},Char:function(e){var r=e.node,n=e.parent;if(!isNaN(r.codePoint)&&!(!this._hasUFlag&&r.codePoint>=4096)){if(n.type==="ClassRange"){if(!this._AZClassRanges.has(n)&&!mA(n))return;this._AZClassRanges.add(n)}var i=r.symbol.toLowerCase();i!==r.symbol&&(r.value=vA(i,r),r.symbol=i,r.codePoint=i.codePointAt(0))}}};function mA(t){var e=t.from,r=t.to;return e.codePoint>=Cb&&e.codePoint<=Eb&&r.codePoint>=Cb&&r.codePoint<=Eb}function vA(t,e){var r=t.codePointAt(0);if(e.kind==="decimal")return"\\"+r;if(e.kind==="oct")return"\\0"+r.toString(8);if(e.kind==="hex")return"\\x"+r.toString(16);if(e.kind==="unicode")if(e.isSurrogatePair){var n=yA(r),i=n.lead,o=n.trail;return"\\u"+"0".repeat(4-i.length)+i+"\\u"+"0".repeat(4-o.length)+o}else{if(e.value.includes("{"))return"\\u{"+r.toString(16)+"}";var u=r.toString(16);return"\\u"+"0".repeat(4-u.length)+u}return t}function yA(t){var e=Math.floor((t-65536)/1024)+55296,r=(t-65536)%1024+56320;return{lead:e.toString(16),trail:r.toString(16)}}});var Tb=we((bB,$b)=>{"use strict";S();$b.exports={CharacterClass:function(e){for(var r=e.node,n={},i=0;i<r.expressions.length;i++){var o=e.getChild(i),u=o.jsonEncode();n.hasOwnProperty(u)&&(o.remove(),i--),n[u]=!0}}}});var pc=we((SB,Ib)=>{"use strict";S();function bA(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function Rb(t){if(t.type!=="Disjunction")throw new TypeError('Expected "Disjunction" node, got "'+t.type+'"');var e=[];return t.left&&t.left.type==="Disjunction"?e.push.apply(e,bA(Rb(t.left)).concat([t.right])):e.push(t.left,t.right),e}function wA(t){return t.reduce(function(e,r){return{type:"Disjunction",left:e,right:r}})}function SA(t){t.kind==="*"?t.kind="+":t.kind==="+"?(t.kind="Range",t.from=2,delete t.to):t.kind==="?"?(t.kind="Range",t.from=1,t.to=2):t.kind==="Range"&&(t.from+=1,t.to&&(t.to+=1))}Ib.exports={disjunctionToList:Rb,listToDisjunction:wA,increaseQuantifierByOne:SA}});var Mb=we((OB,Db)=>{"use strict";S();var _A=pc(),OA=_A.increaseQuantifierByOne;Db.exports={Repetition:function(e){var r=e.node,n=e.parent;if(!(n.type!=="Alternative"||!e.index)){var i=e.getPreviousSibling();if(i)if(i.node.type==="Repetition"){if(!i.getChild().hasEqualSource(e.getChild()))return;var o=Nb(i.node.quantifier),u=o.from,l=o.to,c=Nb(r.quantifier),d=c.from,h=c.to;if(i.node.quantifier.greedy!==r.quantifier.greedy&&!gc(i.node.quantifier)&&!gc(r.quantifier))return;r.quantifier.kind="Range",r.quantifier.from=u+d,l&&h?r.quantifier.to=l+h:delete r.quantifier.to,(gc(i.node.quantifier)||gc(r.quantifier))&&(r.quantifier.greedy=!0),i.remove()}else{if(!i.hasEqualSource(e.getChild()))return;OA(r.quantifier),i.remove()}}}};function gc(t){return t.greedy&&(t.kind==="+"||t.kind==="*"||t.kind==="Range"&&!t.to)}function Nb(t){var e=void 0,r=void 0;return t.kind==="*"?e=0:t.kind==="+"?e=1:t.kind==="?"?(e=0,r=1):(e=t.from,t.to&&(r=t.to)),{from:e,to:r}}});var qb=we((kB,Lb)=>{"use strict";S();Lb.exports={Quantifier:function(e){var r=e.node;r.kind==="Range"&&(xA(e),kA(e),CA(e))}};function xA(t){var e=t.node;e.from!==0||e.to||(e.kind="*",delete e.from)}function kA(t){var e=t.node;e.from!==1||e.to||(e.kind="+",delete e.from)}function CA(t){var e=t.node;e.from!==1||e.to!==1||t.parentPath.replace(t.parentPath.node.expression)}});var Fb=we((EB,Bb)=>{"use strict";S();Bb.exports={ClassRange:function(e){var r=e.node;r.from.codePoint===r.to.codePoint?e.replace(r.from):r.from.codePoint===r.to.codePoint-1&&(e.getParent().insertChildAt(r.to,e.index+1),e.replace(r.from))}}});var Qb=we((AB,jb)=>{"use strict";S();function Ub(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}jb.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(e){this._hasIFlag=e.flags.includes("i"),this._hasUFlag=e.flags.includes("u")},CharacterClass:function(e){EA(e),PA(e,this._hasIFlag,this._hasUFlag),AA(e)}};function EA(t){var e=t.node;e.expressions.forEach(function(r,n){$A(r)&&t.getChild(n).replace({type:"Char",value:"\\d",kind:"meta"})})}function PA(t,e,r){var n=t.node,i=null,o=null,u=null,l=null,c=null,d=null;n.expressions.forEach(function(h,g){sp(h,"\\d")?i=t.getChild(g):TA(h)?o=t.getChild(g):RA(h)?u=t.getChild(g):IA(h)?l=t.getChild(g):e&&r&&Fu(h,383)?c=t.getChild(g):e&&r&&Fu(h,8490)&&(d=t.getChild(g))}),i&&(o&&u||e&&(o||u))&&l&&(!r||!e||c&&d)&&(i.replace({type:"Char",value:"\\w",kind:"meta"}),o&&o.remove(),u&&u.remove(),l.remove(),c&&c.remove(),d&&d.remove())}var ip=[function(t){return zb(t," ")}].concat(Ub(["\\f","\\n","\\r","\\t","\\v"].map(function(t){return function(e){return sp(e,t)}})),Ub([160,5760,8232,8233,8239,8287,12288,65279].map(function(t){return function(e){return Fu(e,t)}})),[function(t){return t.type==="ClassRange"&&Fu(t.from,8192)&&Fu(t.to,8202)}]);function AA(t){var e=t.node;if(!(e.expressions.length<ip.length||!ip.every(function(n){return e.expressions.some(function(i){return n(i)})}))){var r=e.expressions.find(function(n){return sp(n,"\\n")});r.value="\\s",r.symbol=void 0,r.codePoint=NaN,e.expressions.map(function(n,i){return ip.some(function(o){return o(n)})?t.getChild(i):void 0}).filter(Boolean).forEach(function(n){return n.remove()})}}function $A(t){return t.type==="ClassRange"&&t.from.value==="0"&&t.to.value==="9"}function zb(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"simple";return t.type==="Char"&&t.value===e&&t.kind===r}function sp(t,e){return zb(t,e,"meta")}function TA(t){return t.type==="ClassRange"&&t.from.value==="a"&&t.to.value==="z"}function RA(t){return t.type==="ClassRange"&&t.from.value==="A"&&t.to.value==="Z"}function IA(t){return t.type==="Char"&&t.value==="_"&&t.kind==="simple"}function Fu(t,e){return t.type==="Char"&&t.kind==="unicode"&&t.codePoint===e}});var Wb=we((TB,Hb)=>{"use strict";S();Hb.exports={CharacterClass:function(e){var r=e.node;if(!(r.expressions.length!==1||!LA(e)||!NA(r.expressions[0]))){var n=r.expressions[0],i=n.value,o=n.kind,u=n.escaped;if(r.negative){if(!DA(i))return;i=MA(i)}e.replace({type:"Char",value:i,kind:o,escaped:u||qA(i)})}}};function NA(t){return t.type==="Char"&&t.value!=="\\b"}function DA(t){return/^\\[dwsDWS]$/.test(t)}function MA(t){return/[dws]/.test(t)?t.toUpperCase():t.toLowerCase()}function LA(t){var e=t.parent,r=t.index;if(e.type!=="Alternative")return!0;var n=e.expressions[r-1];return n==null?!0:!(n.type==="Backreference"&&n.kind==="number"||n.type==="Char"&&n.kind==="decimal")}function qA(t){return/[*[()+?$./{}|]/.test(t)}});var Gb=we((IB,Vb)=>{"use strict";S();Vb.exports={_hasXFlag:!1,init:function(e){this._hasXFlag=e.flags.includes("x")},Char:function(e){var r=e.node;r.escaped&&BA(e,this._hasXFlag)&&delete r.escaped}};function BA(t,e){var r=t.node.value,n=t.index,i=t.parent;return i.type!=="CharacterClass"&&i.type!=="ClassRange"?!UA(r,n,i,e):!FA(r,n,i)}function FA(t,e,r){return t==="^"?e===0&&!r.negative:t==="-"?!0:/[\]\\]/.test(t)}function UA(t,e,r,n){return t==="{"?zA(e,r):t==="}"?jA(e,r):n&&/[ #]/.test(t)?!0:/[*[()+?^$./\\|]/.test(t)}function mc(t,e,r){for(var n=t,i=(r?n>=0:n<e.expressions.length)&&e.expressions[n];i&&i.type==="Char"&&i.kind==="simple"&&!i.escaped&&/\d/.test(i.value);)r?n--:n++,i=(r?n>=0:n<e.expressions.length)&&e.expressions[n];return Math.abs(t-n)}function Eo(t,e){return t&&t.type==="Char"&&t.kind==="simple"&&!t.escaped&&t.value===e}function zA(t,e){if(t==null)return!1;var r=mc(t+1,e),n=t+r+1,i=n<e.expressions.length&&e.expressions[n];if(r){if(Eo(i,"}"))return!0;if(Eo(i,","))return r=mc(n+1,e),n=n+r+1,i=n<e.expressions.length&&e.expressions[n],Eo(i,"}")}return!1}function jA(t,e){if(t==null)return!1;var r=mc(t-1,e,!0),n=t-r-1,i=n>=0&&e.expressions[n];return r&&Eo(i,"{")?!0:Eo(i,",")?(r=mc(n-1,e,!0),n=n-r-1,i=n<e.expressions.length&&e.expressions[n],r&&Eo(i,"{")):!1}});var Zb=we((DB,Yb)=>{"use strict";S();Yb.exports={_hasIUFlags:!1,init:function(e){this._hasIUFlags=e.flags.includes("i")&&e.flags.includes("u")},CharacterClass:function(e){var r=e.node,n=r.expressions,i=[];n.forEach(function(c){_i(c)&&i.push(c.value)}),n.sort(QA);for(var o=0;o<n.length;o++){var u=n[o];if(HA(u,i,this._hasIUFlags)||WA(u,n[o-1])||VA(u,n[o+1]))n.splice(o,1),o--;else{var l=GA(u,o,n);n.splice(o-l+1,l),o-=l}}}};function QA(t,e){var r=vc(t),n=vc(e);if(r===n){if(t.type==="ClassRange"&&e.type!=="ClassRange")return-1;if(e.type==="ClassRange"&&t.type!=="ClassRange")return 1;if(t.type==="ClassRange"&&e.type==="ClassRange")return vc(t.to)-vc(e.to);if(_i(t)&&_i(e)||Xb(t)&&Xb(e))return t.value<e.value?-1:1}return r-n}function vc(t){return t.type==="Char"?t.value==="-"||t.kind==="control"?1/0:t.kind==="meta"&&isNaN(t.codePoint)?-1:t.codePoint:t.from.codePoint}function _i(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t.type==="Char"&&t.kind==="meta"&&(e?t.value===e:/^\\[dws]$/i.test(t.value))}function Xb(t){return t.type==="Char"&&t.kind==="control"}function HA(t,e,r){for(var n=0;n<e.length;n++)if(op(t,e[n],r))return!0;return!1}function op(t,e,r){return t.type==="ClassRange"?op(t.from,e,r)&&op(t.to,e,r):e==="\\S"&&(_i(t,"\\w")||_i(t,"\\d"))||e==="\\D"&&(_i(t,"\\W")||_i(t,"\\s"))||e==="\\w"&&_i(t,"\\d")||e==="\\W"&&_i(t,"\\s")?!0:t.type!=="Char"||isNaN(t.codePoint)?!1:e==="\\s"?Kb(t):e==="\\S"?!Kb(t):e==="\\d"?up(t):e==="\\D"?!up(t):e==="\\w"?ap(t,r):e==="\\W"?!ap(t,r):!1}function Kb(t){return t.codePoint===9||t.codePoint===10||t.codePoint===11||t.codePoint===12||t.codePoint===13||t.codePoint===32||t.codePoint===160||t.codePoint===5760||t.codePoint>=8192&&t.codePoint<=8202||t.codePoint===8232||t.codePoint===8233||t.codePoint===8239||t.codePoint===8287||t.codePoint===12288||t.codePoint===65279}function up(t){return t.codePoint>=48&&t.codePoint<=57}function ap(t,e){return up(t)||t.codePoint>=65&&t.codePoint<=90||t.codePoint>=97&&t.codePoint<=122||t.value==="_"||e&&(t.codePoint===383||t.codePoint===8490)}function WA(t,e){if(e&&e.type==="ClassRange"){if(lp(t,e))return!0;if(yc(t)&&e.to.codePoint===t.codePoint-1)return e.to=t,!0;if(t.type==="ClassRange"&&t.from.codePoint<=e.to.codePoint+1&&t.to.codePoint>=e.from.codePoint-1)return t.from.codePoint<e.from.codePoint&&(e.from=t.from),t.to.codePoint>e.to.codePoint&&(e.to=t.to),!0}return!1}function VA(t,e){return e&&e.type==="ClassRange"&&yc(t)&&e.from.codePoint===t.codePoint+1?(e.from=t,!0):!1}function lp(t,e){return t.type==="Char"&&isNaN(t.codePoint)?!1:t.type==="ClassRange"?lp(t.from,e)&&lp(t.to,e):t.codePoint>=e.from.codePoint&&t.codePoint<=e.to.codePoint}function GA(t,e,r){if(!yc(t))return 0;for(var n=0;e>0;){var i=r[e],o=r[e-1];if(yc(o)&&o.codePoint===i.codePoint-1)n++,e--;else break}return n>1?(r[e]={type:"ClassRange",from:r[e],to:t},n):0}function yc(t){return t&&t.type==="Char"&&!isNaN(t.codePoint)&&(ap(t,!1)||t.kind==="unicode"||t.kind==="hex"||t.kind==="oct"||t.kind==="decimal")}});var t2=we((LB,e2)=>{"use strict";S();var XA=fc(),Jb=pc(),KA=Jb.disjunctionToList,YA=Jb.listToDisjunction;e2.exports={Disjunction:function(e){var r=e.node,n={},i=KA(r).filter(function(o){var u=o?XA.getForNode(o).jsonEncode():"null";return n.hasOwnProperty(u)?!1:(n[u]=o,!0)});e.replace(YA(i))}}});var i2=we((BB,n2)=>{"use strict";S();n2.exports={Disjunction:function(e){var r=e.node,n=e.parent;if(r2[n.type]){var i=new Map;if(!(!bc(r,i)||!i.size)){var o={type:"CharacterClass",expressions:Array.from(i.keys()).sort().map(function(u){return i.get(u)})};r2[n.type](e.getParent(),o)}}}};var r2={RegExp:function(e,r){var n=e.node;n.body=r},Group:function(e,r){var n=e.node;n.capturing?n.expression=r:e.replace(r)}};function bc(t,e){if(!t)return!1;var r=t.type;if(r==="Disjunction"){var n=t.left,i=t.right;return bc(n,e)&&bc(i,e)}else if(r==="Char"){if(t.kind==="meta"&&t.symbol===".")return!1;var o=t.value;return e.set(o,t),!0}else if(r==="CharacterClass"&&!t.negative)return t.expressions.every(function(u){return bc(u,e)});return!1}});var o2=we((UB,s2)=>{"use strict";S();s2.exports={Group:function(e){var r=e.node,n=e.parent,i=e.getChild();r.capturing||i||(n.type==="Repetition"?e.getParent().replace(r):n.type!=="RegExp"&&e.remove())}}});var a2=we((jB,u2)=>{"use strict";S();function cp(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}u2.exports={Group:function(e){var r=e.node,n=e.parent,i=e.getChild();if(!(r.capturing||!i)&&ZA(e)&&!(i.node.type==="Disjunction"&&n.type!=="RegExp")&&!(n.type==="Repetition"&&i.node.type!=="Char"&&i.node.type!=="CharacterClass"))if(i.node.type==="Alternative"){var o=e.getParent();o.node.type==="Alternative"&&o.replace({type:"Alternative",expressions:[].concat(cp(n.expressions.slice(0,e.index)),cp(i.node.expressions),cp(n.expressions.slice(e.index+1)))})}else e.replace(i.node)}};function ZA(t){var e=t.parent,r=t.index;if(e.type!=="Alternative")return!0;var n=e.expressions[r-1];return n==null?!0:!(n.type==="Backreference"&&n.kind==="number"||n.type==="Char"&&n.kind==="decimal")}});var f2=we((HB,c2)=>{"use strict";S();function wc(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var Sc=fc(),JA=pc(),l2=JA.increaseQuantifierByOne;c2.exports={Alternative:function(e){for(var r=e.node,n=1;n<r.expressions.length;){var i=e.getChild(n);if(n=Math.max(1,e7(e,i,n)),n>=r.expressions.length||(i=e.getChild(n),n=Math.max(1,t7(e,i,n)),n>=r.expressions.length))break;i=e.getChild(n),n=Math.max(1,r7(e,i,n)),n++}}};function e7(t,e,r){for(var n=t.node,i=Math.ceil(r/2),o=0;o<i;){var u=r-2*o-1,l=void 0,c=void 0;if(o===0?(l=e,c=t.getChild(u)):(l=Sc.getForNode({type:"Alternative",expressions:[].concat(wc(n.expressions.slice(r-o,r)),[e.node])}),c=Sc.getForNode({type:"Alternative",expressions:[].concat(wc(n.expressions.slice(u,r-o)))})),l.hasEqualSource(c)){for(var d=0;d<2*o+1;d++)t.getChild(u).remove();return e.replace({type:"Repetition",expression:o===0&&l.node.type!=="Repetition"?l.node:{type:"Group",capturing:!1,expression:l.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),u}o++}return r}function t7(t,e,r){for(var n=t.node,i=0;i<r;){var o=t.getChild(i);if(o.node.type==="Repetition"&&o.node.quantifier.greedy){var u=o.getChild(),l=void 0;if(u.node.type==="Group"&&!u.node.capturing&&(u=u.getChild()),i+1===r?(l=e,l.node.type==="Group"&&!l.node.capturing&&(l=l.getChild())):l=Sc.getForNode({type:"Alternative",expressions:[].concat(wc(n.expressions.slice(i+1,r+1)))}),u.hasEqualSource(l)){for(var c=i;c<r;c++)t.getChild(i+1).remove();return l2(o.node.quantifier),i}}i++}return r}function r7(t,e,r){var n=t.node;if(e.node.type==="Repetition"&&e.node.quantifier.greedy){var i=e.getChild(),o=void 0;i.node.type==="Group"&&!i.node.capturing&&(i=i.getChild());var u=void 0;if(i.node.type==="Alternative"?(u=i.node.expressions.length,o=Sc.getForNode({type:"Alternative",expressions:[].concat(wc(n.expressions.slice(r-u,r)))})):(u=1,o=t.getChild(r-1),o.node.type==="Group"&&!o.node.capturing&&(o=o.getChild())),o.hasEqualSource(i)){for(var l=r-u;l<r;l++)t.getChild(r-u).remove();return l2(e.node.quantifier),r-u}}return r}});var h2=we((VB,d2)=>{"use strict";S();d2.exports=new Map([["charSurrogatePairToSingleUnicode",vb()],["charCodeToSimpleChar",kb()],["charCaseInsensitiveLowerCaseTransform",Ab()],["charClassRemoveDuplicates",Tb()],["quantifiersMerge",Mb()],["quantifierRangeToSymbol",qb()],["charClassClassrangesToChars",Fb()],["charClassToMeta",Qb()],["charClassToSingleChar",Wb()],["charEscapeUnescape",Gb()],["charClassClassrangesMerge",Zb()],["disjunctionRemoveDuplicates",t2()],["groupSingleCharsToCharClass",i2()],["removeEmptyGroup",o2()],["ungroup",a2()],["combineRepeatingPatterns",f2()]])});var v2=we((XB,m2)=>{"use strict";S();var p2=gb(),n7=Bu(),g2=dc(),_c=h2();m2.exports={optimize:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.whitelist,i=n===void 0?[]:n,o=r.blacklist,u=o===void 0?[]:o,l=i.length>0?i:Array.from(_c.keys()),c=l.filter(function(v){return!u.includes(v)}),d=e;e instanceof RegExp&&(e=""+e),typeof e=="string"&&(d=n7.parse(e));var h=new g2.TransformResult(d),g=void 0;do g=h.toString(),d=p2(h.getAST()),c.forEach(function(v){if(!_c.has(v))throw new Error("Unknown optimization-transform: "+v+". Available transforms are: "+Array.from(_c.keys()).join(", "));var b=_c.get(v),_=g2.transform(d,b);_.toString()!==h.toString()&&(_.toString().length<=h.toString().length?h=_:d=p2(h.getAST()))});while(h.toString()!==g);return h}}});var Uu=we((YB,b2)=>{"use strict";S();var y2="\u03B5",i7=y2+"*";b2.exports={EPSILON:y2,EPSILON_CLOSURE:i7}});var fp=we((JB,_2)=>{"use strict";S();var s7=function(){function t(e,r){var n=[],i=!0,o=!1,u=void 0;try{for(var l=e[Symbol.iterator](),c;!(i=(c=l.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(d){o=!0,u=d}finally{try{!i&&l.return&&l.return()}finally{if(o)throw u}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o7=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function u7(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function a7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var S2=Uu(),l7=S2.EPSILON,w2=S2.EPSILON_CLOSURE,c7=function(){function t(e,r){a7(this,t),this.in=e,this.out=r}return o7(t,[{key:"matches",value:function(r){return this.in.matches(r)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var r=this.getTransitionTable();for(var n in r){var i=r[n];for(var o in i)o!==w2&&this._alphabet.add(o)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var r=!0,n=!1,i=void 0;try{for(var o=this.getAcceptingStates()[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){var l=u.value;this._acceptingStateNumbers.add(l.number)}}catch(c){n=!0,i=c}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var r=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var n=new Set,i=new Set,o=function u(l){if(!n.has(l)){n.add(l),l.number=n.size,r._transitionTable[l.number]={},l.accepting&&r._acceptingStates.add(l);var c=l.getTransitions(),d=!0,h=!1,g=void 0;try{for(var v=c[Symbol.iterator](),b;!(d=(b=v.next()).done);d=!0){var _=b.value,k=s7(_,2),C=k[0],q=k[1],be=[];i.add(C);var Oe=!0,Ae=!1,me=void 0;try{for(var Ie=q[Symbol.iterator](),Ce;!(Oe=(Ce=Ie.next()).done);Oe=!0){var Ge=Ce.value;u(Ge),be.push(Ge.number)}}catch(ze){Ae=!0,me=ze}finally{try{!Oe&&Ie.return&&Ie.return()}finally{if(Ae)throw me}}r._transitionTable[l.number][C]=be}}catch(ze){h=!0,g=ze}finally{try{!d&&v.return&&v.return()}finally{if(h)throw g}}}};o(this.in),n.forEach(function(u){delete r._transitionTable[u.number][l7],r._transitionTable[u.number][w2]=[].concat(u7(u.getEpsilonClosure())).map(function(l){return l.number})})}return this._transitionTable}}]),t}();_2.exports=c7});var x2=we((tF,O2)=>{"use strict";S();var f7=function(){function t(e,r){var n=[],i=!0,o=!1,u=void 0;try{for(var l=e[Symbol.iterator](),c;!(i=(c=l.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(d){o=!0,u=d}finally{try{!i&&l.return&&l.return()}finally{if(o)throw u}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function d7(t){return Array.isArray(t)?t:Array.from(t)}function dp(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var Oi=null;function h7(t){var e=t.getTransitionTable(),r=Object.keys(e),n=t.getAlphabet(),i=t.getAcceptingStateNumbers();Oi={};var o=new Set;r.forEach(function(ce){ce=Number(ce);var de=i.has(ce);de?Oi[ce]=i:(o.add(ce),Oi[ce]=o)});var u=[[o,i].filter(function(ce){return ce.size>0})],l=void 0,c=void 0;l=u[u.length-1],c=u[u.length-2];for(var d=function(){var de={},ke=!0,Re=!1,Le=void 0;try{for(var Qe=l[Symbol.iterator](),Ve;!(ke=(Ve=Qe.next()).done);ke=!0){var st=Ve.value,kt={},gr=d7(st),ci=gr[0],ur=gr.slice(1);kt[ci]=new Set([ci]);var Dt=!0,ar=!1,Nr=void 0;try{e:for(var qi=ur[Symbol.iterator](),ro;!(Dt=(ro=qi.next()).done);Dt=!0){var Yr=ro.value,lr=!0,Gn=!1,Xn=void 0;try{for(var Bi=Object.keys(kt)[Symbol.iterator](),Nn;!(lr=(Nn=Bi.next()).done);lr=!0){var Fi=Nn.value;if(g7(Yr,Fi,e,n)){kt[Fi].add(Yr),kt[Yr]=kt[Fi];continue e}}}catch(Gt){Gn=!0,Xn=Gt}finally{try{!lr&&Bi.return&&Bi.return()}finally{if(Gn)throw Xn}}kt[Yr]=new Set([Yr])}}catch(Gt){ar=!0,Nr=Gt}finally{try{!Dt&&qi.return&&qi.return()}finally{if(ar)throw Nr}}Object.assign(de,kt)}}catch(Gt){Re=!0,Le=Gt}finally{try{!ke&&Qe.return&&Qe.return()}finally{if(Re)throw Le}}Oi=de;var Zr=new Set(Object.keys(de).map(function(Gt){return de[Gt]}));u.push([].concat(dp(Zr))),l=u[u.length-1],c=u[u.length-2]};!p7(l,c);)d();var h=new Map,g=1;l.forEach(function(ce){return h.set(ce,g++)});var v={},b=new Set,_=function(de,ke){var Re=!0,Le=!1,Qe=void 0;try{for(var Ve=de[Symbol.iterator](),st;!(Re=(st=Ve.next()).done);Re=!0){var kt=st.value;i.has(kt)&&b.add(ke)}}catch(gr){Le=!0,Qe=gr}finally{try{!Re&&Ve.return&&Ve.return()}finally{if(Le)throw Qe}}},k=!0,C=!1,q=void 0;try{for(var be=h.entries()[Symbol.iterator](),Oe;!(k=(Oe=be.next()).done);k=!0){var Ae=Oe.value,me=f7(Ae,2),Ie=me[0],Ce=me[1];v[Ce]={};var Ge=!0,ze=!1,Xe=void 0;try{for(var ye=n[Symbol.iterator](),he;!(Ge=(he=ye.next()).done);Ge=!0){var Ee=he.value;_(Ie,Ce);var le=void 0,O=!0,P=!1,R=void 0;try{for(var ge=Ie[Symbol.iterator](),$;!(O=($=ge.next()).done);O=!0){var pe=$.value;if(le=e[pe][Ee],le)break}}catch(ce){P=!0,R=ce}finally{try{!O&&ge.return&&ge.return()}finally{if(P)throw R}}le&&(v[Ce][Ee]=h.get(Oi[le]))}}catch(ce){ze=!0,Xe=ce}finally{try{!Ge&&ye.return&&ye.return()}finally{if(ze)throw Xe}}}}catch(ce){C=!0,q=ce}finally{try{!k&&be.return&&be.return()}finally{if(C)throw q}}return t.setTransitionTable(v),t.setAcceptingStateNumbers(b),t}function p7(t,e){if(!e||t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],i=e[r];if(n.size!==i.size||[].concat(dp(n)).sort().join(",")!==[].concat(dp(i)).sort().join(","))return!1}return!0}function g7(t,e,r,n){var i=!0,o=!1,u=void 0;try{for(var l=n[Symbol.iterator](),c;!(i=(c=l.next()).done);i=!0){var d=c.value;if(!m7(t,e,r,d))return!1}}catch(h){o=!0,u=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw u}}return!0}function m7(t,e,r,n){if(!Oi[t]||!Oi[e])return!1;var i=r[t][n],o=r[e][n];return!i&&!o?!0:Oi[t].has(i)&&Oi[e].has(o)}O2.exports={minimize:h7}});var P2=we((nF,E2)=>{"use strict";S();var v7=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function k2(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function y7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b7=x2(),w7=Uu(),C2=w7.EPSILON_CLOSURE,S7=function(){function t(e){y7(this,t),this._nfa=e}return v7(t,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,b7.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(r){this._transitionTable=r}},{key:"setAcceptingStateNumbers",value:function(r){this._acceptingStateNumbers=r}},{key:"getTransitionTable",value:function(){var r=this;if(this._transitionTable)return this._transitionTable;var n=this._nfa.getTransitionTable(),i=Object.keys(n);this._acceptingStateNumbers=new Set;for(var o=n[i[0]][C2],u=[o],l=this.getAlphabet(),c=this._nfa.getAcceptingStateNumbers(),d={},h=function(ce){var de=!0,ke=!1,Re=void 0;try{for(var Le=c[Symbol.iterator](),Qe;!(de=(Qe=Le.next()).done);de=!0){var Ve=Qe.value;if(ce.indexOf(Ve)!==-1){r._acceptingStateNumbers.add(ce.join(","));break}}}catch(st){ke=!0,Re=st}finally{try{!de&&Le.return&&Le.return()}finally{if(ke)throw Re}}};u.length>0;){var g=u.shift(),v=g.join(",");d[v]={};var b=!0,_=!1,k=void 0;try{for(var C=l[Symbol.iterator](),q;!(b=(q=C.next()).done);b=!0){var be=q.value,Oe=[];h(g);var Ae=!0,me=!1,Ie=void 0;try{for(var Ce=g[Symbol.iterator](),Ge;!(Ae=(Ge=Ce.next()).done);Ae=!0){var ze=Ge.value,Xe=n[ze][be];if(Xe){var ye=!0,he=!1,Ee=void 0;try{for(var le=Xe[Symbol.iterator](),O;!(ye=(O=le.next()).done);ye=!0){var P=O.value;n[P]&&Oe.push.apply(Oe,k2(n[P][C2]))}}catch(pe){he=!0,Ee=pe}finally{try{!ye&&le.return&&le.return()}finally{if(he)throw Ee}}}}}catch(pe){me=!0,Ie=pe}finally{try{!Ae&&Ce.return&&Ce.return()}finally{if(me)throw Ie}}var R=new Set(Oe),ge=[].concat(k2(R));if(ge.length>0){var $=ge.join(",");d[v][be]=$,d.hasOwnProperty($)||u.unshift(ge)}}}catch(pe){_=!0,k=pe}finally{try{!b&&C.return&&C.return()}finally{if(_)throw k}}}return this._transitionTable=this._remapStateNumbers(d)}},{key:"_remapStateNumbers",value:function(r){var n={};this._originalTransitionTable=r;var i={};Object.keys(r).forEach(function(k,C){n[k]=C+1});for(var o in r){var u=r[o],l={};for(var c in u)l[c]=n[u[c]];i[n[o]]=l}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var d=!0,h=!1,g=void 0;try{for(var v=this._originalAcceptingStateNumbers[Symbol.iterator](),b;!(d=(b=v.next()).done);d=!0){var _=b.value;this._acceptingStateNumbers.add(n[_])}}catch(k){h=!0,g=k}finally{try{!d&&v.return&&v.return()}finally{if(h)throw g}}return i}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(r){for(var n=1,i=0,o=this.getTransitionTable();r[i];)if(n=o[n][r[i++]],!n)return!1;return!!this.getAcceptingStateNumbers().has(n)}}]),t}();E2.exports=S7});var $2=we((sF,A2)=>{"use strict";S();var _7=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function O7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var x7=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.accepting,n=r===void 0?!1:r;O7(this,t),this._transitions=new Map,this.accepting=n}return _7(t,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(r,n){return this.getTransitionsOnSymbol(r).add(n),this}},{key:"getTransitionsOnSymbol",value:function(r){var n=this._transitions.get(r);return n||(n=new Set,this._transitions.set(r,n)),n}}]),t}();A2.exports=x7});var R2=we((uF,T2)=>{"use strict";S();var k7=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function C7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function P7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var A7=$2(),$7=Uu(),hp=$7.EPSILON,T7=function(t){P7(e,t);function e(){return C7(this,e),E7(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k7(e,[{key:"matches",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(i.has(this))return!1;if(i.add(this),n.length===0){if(this.accepting)return!0;var o=!0,u=!1,l=void 0;try{for(var c=this.getTransitionsOnSymbol(hp)[Symbol.iterator](),d;!(o=(d=c.next()).done);o=!0){var h=d.value;if(h.matches("",i))return!0}}catch(Xe){u=!0,l=Xe}finally{try{!o&&c.return&&c.return()}finally{if(u)throw l}}return!1}var g=n[0],v=n.slice(1),b=this.getTransitionsOnSymbol(g),_=!0,k=!1,C=void 0;try{for(var q=b[Symbol.iterator](),be;!(_=(be=q.next()).done);_=!0){var Oe=be.value;if(Oe.matches(v))return!0}}catch(Xe){k=!0,C=Xe}finally{try{!_&&q.return&&q.return()}finally{if(k)throw C}}var Ae=!0,me=!1,Ie=void 0;try{for(var Ce=this.getTransitionsOnSymbol(hp)[Symbol.iterator](),Ge;!(Ae=(Ge=Ce.next()).done);Ae=!0){var ze=Ge.value;if(ze.matches(n,i))return!0}}catch(Xe){me=!0,Ie=Xe}finally{try{!Ae&&Ce.return&&Ce.return()}finally{if(me)throw Ie}}return!1}},{key:"getEpsilonClosure",value:function(){var n=this;return this._epsilonClosure||function(){var i=n.getTransitionsOnSymbol(hp),o=n._epsilonClosure=new Set;o.add(n);var u=!0,l=!1,c=void 0;try{for(var d=i[Symbol.iterator](),h;!(u=(h=d.next()).done);u=!0){var g=h.value;if(!o.has(g)){o.add(g);var v=g.getEpsilonClosure();v.forEach(function(b){return o.add(b)})}}}catch(b){l=!0,c=b}finally{try{!u&&d.return&&d.return()}finally{if(l)throw c}}}(),this._epsilonClosure}}]),e}(A7);T2.exports=T7});var pp=we((lF,N2)=>{"use strict";S();var Oc=fp(),Po=R2(),R7=Uu(),Br=R7.EPSILON;function I2(t){var e=new Po,r=new Po({accepting:!0});return new Oc(e.addTransition(t,r),r)}function I7(){return I2(Br)}function N7(t,e){return t.out.accepting=!1,e.out.accepting=!0,t.out.addTransition(Br,e.in),new Oc(t.in,e.out)}function D7(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=!0,o=!1,u=void 0;try{for(var l=r[Symbol.iterator](),c;!(i=(c=l.next()).done);i=!0){var d=c.value;t=N7(t,d)}}catch(h){o=!0,u=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw u}}return t}function M7(t,e){var r=new Po,n=new Po;return r.addTransition(Br,t.in),r.addTransition(Br,e.in),n.accepting=!0,t.out.accepting=!1,e.out.accepting=!1,t.out.addTransition(Br,n),e.out.addTransition(Br,n),new Oc(r,n)}function L7(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=!0,o=!1,u=void 0;try{for(var l=r[Symbol.iterator](),c;!(i=(c=l.next()).done);i=!0){var d=c.value;t=M7(t,d)}}catch(h){o=!0,u=h}finally{try{!i&&l.return&&l.return()}finally{if(o)throw u}}return t}function q7(t){var e=new Po,r=new Po({accepting:!0});return e.addTransition(Br,t.in),e.addTransition(Br,r),t.out.accepting=!1,t.out.addTransition(Br,r),r.addTransition(Br,t.in),new Oc(e,r)}function B7(t){return t.in.addTransition(Br,t.out),t.out.addTransition(Br,t.in),t}function F7(t){return t.out.addTransition(Br,t.in),t}function U7(t){return t.in.addTransition(Br,t.out),t}N2.exports={alt:D7,char:I2,e:I7,or:L7,rep:B7,repExplicit:q7,plusRep:F7,questionRep:U7}});var L2=we((fF,M2)=>{"use strict";S();function z7(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var j7=Bu(),Ao=pp(),Q7=Ao.alt,H7=Ao.char,W7=Ao.or,V7=Ao.rep,G7=Ao.plusRep,X7=Ao.questionRep;function xi(t){if(t&&!D2[t.type])throw new Error(t.type+" is not supported in NFA/DFA interpreter.");return t?D2[t.type](t):""}var D2={RegExp:function(e){if(e.flags!=="")throw new Error("NFA/DFA: Flags are not supported yet.");return xi(e.body)},Alternative:function(e){var r=(e.expressions||[]).map(xi);return Q7.apply(void 0,z7(r))},Disjunction:function(e){return W7(xi(e.left),xi(e.right))},Repetition:function(e){switch(e.quantifier.kind){case"*":return V7(xi(e.expression));case"+":return G7(xi(e.expression));case"?":return X7(xi(e.expression));default:throw new Error("Unknown repeatition: "+e.quantifier.kind+".")}},Char:function(e){if(e.kind!=="simple")throw new Error("NFA/DFA: Only simple chars are supported yet.");return H7(e.value)},Group:function(e){return xi(e.expression)}};M2.exports={build:function(e){var r=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(r=j7.parse(e,{captureLocations:!0})),xi(r)}}});var F2=we((hF,B2)=>{"use strict";S();var K7=fp(),q2=P2(),Y7=L2(),Z7=pp();B2.exports={NFA:K7,DFA:q2,builders:Z7,toNFA:function(e){return Y7.build(e)},toDFA:function(e){return new q2(this.toNFA(e))},test:function(e,r){return this.toDFA(e).matches(r)}}});var z2=we((gF,U2)=>{"use strict";S();var J7=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function e9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var t9=function(){function t(e,r){var n=r.flags,i=r.groups,o=r.source;e9(this,t),this._re=e,this._groups=i,this.flags=n,this.source=o||e.source,this.dotAll=n.includes("s"),this.global=e.global,this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,this.sticky=e.sticky,this.unicode=e.unicode}return J7(t,[{key:"test",value:function(r){return this._re.test(r)}},{key:"compile",value:function(r){return this._re.compile(r)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(r){var n=this._re.exec(r);if(!this._groups||!n)return n;n.groups={};for(var i in this._groups){var o=this._groups[i];n.groups[i]=n[o]}return n}}]),t}();U2.exports={RegExpTree:t9}});var W2=we((vF,H2)=>{"use strict";S();var r9=hb(),n9=Gh(),i9=v2(),j2=Bu(),Q2=dc(),s9=np(),o9=F2(),u9=z2(),a9=u9.RegExpTree,l9={parser:j2,fa:o9,TransformResult:Q2.TransformResult,parse:function(e,r){return j2.parse(""+e,r)},traverse:function(e,r,n){return s9.traverse(e,r,n)},transform:function(e,r){return Q2.transform(e,r)},generate:function(e){return n9.generate(e)},toRegExp:function(e){var r=this.compatTranspile(e);return new RegExp(r.getSource(),r.getFlags())},optimize:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.blacklist;return i9.optimize(e,{whitelist:r,blacklist:i})},compatTranspile:function(e,r){return r9.transform(e,r)},exec:function(e,r){if(typeof e=="string"){var n=this.compatTranspile(e),i=n.getExtra();i.namedCapturingGroups?e=new a9(n.toRegExp(),{flags:n.getFlags(),source:n.getSource(),groups:i.namedCapturingGroups}):e=n.toRegExp()}return e.exec(r)}};H2.exports=l9});var G2=we((bF,V2)=>{"use strict";S();V2.exports=W2()});var wp=we((SF,e3)=>{"use strict";S();var c9=Vh(),gp=ic(),es=G2(),X2=new WeakMap;function f9(t){return c9.mode==="spec-compliant"?h9(this,t):d9(this,t)}function d9(t,e){let r=t.lastIndex,n=gp.call(t,e);if(n===null)return null;let i;return Object.defineProperty(n,"indices",{enumerable:!0,configurable:!0,get(){if(i===void 0){let{measurementRegExp:o,groupInfos:u}=K2(t);o.lastIndex=r;let l=gp.call(o,e);if(l===null)throw new TypeError;On(n,"indices",i=Y2(l,u))}return i},set(o){On(n,"indices",o)}}),n}function h9(t,e){let{measurementRegExp:r,groupInfos:n}=K2(t);r.lastIndex=t.lastIndex;let i=gp.call(r,e);if(i===null)return null;t.lastIndex=r.lastIndex;let o=[];On(o,0,i[0]);for(let u of n)On(o,u.oldGroupNumber,i[u.newGroupNumber]);return On(o,"index",i.index),On(o,"input",i.input),On(o,"groups",i.groups),On(o,"indices",Y2(i,n)),o}function K2(t){let e=X2.get(t);e||(e=b9(es.parse(`/${t.source}/${t.flags}`)),X2.set(t,e));let r=e.getExtra();return{measurementRegExp:e.toRegExp(),groupInfos:r}}function Y2(t,e){let r=t.index,n=r+t[0].length,i=!!t.groups,o=[],u=i?Object.create(null):void 0;On(o,0,[r,n]);for(let l of e){let c;if(t[l.newGroupNumber]!==void 0){let d=r;if(l.measurementGroups)for(let g of l.measurementGroups)d+=t[g].length;let h=d+t[l.newGroupNumber].length;c=[d,h]}On(o,l.oldGroupNumber,c),u&&l.groupName!==void 0&&On(u,l.groupName,c)}return On(o,"groups",u),o}function On(t,e,r){let n=Object.getOwnPropertyDescriptor(t,e);if(n?n.configurable:Object.isExtensible(t)){let i={enumerable:n?n.enumerable:!0,configurable:n?n.configurable:!0,writable:!0,value:r};Object.defineProperty(t,e,i)}}var xc,mp=!1,ju=new Set,vp=[],$o=!1,Z2=1,kc=[],yp=new Map,bp=new Map,p9={init(){mp=!1,ju.clear(),vp.length=0,$o=!1,Z2=1,kc.length=0,yp.clear(),bp.clear(),xc=[]},RegExp(t){return es.traverse(t.node,g9),ju.size>0&&(es.transform(t.node,J2),es.transform(t.node,m9),mp&&es.transform(t.node,v9)),!1}},zu={pre(t){vp.push($o),$o=t.node.type==="Group"&&t.node.capturing},post(t){$o&&ju.add(t.node),$o=vp.pop()||$o}},g9={Alternative:zu,Disjunction:zu,Assertion:zu,Group:zu,Repetition:zu,Backreference(t){mp=!0}},J2={Alternative(t){if(ju.has(t.node)){let e=0,r=[],n=[],i=[];for(let o=0;o<t.node.expressions.length;o++){let u=t.node.expressions[o];if(ju.has(u)){if(o>e){let l={type:"Group",capturing:!0,number:-1,expression:r.length>1?{type:"Alternative",expressions:r}:r.length===1?r[0]:null};i.push(l),n.push(l),e=o,r=[]}kc.push(n),es.transform(u,J2),kc.pop(),r.push(u);continue}r.push(u)}t.update({expressions:i.concat(r)})}return!1},Group(t){t.node.capturing&&yp.set(t.node,y9())}},m9={Group(t){if(!xc)throw new Error("Not initialized.");if(!t.node.capturing)return;let e=t.node.number,r=Z2++,n=yp.get(t.node);e!==-1&&(xc.push({oldGroupNumber:e,newGroupNumber:r,measurementGroups:n&&n.map(i=>i.number),groupName:t.node.name}),bp.set(e,r)),t.update({number:r})}},v9={Backreference(t){let e=bp.get(t.node.number);e&&(t.node.kind==="number"?t.update({number:e,reference:e}):t.update({number:e}))}};function y9(){let t=[];for(let e of kc)for(let r of e)t.push(r);return t}function b9(t){let e=es.transform(t,p9);return new es.TransformResult(e.getAST(),xc)}e3.exports=f9});var Sp=we((OF,r3)=>{"use strict";S();var t3=ic(),w9=wp();function S9(){let t=new RegExp("a");return t3.call(t,"a").indices?t3:w9}r3.exports=S9});var i3=we((kF,n3)=>{"use strict";S();var _9=Sp();function O9(){let t=_9();RegExp.prototype.exec!==t&&(RegExp.prototype.exec=t)}n3.exports=O9});var u3=we((EF,o3)=>{"use strict";S();var x9=wp(),k9=ic(),s3=Sp(),C9=i3(),E9=Vh(),P9=s3();function ts(t,e){return P9.call(t,e)}ts.implementation=x9;ts.native=k9;ts.getPolyfill=s3;ts.shim=C9;ts.config=E9;ts||(ts={});o3.exports=ts});var _3=we((Lc,Rp)=>{S();(function(t,e){typeof Lc=="object"&&typeof Rp=="object"?Rp.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Lc=="object"?Lc.Pickr=e():t.Pickr=e()})(self,()=>(()=>{"use strict";var t={d:(le,O)=>{for(var P in O)t.o(O,P)&&!t.o(le,P)&&Object.defineProperty(le,P,{enumerable:!0,get:O[P]})},o:(le,O)=>Object.prototype.hasOwnProperty.call(le,O),r:le=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(le,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(le,"__esModule",{value:!0})}},e={};t.d(e,{default:()=>he});var r={};function n(le,O,P,R,ge={}){O instanceof HTMLCollection||O instanceof NodeList?O=Array.from(O):Array.isArray(O)||(O=[O]),Array.isArray(P)||(P=[P]);for(let $ of O)for(let pe of P)$[le](pe,R,{capture:!1,...ge});return Array.prototype.slice.call(arguments,1)}t.r(r),t.d(r,{adjustableInputNumbers:()=>h,createElementFromString:()=>u,createFromTemplate:()=>l,eventPath:()=>c,off:()=>o,on:()=>i,resolveElement:()=>d});let i=n.bind(null,"addEventListener"),o=n.bind(null,"removeEventListener");function u(le){let O=document.createElement("div");return O.innerHTML=le.trim(),O.firstElementChild}function l(le){let O=(R,ge)=>{let $=R.getAttribute(ge);return R.removeAttribute(ge),$},P=(R,ge={})=>{let $=O(R,":obj"),pe=O(R,":ref"),ce=$?ge[$]={}:ge;pe&&(ge[pe]=R);for(let de of Array.from(R.children)){let ke=O(de,":arr"),Re=P(de,ke?{}:ce);ke&&(ce[ke]||(ce[ke]=[])).push(Object.keys(Re).length?Re:de)}return ge};return P(u(le))}function c(le){let O=le.path||le.composedPath&&le.composedPath();if(O)return O;let P=le.target.parentElement;for(O=[le.target,P];P=P.parentElement;)O.push(P);return O.push(document,window),O}function d(le){return le instanceof Element?le:typeof le=="string"?le.split(/>>/g).reduce((O,P,R,ge)=>(O=O.querySelector(P),R<ge.length-1?O.shadowRoot:O),document):null}function h(le,O=P=>P){function P(R){let ge=[.001,.01,.1][Number(R.shiftKey||2*R.ctrlKey)]*(R.deltaY<0?1:-1),$=0,pe=le.selectionStart;le.value=le.value.replace(/[\d.]+/g,(ce,de)=>de<=pe&&de+ce.length>=pe?(pe=de,O(Number(ce),ge,$)):($++,ce)),le.focus(),le.setSelectionRange(pe,pe),R.preventDefault(),le.dispatchEvent(new Event("input"))}i(le,"focus",()=>i(window,"wheel",P,{passive:!1})),i(le,"blur",()=>o(window,"wheel",P))}let{min:g,max:v,floor:b,round:_}=Math;function k(le,O,P){O/=100,P/=100;let R=b(le=le/360*6),ge=le-R,$=P*(1-O),pe=P*(1-ge*O),ce=P*(1-(1-ge)*O),de=R%6;return[255*[P,pe,$,$,ce,P][de],255*[ce,P,P,pe,$,$][de],255*[$,$,ce,P,P,pe][de]]}function C(le,O,P){let R=(2-(O/=100))*(P/=100)/2;return R!==0&&(O=R===1?0:R<.5?O*P/(2*R):O*P/(2-2*R)),[le,100*O,100*R]}function q(le,O,P){let R=g(le/=255,O/=255,P/=255),ge=v(le,O,P),$=ge-R,pe,ce;if($===0)pe=ce=0;else{ce=$/ge;let de=((ge-le)/6+$/2)/$,ke=((ge-O)/6+$/2)/$,Re=((ge-P)/6+$/2)/$;le===ge?pe=Re-ke:O===ge?pe=1/3+de-Re:P===ge&&(pe=2/3+ke-de),pe<0?pe+=1:pe>1&&(pe-=1)}return[360*pe,100*ce,100*ge]}function be(le,O,P,R){return O/=100,P/=100,[...q(255*(1-g(1,(le/=100)*(1-(R/=100))+R)),255*(1-g(1,O*(1-R)+R)),255*(1-g(1,P*(1-R)+R)))]}function Oe(le,O,P){O/=100;let R=2*(O*=(P/=100)<.5?P:1-P)/(P+O)*100,ge=100*(P+O);return[le,isNaN(R)?0:R,ge]}function Ae(le){return q(...le.match(/.{2}/g).map(O=>parseInt(O,16)))}function me(le){le=le.match(/^[a-zA-Z]+$/)?function(ge){if(ge.toLowerCase()==="black")return"#000";let $=document.createElement("canvas").getContext("2d");return $.fillStyle=ge,$.fillStyle==="#000"?null:$.fillStyle}(le):le;let O={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},P=ge=>ge.map($=>/^(|\d+)\.\d+|\d+$/.test($)?Number($):void 0),R;e:for(let ge in O)if(R=O[ge].exec(le))switch(ge){case"cmyk":{let[,$,pe,ce,de]=P(R);if($>100||pe>100||ce>100||de>100)break e;return{values:be($,pe,ce,de),type:ge}}case"rgba":{let[,$,,pe,,ce,,,de]=P(R);if($=R[2]==="%"?$/100*255:$,pe=R[4]==="%"?pe/100*255:pe,ce=R[6]==="%"?ce/100*255:ce,de=R[9]==="%"?de/100:de,$>255||pe>255||ce>255||de<0||de>1)break e;return{values:[...q($,pe,ce),de],a:de,type:ge}}case"hexa":{let[,$]=R;$.length!==4&&$.length!==3||($=$.split("").map(de=>de+de).join(""));let pe=$.substring(0,6),ce=$.substring(6);return ce=ce?parseInt(ce,16)/255:void 0,{values:[...Ae(pe),ce],a:ce,type:ge}}case"hsla":{let[,$,pe,ce,,de]=P(R);if(de=R[6]==="%"?de/100:de,$>360||pe>100||ce>100||de<0||de>1)break e;return{values:[...Oe($,pe,ce),de],a:de,type:ge}}case"hsva":{let[,$,pe,ce,,de]=P(R);if(de=R[6]==="%"?de/100:de,$>360||pe>100||ce>100||de<0||de>1)break e;return{values:[$,pe,ce,de],a:de,type:ge}}}return{values:null,type:null}}function Ie(le=0,O=0,P=0,R=1){let ge=(pe,ce)=>(de=-1)=>ce(~de?pe.map(ke=>Number(ke.toFixed(de))):pe),$={h:le,s:O,v:P,a:R,toHSVA(){let pe=[$.h,$.s,$.v,$.a];return pe.toString=ge(pe,ce=>`hsva(${ce[0]}, ${ce[1]}%, ${ce[2]}%, ${$.a})`),pe},toHSLA(){let pe=[...C($.h,$.s,$.v),$.a];return pe.toString=ge(pe,ce=>`hsla(${ce[0]}, ${ce[1]}%, ${ce[2]}%, ${$.a})`),pe},toRGBA(){let pe=[...k($.h,$.s,$.v),$.a];return pe.toString=ge(pe,ce=>`rgba(${ce[0]}, ${ce[1]}, ${ce[2]}, ${$.a})`),pe},toCMYK(){let pe=function(ce,de,ke){let Re=k(ce,de,ke),Le=Re[0]/255,Qe=Re[1]/255,Ve=Re[2]/255,st=g(1-Le,1-Qe,1-Ve);return[100*(st===1?0:(1-Le-st)/(1-st)),100*(st===1?0:(1-Qe-st)/(1-st)),100*(st===1?0:(1-Ve-st)/(1-st)),100*st]}($.h,$.s,$.v);return pe.toString=ge(pe,ce=>`cmyk(${ce[0]}%, ${ce[1]}%, ${ce[2]}%, ${ce[3]}%)`),pe},toHEXA(){let pe=function(de,ke,Re){return k(de,ke,Re).map(Le=>_(Le).toString(16).padStart(2,"0"))}($.h,$.s,$.v),ce=$.a>=1?"":Number((255*$.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return ce&&pe.push(ce),pe.toString=()=>`#${pe.join("").toUpperCase()}`,pe},clone:()=>Ie($.h,$.s,$.v,$.a)};return $}let Ce=le=>Math.max(Math.min(le,1),0);function Ge(le){let O={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},le),_keyboard($){let{options:pe}=O,{type:ce,key:de}=$;if(document.activeElement===pe.wrapper){let{lock:ke}=O.options,Re=de==="ArrowUp",Le=de==="ArrowRight",Qe=de==="ArrowDown",Ve=de==="ArrowLeft";if(ce==="keydown"&&(Re||Le||Qe||Ve)){let st=0,kt=0;ke==="v"?st=Re||Le?1:-1:ke==="h"?st=Re||Le?-1:1:(kt=Re?-1:Qe?1:0,st=Ve?-1:Le?1:0),O.update(Ce(O.cache.x+.01*st),Ce(O.cache.y+.01*kt)),$.preventDefault()}else de.startsWith("Arrow")&&(O.options.onstop(),$.preventDefault())}},_tapstart($){i(document,["mouseup","touchend","touchcancel"],O._tapstop),i(document,["mousemove","touchmove"],O._tapmove),$.cancelable&&$.preventDefault(),O._tapmove($)},_tapmove($){let{options:pe,cache:ce}=O,{lock:de,element:ke,wrapper:Re}=pe,Le=Re.getBoundingClientRect(),Qe=0,Ve=0;if($){let gr=$&&$.touches&&$.touches[0];Qe=$?(gr||$).clientX:0,Ve=$?(gr||$).clientY:0,Qe<Le.left?Qe=Le.left:Qe>Le.left+Le.width&&(Qe=Le.left+Le.width),Ve<Le.top?Ve=Le.top:Ve>Le.top+Le.height&&(Ve=Le.top+Le.height),Qe-=Le.left,Ve-=Le.top}else ce&&(Qe=ce.x*Le.width,Ve=ce.y*Le.height);de!=="h"&&(ke.style.left=`calc(${Qe/Le.width*100}% - ${ke.offsetWidth/2}px)`),de!=="v"&&(ke.style.top=`calc(${Ve/Le.height*100}% - ${ke.offsetHeight/2}px)`),O.cache={x:Qe/Le.width,y:Ve/Le.height};let st=Ce(Qe/Le.width),kt=Ce(Ve/Le.height);switch(de){case"v":return pe.onchange(st);case"h":return pe.onchange(kt);default:return pe.onchange(st,kt)}},_tapstop(){O.options.onstop(),o(document,["mouseup","touchend","touchcancel"],O._tapstop),o(document,["mousemove","touchmove"],O._tapmove)},trigger(){O._tapmove()},update($=0,pe=0){let{left:ce,top:de,width:ke,height:Re}=O.options.wrapper.getBoundingClientRect();O.options.lock==="h"&&(pe=$),O._tapmove({clientX:ce+ke*$,clientY:de+Re*pe})},destroy(){let{options:$,_tapstart:pe,_keyboard:ce}=O;o(document,["keydown","keyup"],ce),o([$.wrapper,$.element],"mousedown",pe),o([$.wrapper,$.element],"touchstart",pe,{passive:!1})}},{options:P,_tapstart:R,_keyboard:ge}=O;return i([P.wrapper,P.element],"mousedown",R),i([P.wrapper,P.element],"touchstart",R,{passive:!1}),i(document,["keydown","keyup"],ge),O}function ze(le={}){le=Object.assign({onchange:()=>0,className:"",elements:[]},le);let O=i(le.elements,"click",P=>{le.elements.forEach(R=>R.classList[P.target===R?"add":"remove"](le.className)),le.onchange(P),P.stopPropagation()});return{destroy:()=>o(...O)}}let Xe={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},ye=(le,O,P)=>{let R=typeof le!="object"||le instanceof HTMLElement?{reference:le,popper:O,...P}:le;return{update(ge=R){let{reference:$,popper:pe}=Object.assign(R,ge);if(!pe||!$)throw new Error("Popper- or reference-element missing.");return((ce,de,ke)=>{let{container:Re,arrow:Le,margin:Qe,padding:Ve,position:st,variantFlipOrder:kt,positionFlipOrder:gr}={container:document.documentElement.getBoundingClientRect(),...Xe,...ke},{left:ci,top:ur}=de.style;de.style.left="0",de.style.top="0";let Dt=ce.getBoundingClientRect(),ar=de.getBoundingClientRect(),Nr={t:Dt.top-ar.height-Qe,b:Dt.bottom+Qe,r:Dt.right+Qe,l:Dt.left-ar.width-Qe},qi={vs:Dt.left,vm:Dt.left+Dt.width/2-ar.width/2,ve:Dt.left+Dt.width-ar.width,hs:Dt.top,hm:Dt.bottom-Dt.height/2-ar.height/2,he:Dt.bottom-ar.height},[ro,Yr="middle"]=st.split("-"),lr=gr[ro],Gn=kt[Yr],{top:Xn,left:Bi,bottom:Nn,right:Fi}=Re;for(let Zr of lr){let Gt=Zr==="t"||Zr==="b",fi=Nr[Zr],[vs,ys]=Gt?["top","left"]:["left","top"],[bs,ws]=Gt?[ar.height,ar.width]:[ar.width,ar.height],[iu,su]=Gt?[Nn,Fi]:[Fi,Nn],[ou,uu]=Gt?[Xn,Bi]:[Bi,Xn];if(!(fi<ou||fi+bs+Ve>iu))for(let au of Gn){let Ss=qi[(Gt?"v":"h")+au];if(!(Ss<uu||Ss+ws+Ve>su)){if(Ss-=ar[ys],fi-=ar[vs],de.style[ys]=`${Ss}px`,de.style[vs]=`${fi}px`,Le){let lu=Gt?Dt.width/2:Dt.height/2,_s=ws/2,cu=lu>_s,od=Ss+{s:cu?_s:lu,m:_s,e:cu?_s:ws-lu}[au],ud=fi+{t:bs,b:0,r:0,l:bs}[Zr];Le.style[ys]=`${od}px`,Le.style[vs]=`${ud}px`}return Zr+au}}}return de.style.left=ci,de.style.top=ur,null})($,pe,R)}}},Ee=class Ee{constructor(O){Pr(this,"_initializingActive",!0);Pr(this,"_recalc",!0);Pr(this,"_nanopop",null);Pr(this,"_root",null);Pr(this,"_color",Ie());Pr(this,"_lastColor",Ie());Pr(this,"_swatchColors",[]);Pr(this,"_setupAnimationFrame",null);Pr(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=O=Object.assign({...Ee.DEFAULT_OPTIONS},O);let{swatches:P,components:R,theme:ge,sliders:$,lockOpacity:pe,padding:ce}=O;["nano","monolith"].includes(ge)&&!$&&(O.sliders="h"),R.interaction||(R.interaction={});let{preview:de,opacity:ke,hue:Re,palette:Le}=R;R.opacity=!pe&&ke,R.palette=Le||de||ke||Re,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),P&&P.length&&P.forEach(kt=>this.addSwatch(kt));let{button:Qe,app:Ve}=this._root;this._nanopop=ye(Qe,Ve,{margin:ce}),Qe.setAttribute("role","button"),Qe.setAttribute("aria-label",this._t("btn:toggle"));let st=this;this._setupAnimationFrame=requestAnimationFrame(function kt(){if(!Ve.offsetWidth)return requestAnimationFrame(kt);st.setColor(O.default),st._rePositioningPicker(),O.defaultRepresentation&&(st._representation=O.defaultRepresentation,st.setColorRepresentation(st._representation)),O.showAlways&&st.show(),st._initializingActive=!1,st._emit("init")})}_preBuild(){let{options:O}=this;for(let P of["el","container"])O[P]=d(O[P]);this._root=(P=>{let{components:R,useAsButton:ge,inline:$,appClass:pe,theme:ce,lockOpacity:de}=P.options,ke=Ve=>Ve?"":'style="display:none" hidden',Re=Ve=>P._t(Ve),Le=l(`
      <div :ref="root" class="pickr">

        ${ge?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${pe||""}" data-theme="${ce}" ${$?'style="position: unset"':""} aria-label="${Re("ui:dialog")}" role="window">
          <div class="pcr-selection" ${ke(R.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${ke(R.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${Re("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${Re("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${ke(R.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${Re("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${ke(R.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${Re("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${R.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${ke(Object.keys(R.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${ke(R.interaction.input)} aria-label="${Re("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${de?"HEX":"HEXA"}" type="button" ${ke(R.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${de?"RGB":"RGBA"}" type="button" ${ke(R.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${de?"HSL":"HSLA"}" type="button" ${ke(R.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${de?"HSV":"HSVA"}" type="button" ${ke(R.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${ke(R.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${Re("btn:save")}" type="button" ${ke(R.interaction.save)} aria-label="${Re("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${Re("btn:cancel")}" type="button" ${ke(R.interaction.cancel)} aria-label="${Re("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${Re("btn:clear")}" type="button" ${ke(R.interaction.clear)} aria-label="${Re("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),Qe=Le.interaction;return Qe.options.find(Ve=>!Ve.hidden&&!Ve.classList.add("active")),Qe.type=()=>Qe.options.find(Ve=>Ve.classList.contains("active")),Le})(this),O.useAsButton&&(this._root.button=O.el),O.container.appendChild(this._root.root)}_finalBuild(){let O=this.options,P=this._root;if(O.container.removeChild(P.root),O.inline){let R=O.el.parentElement;O.el.nextSibling?R.insertBefore(P.app,O.el.nextSibling):R.appendChild(P.app)}else O.container.appendChild(P.app);O.useAsButton?O.inline&&O.el.remove():O.el.parentNode.replaceChild(P.root,O.el),O.disabled&&this.disable(),O.comparison||(P.button.style.transition="none",O.useAsButton||(P.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){let O=this,P=this.options.components,R=(O.options.sliders||"v").repeat(2),[ge,$]=R.match(/^[vh]+$/g)?R:[],pe=()=>this._color||(this._color=this._lastColor.clone()),ce={palette:Ge({element:O._root.palette.picker,wrapper:O._root.palette.palette,onstop:()=>O._emit("changestop","slider",O),onchange(de,ke){if(!P.palette)return;let Re=pe(),{_root:Le,options:Qe}=O,{lastColor:Ve,currentColor:st}=Le.preview;O._recalc&&(Re.s=100*de,Re.v=100-100*ke,Re.v<0&&(Re.v=0),O._updateOutput("slider"));let kt=Re.toRGBA().toString(0);this.element.style.background=kt,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${Re.a}), transparent),
                        linear-gradient(to left, hsla(${Re.h}, 100%, 50%, ${Re.a}), rgba(255, 255, 255, ${Re.a}))
                    `,Qe.comparison?Qe.useAsButton||O._lastColor||Ve.style.setProperty("--pcr-color",kt):(Le.button.style.setProperty("--pcr-color",kt),Le.button.classList.remove("clear"));let gr=Re.toHEXA().toString();for(let{el:ci,color:ur}of O._swatchColors)ci.classList[gr===ur.toHEXA().toString()?"add":"remove"]("pcr-active");st.style.setProperty("--pcr-color",kt)}}),hue:Ge({lock:$==="v"?"h":"v",element:O._root.hue.picker,wrapper:O._root.hue.slider,onstop:()=>O._emit("changestop","slider",O),onchange(de){if(!P.hue||!P.palette)return;let ke=pe();O._recalc&&(ke.h=360*de),this.element.style.backgroundColor=`hsl(${ke.h}, 100%, 50%)`,ce.palette.trigger()}}),opacity:Ge({lock:ge==="v"?"h":"v",element:O._root.opacity.picker,wrapper:O._root.opacity.slider,onstop:()=>O._emit("changestop","slider",O),onchange(de){if(!P.opacity||!P.palette)return;let ke=pe();O._recalc&&(ke.a=Math.round(100*de)/100),this.element.style.background=`rgba(0, 0, 0, ${ke.a})`,ce.palette.trigger()}}),selectable:ze({elements:O._root.interaction.options,className:"active",onchange(de){O._representation=de.target.getAttribute("data-type").toUpperCase(),O._recalc&&O._updateOutput("swatch")}})};this._components=ce}_bindEvents(){let{_root:O,options:P}=this,R=[i(O.interaction.clear,"click",()=>this._clearColor()),i([O.interaction.cancel,O.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),i(O.interaction.save,"click",()=>{!this.applyColor()&&!P.showAlways&&this.hide()}),i(O.interaction.result,["keyup","input"],ge=>{this.setColor(ge.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),ge.stopImmediatePropagation()}),i(O.interaction.result,["focus","blur"],ge=>{this._recalc=ge.type==="blur",this._recalc&&this._updateOutput(null)}),i([O.palette.palette,O.palette.picker,O.hue.slider,O.hue.picker,O.opacity.slider,O.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!P.showAlways){let ge=P.closeWithKey;R.push(i(O.button,"click",()=>this.isOpen()?this.hide():this.show()),i(document,"keyup",$=>this.isOpen()&&($.key===ge||$.code===ge)&&this.hide()),i(document,["touchstart","mousedown"],$=>{this.isOpen()&&!c($).some(pe=>pe===O.app||pe===O.button)&&this.hide()},{capture:!0}))}if(P.adjustableNumbers){let ge={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};h(O.interaction.result,($,pe,ce)=>{let de=ge[this.getColorRepresentation().toLowerCase()];if(de){let ke=de[ce],Re=$+(ke>=100?1e3*pe:pe);return Re<=0?0:Number((Re<ke?Re:ke).toPrecision(3))}return $})}if(P.autoReposition&&!P.inline){let ge=null,$=this;R.push(i(window,["scroll","resize"],()=>{$.isOpen()&&(P.closeOnScroll&&$.hide(),ge===null?(ge=setTimeout(()=>ge=null,100),requestAnimationFrame(function pe(){$._rePositioningPicker(),ge!==null&&requestAnimationFrame(pe)})):(clearTimeout(ge),ge=setTimeout(()=>ge=null,100)))},{capture:!0}))}this._eventBindings=R}_rePositioningPicker(){let{options:O}=this;if(!O.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:O.position})){let P=this._root.app,R=P.getBoundingClientRect();P.style.top=(window.innerHeight-R.height)/2+"px",P.style.left=(window.innerWidth-R.width)/2+"px"}}_updateOutput(O){let{_root:P,_color:R,options:ge}=this;if(P.interaction.type()){let $=`to${P.interaction.type().getAttribute("data-type")}`;P.interaction.result.value=typeof R[$]=="function"?R[$]().toString(ge.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",R,O,this)}_clearColor(O=!1){let{_root:P,options:R}=this;R.useAsButton||P.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),P.button.classList.add("clear"),R.showAlways||this.hide(),this._lastColor=null,this._initializingActive||O||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(O){let{values:P,type:R,a:ge}=me(O),{lockOpacity:$}=this.options,pe=ge!==void 0&&ge!==1;return P&&P.length===3&&(P[3]=void 0),{values:!P||$&&pe?null:P,type:R}}_t(O){return this.options.i18n[O]||Ee.I18N_DEFAULTS[O]}_emit(O,...P){this._eventListener[O].forEach(R=>R(...P,this))}on(O,P){return this._eventListener[O].push(P),this}off(O,P){let R=this._eventListener[O]||[],ge=R.indexOf(P);return~ge&&R.splice(ge,1),this}addSwatch(O){let{values:P}=this._parseLocalColor(O);if(P){let{_swatchColors:R,_root:ge}=this,$=Ie(...P),pe=u(`<button type="button" style="--pcr-color: ${$.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return ge.swatches.appendChild(pe),R.push({el:pe,color:$}),this._eventBindings.push(i(pe,"click",()=>{this.setHSVA(...$.toHSVA(),!0),this._emit("swatchselect",$),this._emit("change",$,"swatch",this)})),!0}return!1}removeSwatch(O){let P=this._swatchColors[O];if(P){let{el:R}=P;return this._root.swatches.removeChild(R),this._swatchColors.splice(O,1),!0}return!1}applyColor(O=!1){let{preview:P,button:R}=this._root,ge=this._color.toRGBA().toString(0);return P.lastColor.style.setProperty("--pcr-color",ge),this.options.useAsButton||R.style.setProperty("--pcr-color",ge),R.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||O||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(O=>o(...O)),Object.keys(this._components).forEach(O=>this._components[O].destroy())}destroyAndRemove(){this.destroy();let{root:O,app:P}=this._root;O.parentElement&&O.parentElement.removeChild(O),P.parentElement.removeChild(P),Object.keys(this).forEach(R=>this[R]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(O=360,P=0,R=0,ge=1,$=!1){let pe=this._recalc;if(this._recalc=!1,O<0||O>360||P<0||P>100||R<0||R>100||ge<0||ge>1)return!1;this._color=Ie(O,P,R,ge);let{hue:ce,opacity:de,palette:ke}=this._components;return ce.update(O/360),de.update(ge),ke.update(P/100,1-R/100),$||this.applyColor(),pe&&this._updateOutput(),this._recalc=pe,!0}setColor(O,P=!1){if(O===null)return this._clearColor(P),!0;let{values:R,type:ge}=this._parseLocalColor(O);if(R){let $=ge.toUpperCase(),{options:pe}=this._root.interaction,ce=pe.find(de=>de.getAttribute("data-type")===$);if(ce&&!ce.hidden)for(let de of pe)de.classList[de===ce?"add":"remove"]("active");return!!this.setHSVA(...R,P)&&this.setColorRepresentation($)}return!1}setColorRepresentation(O){return O=O.toUpperCase(),!!this._root.interaction.options.find(P=>P.getAttribute("data-type").startsWith(O)&&!P.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};Pr(Ee,"utils",r),Pr(Ee,"version","1.9.1"),Pr(Ee,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),Pr(Ee,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),Pr(Ee,"create",O=>new Ee(O));let he=Ee;return e=e.default})())});var ba=we(Ot=>{"use strict";S();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.regexpCode=Ot.getEsmExportName=Ot.getProperty=Ot.safeStringify=Ot.stringify=Ot.strConcat=Ot.addCodeArg=Ot.str=Ot._=Ot.nil=Ot._Code=Ot.Name=Ot.IDENTIFIER=Ot._CodeOrName=void 0;var va=class{};Ot._CodeOrName=va;Ot.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ws=class extends va{constructor(e){if(super(),!Ot.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Ot.Name=Ws;var $n=class extends va{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof Ws&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Ot._Code=$n;Ot.nil=new $n("");function $S(t,...e){let r=[t[0]],n=0;for(;n<e.length;)R0(r,e[n]),r.push(t[++n]);return new $n(r)}Ot._=$S;var T0=new $n("+");function TS(t,...e){let r=[ya(t[0])],n=0;for(;n<e.length;)r.push(T0),R0(r,e[n]),r.push(T0,ya(t[++n]));return UR(r),new $n(r)}Ot.str=TS;function R0(t,e){e instanceof $n?t.push(...e._items):e instanceof Ws?t.push(e):t.push(QR(e))}Ot.addCodeArg=R0;function UR(t){let e=1;for(;e<t.length-1;){if(t[e]===T0){let r=zR(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function zR(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Ws||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Ws))return`"${t}${e.slice(1)}`}function jR(t,e){return e.emptyStr()?t:t.emptyStr()?e:TS`${t}${e}`}Ot.strConcat=jR;function QR(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:ya(Array.isArray(t)?t.join(","):t)}function HR(t){return new $n(ya(t))}Ot.stringify=HR;function ya(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Ot.safeStringify=ya;function WR(t){return typeof t=="string"&&Ot.IDENTIFIER.test(t)?new $n(`.${t}`):$S`[${t}]`}Ot.getProperty=WR;function VR(t){if(typeof t=="string"&&Ot.IDENTIFIER.test(t))return new $n(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}Ot.getEsmExportName=VR;function GR(t){return new $n(t.toString())}Ot.regexpCode=GR});var D0=we(Gr=>{"use strict";S();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.ValueScope=Gr.ValueScopeName=Gr.Scope=Gr.varKinds=Gr.UsedValueState=void 0;var Vr=ba(),I0=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Of;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Of||(Gr.UsedValueState=Of={}));Gr.varKinds={const:new Vr.Name("const"),let:new Vr.Name("let"),var:new Vr.Name("var")};var xf=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Vr.Name?e:this.name(e)}name(e){return new Vr.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Gr.Scope=xf;var kf=class extends Vr.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,Vr._)`.${new Vr.Name(r)}[${n}]`}};Gr.ValueScopeName=kf;var XR=(0,Vr._)`\n`,N0=class extends xf{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?XR:Vr.nil}}get(){return this._scope}name(e){return new kf(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:o}=i,u=(n=r.key)!==null&&n!==void 0?n:r.ref,l=this._values[o];if(l){let h=l.get(u);if(h)return h}else l=this._values[o]=new Map;l.set(u,i);let c=this._scope[o]||(this._scope[o]=[]),d=c.length;return c[d]=r.ref,i.setValue(r,{property:o,itemIndex:d}),i}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Vr._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(e,r,n={},i){let o=Vr.nil;for(let u in e){let l=e[u];if(!l)continue;let c=n[u]=n[u]||new Map;l.forEach(d=>{if(c.has(d))return;c.set(d,Of.Started);let h=r(d);if(h){let g=this.opts.es5?Gr.varKinds.var:Gr.varKinds.const;o=(0,Vr._)`${o}${g} ${d} = ${h};${this.opts._n}`}else if(h=i==null?void 0:i(d))o=(0,Vr._)`${o}${h}${this.opts._n}`;else throw new I0(d);c.set(d,Of.Completed)})}return o}};Gr.ValueScope=N0});var dt=we(ct=>{"use strict";S();Object.defineProperty(ct,"__esModule",{value:!0});ct.or=ct.and=ct.not=ct.CodeGen=ct.operators=ct.varKinds=ct.ValueScopeName=ct.ValueScope=ct.Scope=ct.Name=ct.regexpCode=ct.stringify=ct.getProperty=ct.nil=ct.strConcat=ct.str=ct._=void 0;var St=ba(),Qn=D0(),cs=ba();Object.defineProperty(ct,"_",{enumerable:!0,get:function(){return cs._}});Object.defineProperty(ct,"str",{enumerable:!0,get:function(){return cs.str}});Object.defineProperty(ct,"strConcat",{enumerable:!0,get:function(){return cs.strConcat}});Object.defineProperty(ct,"nil",{enumerable:!0,get:function(){return cs.nil}});Object.defineProperty(ct,"getProperty",{enumerable:!0,get:function(){return cs.getProperty}});Object.defineProperty(ct,"stringify",{enumerable:!0,get:function(){return cs.stringify}});Object.defineProperty(ct,"regexpCode",{enumerable:!0,get:function(){return cs.regexpCode}});Object.defineProperty(ct,"Name",{enumerable:!0,get:function(){return cs.Name}});var Af=D0();Object.defineProperty(ct,"Scope",{enumerable:!0,get:function(){return Af.Scope}});Object.defineProperty(ct,"ValueScope",{enumerable:!0,get:function(){return Af.ValueScope}});Object.defineProperty(ct,"ValueScopeName",{enumerable:!0,get:function(){return Af.ValueScopeName}});Object.defineProperty(ct,"varKinds",{enumerable:!0,get:function(){return Af.varKinds}});ct.operators={GT:new St._Code(">"),GTE:new St._Code(">="),LT:new St._Code("<"),LTE:new St._Code("<="),EQ:new St._Code("==="),NEQ:new St._Code("!=="),NOT:new St._Code("!"),OR:new St._Code("||"),AND:new St._Code("&&"),ADD:new St._Code("+")};var Ri=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},M0=class extends Ri{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Qn.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=Qo(this.rhs,e,r)),this}get names(){return this.rhs instanceof St._CodeOrName?this.rhs.names:{}}},Cf=class extends Ri{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof St.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Qo(this.rhs,e,r),this}get names(){let e=this.lhs instanceof St.Name?{}:{...this.lhs.names};return Pf(e,this.rhs)}},L0=class extends Cf{constructor(e,r,n,i){super(e,n,i),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},q0=class extends Ri{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},B0=class extends Ri{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},F0=class extends Ri{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},U0=class extends Ri{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Qo(this.code,e,r),this}get names(){return this.code instanceof St._CodeOrName?this.code.names:{}}},wa=class extends Ri{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,i=n.length;for(;i--;){let o=n[i];o.optimizeNames(e,r)||(KR(e,o.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Xs(e,r.names),{})}},Ii=class extends wa{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},z0=class extends wa{},jo=class extends Ii{};jo.kind="else";var Vs=class t extends Ii{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new jo(n):n}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(RS(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Qo(this.condition,e,r),this}get names(){let e=super.names;return Pf(e,this.condition),this.else&&Xs(e,this.else.names),e}};Vs.kind="if";var Gs=class extends Ii{};Gs.kind="for";var j0=class extends Gs{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=Qo(this.iteration,e,r),this}get names(){return Xs(super.names,this.iteration.names)}},Q0=class extends Gs{constructor(e,r,n,i){super(),this.varKind=e,this.name=r,this.from=n,this.to=i}render(e){let r=e.es5?Qn.varKinds.var:this.varKind,{name:n,from:i,to:o}=this;return`for(${r} ${n}=${i}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){let e=Pf(super.names,this.from);return Pf(e,this.to)}},Ef=class extends Gs{constructor(e,r,n,i){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=Qo(this.iterable,e,r),this}get names(){return Xs(super.names,this.iterable.names)}},Sa=class extends Ii{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Sa.kind="func";var _a=class extends wa{render(e){return"return "+super.render(e)}};_a.kind="return";var H0=class extends Ii{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,i;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(i=this.finally)===null||i===void 0||i.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Xs(e,this.catch.names),this.finally&&Xs(e,this.finally.names),e}},Oa=class extends Ii{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Oa.kind="catch";var xa=class extends Ii{render(e){return"finally"+super.render(e)}};xa.kind="finally";var W0=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new Qn.Scope({parent:e}),this._nodes=[new z0]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,i){let o=this._scope.toName(r);return n!==void 0&&i&&(this._constants[o.str]=n),this._leafNode(new M0(e,o,n)),o}const(e,r,n){return this._def(Qn.varKinds.const,e,r,n)}let(e,r,n){return this._def(Qn.varKinds.let,e,r,n)}var(e,r,n){return this._def(Qn.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new Cf(e,r,n))}add(e,r){return this._leafNode(new L0(e,ct.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==St.nil&&this._leafNode(new U0(e)),this}object(...e){let r=["{"];for(let[n,i]of e)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,St.addCodeArg)(r,i));return r.push("}"),new St._Code(r)}if(e,r,n){if(this._blockNode(new Vs(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Vs(e))}else(){return this._elseNode(new jo)}endIf(){return this._endBlockNode(Vs,jo)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new j0(e),r)}forRange(e,r,n,i,o=this.opts.es5?Qn.varKinds.var:Qn.varKinds.let){let u=this._scope.toName(e);return this._for(new Q0(o,u,r,n),()=>i(u))}forOf(e,r,n,i=Qn.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let u=r instanceof St.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,St._)`${u}.length`,l=>{this.var(o,(0,St._)`${u}[${l}]`),n(o)})}return this._for(new Ef("of",i,o,r),()=>n(o))}forIn(e,r,n,i=this.opts.es5?Qn.varKinds.var:Qn.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,St._)`Object.keys(${r})`,n);let o=this._scope.toName(e);return this._for(new Ef("in",i,o,r),()=>n(o))}endFor(){return this._endBlockNode(Gs)}label(e){return this._leafNode(new q0(e))}break(e){return this._leafNode(new B0(e))}return(e){let r=new _a;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_a)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new H0;if(this._blockNode(i),this.code(e),r){let o=this.name("e");this._currNode=i.catch=new Oa(o),r(o)}return n&&(this._currNode=i.finally=new xa,this.code(n)),this._endBlockNode(Oa,xa)}throw(e){return this._leafNode(new F0(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=St.nil,n,i){return this._blockNode(new Sa(e,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(Sa)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Vs))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};ct.CodeGen=W0;function Xs(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Pf(t,e){return e instanceof St._CodeOrName?Xs(t,e.names):t}function Qo(t,e,r){if(t instanceof St.Name)return n(t);if(!i(t))return t;return new St._Code(t._items.reduce((o,u)=>(u instanceof St.Name&&(u=n(u)),u instanceof St._Code?o.push(...u._items):o.push(u),o),[]));function n(o){let u=r[o.str];return u===void 0||e[o.str]!==1?o:(delete e[o.str],u)}function i(o){return o instanceof St._Code&&o._items.some(u=>u instanceof St.Name&&e[u.str]===1&&r[u.str]!==void 0)}}function KR(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function RS(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,St._)`!${V0(t)}`}ct.not=RS;var YR=IS(ct.operators.AND);function ZR(...t){return t.reduce(YR)}ct.and=ZR;var JR=IS(ct.operators.OR);function eI(...t){return t.reduce(JR)}ct.or=eI;function IS(t){return(e,r)=>e===St.nil?r:r===St.nil?e:(0,St._)`${V0(e)} ${t} ${V0(r)}`}function V0(t){return t instanceof St.Name?t:(0,St._)`(${t})`}});var xt=we(ht=>{"use strict";S();Object.defineProperty(ht,"__esModule",{value:!0});ht.checkStrictMode=ht.getErrorPath=ht.Type=ht.useFunc=ht.setEvaluated=ht.evaluatedPropsToName=ht.mergeEvaluated=ht.eachItem=ht.unescapeJsonPointer=ht.escapeJsonPointer=ht.escapeFragment=ht.unescapeFragment=ht.schemaRefOrVal=ht.schemaHasRulesButRef=ht.schemaHasRules=ht.checkUnknownRules=ht.alwaysValidSchema=ht.toHash=void 0;var It=dt(),tI=ba();function rI(t){let e={};for(let r of t)e[r]=!0;return e}ht.toHash=rI;function nI(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(MS(t,e),!LS(e,t.self.RULES.all))}ht.alwaysValidSchema=nI;function MS(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let i=n.RULES.keywords;for(let o in e)i[o]||FS(t,`unknown keyword: "${o}"`)}ht.checkUnknownRules=MS;function LS(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}ht.schemaHasRules=LS;function iI(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}ht.schemaHasRulesButRef=iI;function sI({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,It._)`${r}`}return(0,It._)`${t}${e}${(0,It.getProperty)(n)}`}ht.schemaRefOrVal=sI;function oI(t){return qS(decodeURIComponent(t))}ht.unescapeFragment=oI;function uI(t){return encodeURIComponent(X0(t))}ht.escapeFragment=uI;function X0(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}ht.escapeJsonPointer=X0;function qS(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}ht.unescapeJsonPointer=qS;function aI(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}ht.eachItem=aI;function NS({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,o,u,l)=>{let c=u===void 0?o:u instanceof It.Name?(o instanceof It.Name?t(i,o,u):e(i,o,u),u):o instanceof It.Name?(e(i,u,o),o):r(o,u);return l===It.Name&&!(c instanceof It.Name)?n(i,c):c}}ht.mergeEvaluated={props:NS({mergeNames:(t,e,r)=>t.if((0,It._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,It._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,It._)`${r} || {}`).code((0,It._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,It._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,It._)`${r} || {}`),K0(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:BS}),items:NS({mergeNames:(t,e,r)=>t.if((0,It._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,It._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,It._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,It._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function BS(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,It._)`{}`);return e!==void 0&&K0(t,r,e),r}ht.evaluatedPropsToName=BS;function K0(t,e,r){Object.keys(r).forEach(n=>t.assign((0,It._)`${e}${(0,It.getProperty)(n)}`,!0))}ht.setEvaluated=K0;var DS={};function lI(t,e){return t.scopeValue("func",{ref:e,code:DS[e.code]||(DS[e.code]=new tI._Code(e.code))})}ht.useFunc=lI;var G0;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(G0||(ht.Type=G0={}));function cI(t,e,r){if(t instanceof It.Name){let n=e===G0.Num;return r?n?(0,It._)`"[" + ${t} + "]"`:(0,It._)`"['" + ${t} + "']"`:n?(0,It._)`"/" + ${t}`:(0,It._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,It.getProperty)(t).toString():"/"+X0(t)}ht.getErrorPath=cI;function FS(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}ht.checkStrictMode=FS});var Ni=we(Y0=>{"use strict";S();Object.defineProperty(Y0,"__esModule",{value:!0});var _r=dt(),fI={data:new _r.Name("data"),valCxt:new _r.Name("valCxt"),instancePath:new _r.Name("instancePath"),parentData:new _r.Name("parentData"),parentDataProperty:new _r.Name("parentDataProperty"),rootData:new _r.Name("rootData"),dynamicAnchors:new _r.Name("dynamicAnchors"),vErrors:new _r.Name("vErrors"),errors:new _r.Name("errors"),this:new _r.Name("this"),self:new _r.Name("self"),scope:new _r.Name("scope"),json:new _r.Name("json"),jsonPos:new _r.Name("jsonPos"),jsonLen:new _r.Name("jsonLen"),jsonPart:new _r.Name("jsonPart")};Y0.default=fI});var ka=we(Or=>{"use strict";S();Object.defineProperty(Or,"__esModule",{value:!0});Or.extendErrors=Or.resetErrorsCount=Or.reportExtraError=Or.reportError=Or.keyword$DataError=Or.keywordError=void 0;var _t=dt(),$f=xt(),Rr=Ni();Or.keywordError={message:({keyword:t})=>(0,_t.str)`must pass "${t}" keyword validation`};Or.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,_t.str)`"${t}" keyword must be ${e} ($data)`:(0,_t.str)`"${t}" keyword is invalid ($data)`};function dI(t,e=Or.keywordError,r,n){let{it:i}=t,{gen:o,compositeRule:u,allErrors:l}=i,c=jS(t,e,r);(n!=null?n:u||l)?US(o,c):zS(i,(0,_t._)`[${c}]`)}Or.reportError=dI;function hI(t,e=Or.keywordError,r){let{it:n}=t,{gen:i,compositeRule:o,allErrors:u}=n,l=jS(t,e,r);US(i,l),o||u||zS(n,Rr.default.vErrors)}Or.reportExtraError=hI;function pI(t,e){t.assign(Rr.default.errors,e),t.if((0,_t._)`${Rr.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,_t._)`${Rr.default.vErrors}.length`,e),()=>t.assign(Rr.default.vErrors,null)))}Or.resetErrorsCount=pI;function gI({gen:t,keyword:e,schemaValue:r,data:n,errsCount:i,it:o}){if(i===void 0)throw new Error("ajv implementation error");let u=t.name("err");t.forRange("i",i,Rr.default.errors,l=>{t.const(u,(0,_t._)`${Rr.default.vErrors}[${l}]`),t.if((0,_t._)`${u}.instancePath === undefined`,()=>t.assign((0,_t._)`${u}.instancePath`,(0,_t.strConcat)(Rr.default.instancePath,o.errorPath))),t.assign((0,_t._)`${u}.schemaPath`,(0,_t.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign((0,_t._)`${u}.schema`,r),t.assign((0,_t._)`${u}.data`,n))})}Or.extendErrors=gI;function US(t,e){let r=t.const("err",e);t.if((0,_t._)`${Rr.default.vErrors} === null`,()=>t.assign(Rr.default.vErrors,(0,_t._)`[${r}]`),(0,_t._)`${Rr.default.vErrors}.push(${r})`),t.code((0,_t._)`${Rr.default.errors}++`)}function zS(t,e){let{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw((0,_t._)`new ${t.ValidationError}(${e})`):(r.assign((0,_t._)`${n}.errors`,e),r.return(!1))}var Ks={keyword:new _t.Name("keyword"),schemaPath:new _t.Name("schemaPath"),params:new _t.Name("params"),propertyName:new _t.Name("propertyName"),message:new _t.Name("message"),schema:new _t.Name("schema"),parentSchema:new _t.Name("parentSchema")};function jS(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,_t._)`{}`:mI(t,e,r)}function mI(t,e,r={}){let{gen:n,it:i}=t,o=[vI(i,r),yI(t,r)];return bI(t,e,o),n.object(...o)}function vI({errorPath:t},{instancePath:e}){let r=e?(0,_t.str)`${t}${(0,$f.getErrorPath)(e,$f.Type.Str)}`:t;return[Rr.default.instancePath,(0,_t.strConcat)(Rr.default.instancePath,r)]}function yI({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let i=n?e:(0,_t.str)`${e}/${t}`;return r&&(i=(0,_t.str)`${i}${(0,$f.getErrorPath)(r,$f.Type.Str)}`),[Ks.schemaPath,i]}function bI(t,{params:e,message:r},n){let{keyword:i,data:o,schemaValue:u,it:l}=t,{opts:c,propertyName:d,topSchemaRef:h,schemaPath:g}=l;n.push([Ks.keyword,i],[Ks.params,typeof e=="function"?e(t):e||(0,_t._)`{}`]),c.messages&&n.push([Ks.message,typeof r=="function"?r(t):r]),c.verbose&&n.push([Ks.schema,u],[Ks.parentSchema,(0,_t._)`${h}${g}`],[Rr.default.data,o]),d&&n.push([Ks.propertyName,d])}});var HS=we(Ho=>{"use strict";S();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.boolOrEmptySchema=Ho.topBoolOrEmptySchema=void 0;var wI=ka(),SI=dt(),_I=Ni(),OI={message:"boolean schema is false"};function xI(t){let{gen:e,schema:r,validateName:n}=t;r===!1?QS(t,!1):typeof r=="object"&&r.$async===!0?e.return(_I.default.data):(e.assign((0,SI._)`${n}.errors`,null),e.return(!0))}Ho.topBoolOrEmptySchema=xI;function kI(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),QS(t)):r.var(e,!0)}Ho.boolOrEmptySchema=kI;function QS(t,e){let{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,wI.reportError)(i,OI,void 0,e)}});var Z0=we(Wo=>{"use strict";S();Object.defineProperty(Wo,"__esModule",{value:!0});Wo.getRules=Wo.isJSONType=void 0;var CI=["string","number","integer","boolean","null","object","array"],EI=new Set(CI);function PI(t){return typeof t=="string"&&EI.has(t)}Wo.isJSONType=PI;function AI(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Wo.getRules=AI});var J0=we(fs=>{"use strict";S();Object.defineProperty(fs,"__esModule",{value:!0});fs.shouldUseRule=fs.shouldUseGroup=fs.schemaHasRulesForType=void 0;function $I({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&WS(t,n)}fs.schemaHasRulesForType=$I;function WS(t,e){return e.rules.some(r=>VS(t,r))}fs.shouldUseGroup=WS;function VS(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}fs.shouldUseRule=VS});var Ca=we(xr=>{"use strict";S();Object.defineProperty(xr,"__esModule",{value:!0});xr.reportTypeError=xr.checkDataTypes=xr.checkDataType=xr.coerceAndCheckDataType=xr.getJSONTypes=xr.getSchemaTypes=xr.DataType=void 0;var TI=Z0(),RI=J0(),II=ka(),ut=dt(),GS=xt(),Vo;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Vo||(xr.DataType=Vo={}));function NI(t){let e=XS(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}xr.getSchemaTypes=NI;function XS(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(TI.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}xr.getJSONTypes=XS;function DI(t,e){let{gen:r,data:n,opts:i}=t,o=MI(e,i.coerceTypes),u=e.length>0&&!(o.length===0&&e.length===1&&(0,RI.schemaHasRulesForType)(t,e[0]));if(u){let l=tg(e,n,i.strictNumbers,Vo.Wrong);r.if(l,()=>{o.length?LI(t,e,o):rg(t)})}return u}xr.coerceAndCheckDataType=DI;var KS=new Set(["string","number","integer","boolean","null"]);function MI(t,e){return e?t.filter(r=>KS.has(r)||e==="array"&&r==="array"):[]}function LI(t,e,r){let{gen:n,data:i,opts:o}=t,u=n.let("dataType",(0,ut._)`typeof ${i}`),l=n.let("coerced",(0,ut._)`undefined`);o.coerceTypes==="array"&&n.if((0,ut._)`${u} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,ut._)`${i}[0]`).assign(u,(0,ut._)`typeof ${i}`).if(tg(e,i,o.strictNumbers),()=>n.assign(l,i))),n.if((0,ut._)`${l} !== undefined`);for(let d of r)(KS.has(d)||d==="array"&&o.coerceTypes==="array")&&c(d);n.else(),rg(t),n.endIf(),n.if((0,ut._)`${l} !== undefined`,()=>{n.assign(i,l),qI(t,l)});function c(d){switch(d){case"string":n.elseIf((0,ut._)`${u} == "number" || ${u} == "boolean"`).assign(l,(0,ut._)`"" + ${i}`).elseIf((0,ut._)`${i} === null`).assign(l,(0,ut._)`""`);return;case"number":n.elseIf((0,ut._)`${u} == "boolean" || ${i} === null
              || (${u} == "string" && ${i} && ${i} == +${i})`).assign(l,(0,ut._)`+${i}`);return;case"integer":n.elseIf((0,ut._)`${u} === "boolean" || ${i} === null
              || (${u} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,(0,ut._)`+${i}`);return;case"boolean":n.elseIf((0,ut._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf((0,ut._)`${i} === "true" || ${i} === 1`).assign(l,!0);return;case"null":n.elseIf((0,ut._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(l,null);return;case"array":n.elseIf((0,ut._)`${u} === "string" || ${u} === "number"
              || ${u} === "boolean" || ${i} === null`).assign(l,(0,ut._)`[${i}]`)}}}function qI({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,ut._)`${e} !== undefined`,()=>t.assign((0,ut._)`${e}[${r}]`,n))}function eg(t,e,r,n=Vo.Correct){let i=n===Vo.Correct?ut.operators.EQ:ut.operators.NEQ,o;switch(t){case"null":return(0,ut._)`${e} ${i} null`;case"array":o=(0,ut._)`Array.isArray(${e})`;break;case"object":o=(0,ut._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=u((0,ut._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=u();break;default:return(0,ut._)`typeof ${e} ${i} ${t}`}return n===Vo.Correct?o:(0,ut.not)(o);function u(l=ut.nil){return(0,ut.and)((0,ut._)`typeof ${e} == "number"`,l,r?(0,ut._)`isFinite(${e})`:ut.nil)}}xr.checkDataType=eg;function tg(t,e,r,n){if(t.length===1)return eg(t[0],e,r,n);let i,o=(0,GS.toHash)(t);if(o.array&&o.object){let u=(0,ut._)`typeof ${e} != "object"`;i=o.null?u:(0,ut._)`!${e} || ${u}`,delete o.null,delete o.array,delete o.object}else i=ut.nil;o.number&&delete o.integer;for(let u in o)i=(0,ut.and)(i,eg(u,e,r,n));return i}xr.checkDataTypes=tg;var BI={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,ut._)`{type: ${t}}`:(0,ut._)`{type: ${e}}`};function rg(t){let e=FI(t);(0,II.reportError)(e,BI)}xr.reportTypeError=rg;function FI(t){let{gen:e,data:r,schema:n}=t,i=(0,GS.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:t}}});var ZS=we(Tf=>{"use strict";S();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.assignDefaults=void 0;var Go=dt(),UI=xt();function zI(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let i in r)YS(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,o)=>YS(t,o,i.default))}Tf.assignDefaults=zI;function YS(t,e,r){let{gen:n,compositeRule:i,data:o,opts:u}=t;if(r===void 0)return;let l=(0,Go._)`${o}${(0,Go.getProperty)(e)}`;if(i){(0,UI.checkStrictMode)(t,`default is ignored for: ${l}`);return}let c=(0,Go._)`${l} === undefined`;u.useDefaults==="empty"&&(c=(0,Go._)`${c} || ${l} === null || ${l} === ""`),n.if(c,(0,Go._)`${l} = ${(0,Go.stringify)(r)}`)}});var Tn=we(Tt=>{"use strict";S();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateUnion=Tt.validateArray=Tt.usePattern=Tt.callValidateCode=Tt.schemaProperties=Tt.allSchemaProperties=Tt.noPropertyInData=Tt.propertyInData=Tt.isOwnProperty=Tt.hasPropFunc=Tt.reportMissingProp=Tt.checkMissingProp=Tt.checkReportMissingProp=void 0;var Lt=dt(),ng=xt(),ds=Ni(),jI=xt();function QI(t,e){let{gen:r,data:n,it:i}=t;r.if(sg(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Lt._)`${e}`},!0),t.error()})}Tt.checkReportMissingProp=QI;function HI({gen:t,data:e,it:{opts:r}},n,i){return(0,Lt.or)(...n.map(o=>(0,Lt.and)(sg(t,e,o,r.ownProperties),(0,Lt._)`${i} = ${o}`)))}Tt.checkMissingProp=HI;function WI(t,e){t.setParams({missingProperty:e},!0),t.error()}Tt.reportMissingProp=WI;function JS(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Lt._)`Object.prototype.hasOwnProperty`})}Tt.hasPropFunc=JS;function ig(t,e,r){return(0,Lt._)`${JS(t)}.call(${e}, ${r})`}Tt.isOwnProperty=ig;function VI(t,e,r,n){let i=(0,Lt._)`${e}${(0,Lt.getProperty)(r)} !== undefined`;return n?(0,Lt._)`${i} && ${ig(t,e,r)}`:i}Tt.propertyInData=VI;function sg(t,e,r,n){let i=(0,Lt._)`${e}${(0,Lt.getProperty)(r)} === undefined`;return n?(0,Lt.or)(i,(0,Lt.not)(ig(t,e,r))):i}Tt.noPropertyInData=sg;function e_(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Tt.allSchemaProperties=e_;function GI(t,e){return e_(e).filter(r=>!(0,ng.alwaysValidSchema)(t,e[r]))}Tt.schemaProperties=GI;function XI({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:u},l,c,d){let h=d?(0,Lt._)`${t}, ${e}, ${n}${i}`:e,g=[[ds.default.instancePath,(0,Lt.strConcat)(ds.default.instancePath,o)],[ds.default.parentData,u.parentData],[ds.default.parentDataProperty,u.parentDataProperty],[ds.default.rootData,ds.default.rootData]];u.opts.dynamicRef&&g.push([ds.default.dynamicAnchors,ds.default.dynamicAnchors]);let v=(0,Lt._)`${h}, ${r.object(...g)}`;return c!==Lt.nil?(0,Lt._)`${l}.call(${c}, ${v})`:(0,Lt._)`${l}(${v})`}Tt.callValidateCode=XI;var KI=(0,Lt._)`new RegExp`;function YI({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,o=i(r,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Lt._)`${i.code==="new RegExp"?KI:(0,jI.useFunc)(t,i)}(${r}, ${n})`})}Tt.usePattern=YI;function ZI(t){let{gen:e,data:r,keyword:n,it:i}=t,o=e.name("valid");if(i.allErrors){let l=e.let("valid",!0);return u(()=>e.assign(l,!1)),l}return e.var(o,!0),u(()=>e.break()),o;function u(l){let c=e.const("len",(0,Lt._)`${r}.length`);e.forRange("i",0,c,d=>{t.subschema({keyword:n,dataProp:d,dataPropType:ng.Type.Num},o),e.if((0,Lt.not)(o),l)})}}Tt.validateArray=ZI;function JI(t){let{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ng.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;let u=e.let("valid",!1),l=e.name("_valid");e.block(()=>r.forEach((c,d)=>{let h=t.subschema({keyword:n,schemaProp:d,compositeRule:!0},l);e.assign(u,(0,Lt._)`${u} || ${l}`),t.mergeValidEvaluated(h,l)||e.if((0,Lt.not)(u))})),t.result(u,()=>t.reset(),()=>t.error(!0))}Tt.validateUnion=JI});var n_=we(oi=>{"use strict";S();Object.defineProperty(oi,"__esModule",{value:!0});oi.validateKeywordUsage=oi.validSchemaType=oi.funcKeywordCode=oi.macroKeywordCode=void 0;var Ir=dt(),Ys=Ni(),eN=Tn(),tN=ka();function rN(t,e){let{gen:r,keyword:n,schema:i,parentSchema:o,it:u}=t,l=e.macro.call(u.self,i,o,u),c=r_(r,n,l);u.opts.validateSchema!==!1&&u.self.validateSchema(l,!0);let d=r.name("valid");t.subschema({schema:l,schemaPath:Ir.nil,errSchemaPath:`${u.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),t.pass(d,()=>t.error(!0))}oi.macroKeywordCode=rN;function nN(t,e){var r;let{gen:n,keyword:i,schema:o,parentSchema:u,$data:l,it:c}=t;sN(c,e);let d=!l&&e.compile?e.compile.call(c.self,o,u,c):e.validate,h=r_(n,i,d),g=n.let("valid");t.block$data(g,v),t.ok((r=e.valid)!==null&&r!==void 0?r:g);function v(){if(e.errors===!1)k(),e.modifying&&t_(t),C(()=>t.error());else{let q=e.async?b():_();e.modifying&&t_(t),C(()=>iN(t,q))}}function b(){let q=n.let("ruleErrs",null);return n.try(()=>k((0,Ir._)`await `),be=>n.assign(g,!1).if((0,Ir._)`${be} instanceof ${c.ValidationError}`,()=>n.assign(q,(0,Ir._)`${be}.errors`),()=>n.throw(be))),q}function _(){let q=(0,Ir._)`${h}.errors`;return n.assign(q,null),k(Ir.nil),q}function k(q=e.async?(0,Ir._)`await `:Ir.nil){let be=c.opts.passContext?Ys.default.this:Ys.default.self,Oe=!("compile"in e&&!l||e.schema===!1);n.assign(g,(0,Ir._)`${q}${(0,eN.callValidateCode)(t,h,be,Oe)}`,e.modifying)}function C(q){var be;n.if((0,Ir.not)((be=e.valid)!==null&&be!==void 0?be:g),q)}}oi.funcKeywordCode=nN;function t_(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Ir._)`${n.parentData}[${n.parentDataProperty}]`))}function iN(t,e){let{gen:r}=t;r.if((0,Ir._)`Array.isArray(${e})`,()=>{r.assign(Ys.default.vErrors,(0,Ir._)`${Ys.default.vErrors} === null ? ${e} : ${Ys.default.vErrors}.concat(${e})`).assign(Ys.default.errors,(0,Ir._)`${Ys.default.vErrors}.length`),(0,tN.extendErrors)(t)},()=>t.error())}function sN({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function r_(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ir.stringify)(r)})}function oN(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}oi.validSchemaType=oN;function uN({schema:t,opts:e,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");let u=i.dependencies;if(u!=null&&u.some(l=>!Object.prototype.hasOwnProperty.call(t,l)))throw new Error(`parent schema must have dependencies of ${o}: ${u.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[o])){let c=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}oi.validateKeywordUsage=uN});var s_=we(hs=>{"use strict";S();Object.defineProperty(hs,"__esModule",{value:!0});hs.extendSubschemaMode=hs.extendSubschemaData=hs.getSubschema=void 0;var ui=dt(),i_=xt();function aN(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:u}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let l=t.schema[e];return r===void 0?{schema:l,schemaPath:(0,ui._)`${t.schemaPath}${(0,ui.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:l[r],schemaPath:(0,ui._)`${t.schemaPath}${(0,ui.getProperty)(e)}${(0,ui.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,i_.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:u,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}hs.getSubschema=aN;function lN(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:u}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:l}=e;if(r!==void 0){let{errorPath:d,dataPathArr:h,opts:g}=e,v=l.let("data",(0,ui._)`${e.data}${(0,ui.getProperty)(r)}`,!0);c(v),t.errorPath=(0,ui.str)`${d}${(0,i_.getErrorPath)(r,n,g.jsPropertySyntax)}`,t.parentDataProperty=(0,ui._)`${r}`,t.dataPathArr=[...h,t.parentDataProperty]}if(i!==void 0){let d=i instanceof ui.Name?i:l.let("data",i,!0);c(d),u!==void 0&&(t.propertyName=u)}o&&(t.dataTypes=o);function c(d){t.data=d,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,d]}}hs.extendSubschemaData=lN;function cN(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}hs.extendSubschemaMode=cN});var og=we((cz,o_)=>{"use strict";S();o_.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!t(e[u],r[u]))return!1}return!0}return e!==e&&r!==r}});var a_=we((dz,u_)=>{"use strict";S();var ps=u_.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Rf(e,n,i,t,"",t)};ps.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ps.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ps.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ps.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Rf(t,e,r,n,i,o,u,l,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,o,u,l,c,d);for(var h in n){var g=n[h];if(Array.isArray(g)){if(h in ps.arrayKeywords)for(var v=0;v<g.length;v++)Rf(t,e,r,g[v],i+"/"+h+"/"+v,o,i,h,n,v)}else if(h in ps.propsKeywords){if(g&&typeof g=="object")for(var b in g)Rf(t,e,r,g[b],i+"/"+h+"/"+fN(b),o,i,h,n,b)}else(h in ps.keywords||t.allKeys&&!(h in ps.skipKeywords))&&Rf(t,e,r,g,i+"/"+h,o,i,h,n)}r(n,i,o,u,l,c,d)}}function fN(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Ea=we(Xr=>{"use strict";S();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.getSchemaRefs=Xr.resolveUrl=Xr.normalizeId=Xr._getFullPath=Xr.getFullPath=Xr.inlineRef=void 0;var dN=xt(),hN=og(),pN=a_(),gN=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function mN(t,e=!0){return typeof t=="boolean"?!0:e===!0?!ug(t):e?l_(t)<=e:!1}Xr.inlineRef=mN;var vN=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ug(t){for(let e in t){if(vN.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(ug)||typeof r=="object"&&ug(r))return!0}return!1}function l_(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!gN.has(r)&&(typeof t[r]=="object"&&(0,dN.eachItem)(t[r],n=>e+=l_(n)),e===1/0))return 1/0}return e}function c_(t,e="",r){r!==!1&&(e=Xo(e));let n=t.parse(e);return f_(t,n)}Xr.getFullPath=c_;function f_(t,e){return t.serialize(e).split("#")[0]+"#"}Xr._getFullPath=f_;var yN=/#\/?$/;function Xo(t){return t?t.replace(yN,""):""}Xr.normalizeId=Xo;function bN(t,e,r){return r=Xo(r),t.resolve(e,r)}Xr.resolveUrl=bN;var wN=/^[a-z_][-a-z0-9._]*$/i;function SN(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=Xo(t[r]||e),o={"":i},u=c_(n,i,!1),l={},c=new Set;return pN(t,{allKeys:!0},(g,v,b,_)=>{if(_===void 0)return;let k=u+v,C=o[_];typeof g[r]=="string"&&(C=q.call(this,g[r])),be.call(this,g.$anchor),be.call(this,g.$dynamicAnchor),o[v]=C;function q(Oe){let Ae=this.opts.uriResolver.resolve;if(Oe=Xo(C?Ae(C,Oe):Oe),c.has(Oe))throw h(Oe);c.add(Oe);let me=this.refs[Oe];return typeof me=="string"&&(me=this.refs[me]),typeof me=="object"?d(g,me.schema,Oe):Oe!==Xo(k)&&(Oe[0]==="#"?(d(g,l[Oe],Oe),l[Oe]=g):this.refs[Oe]=k),Oe}function be(Oe){if(typeof Oe=="string"){if(!wN.test(Oe))throw new Error(`invalid anchor "${Oe}"`);q.call(this,`#${Oe}`)}}}),l;function d(g,v,b){if(v!==void 0&&!hN(g,v))throw h(b)}function h(g){return new Error(`reference "${g}" resolves to more than one schema`)}}Xr.getSchemaRefs=SN});var $a=we(gs=>{"use strict";S();Object.defineProperty(gs,"__esModule",{value:!0});gs.getData=gs.KeywordCxt=gs.validateFunctionCode=void 0;var m_=HS(),d_=Ca(),lg=J0(),If=Ca(),_N=ZS(),Aa=n_(),ag=s_(),He=dt(),tt=Ni(),ON=Ea(),Di=xt(),Pa=ka();function xN(t){if(b_(t)&&(w_(t),y_(t))){EN(t);return}v_(t,()=>(0,m_.topBoolOrEmptySchema)(t))}gs.validateFunctionCode=xN;function v_({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},o){i.code.es5?t.func(e,(0,He._)`${tt.default.data}, ${tt.default.valCxt}`,n.$async,()=>{t.code((0,He._)`"use strict"; ${h_(r,i)}`),CN(t,i),t.code(o)}):t.func(e,(0,He._)`${tt.default.data}, ${kN(i)}`,n.$async,()=>t.code(h_(r,i)).code(o))}function kN(t){return(0,He._)`{${tt.default.instancePath}="", ${tt.default.parentData}, ${tt.default.parentDataProperty}, ${tt.default.rootData}=${tt.default.data}${t.dynamicRef?(0,He._)`, ${tt.default.dynamicAnchors}={}`:He.nil}}={}`}function CN(t,e){t.if(tt.default.valCxt,()=>{t.var(tt.default.instancePath,(0,He._)`${tt.default.valCxt}.${tt.default.instancePath}`),t.var(tt.default.parentData,(0,He._)`${tt.default.valCxt}.${tt.default.parentData}`),t.var(tt.default.parentDataProperty,(0,He._)`${tt.default.valCxt}.${tt.default.parentDataProperty}`),t.var(tt.default.rootData,(0,He._)`${tt.default.valCxt}.${tt.default.rootData}`),e.dynamicRef&&t.var(tt.default.dynamicAnchors,(0,He._)`${tt.default.valCxt}.${tt.default.dynamicAnchors}`)},()=>{t.var(tt.default.instancePath,(0,He._)`""`),t.var(tt.default.parentData,(0,He._)`undefined`),t.var(tt.default.parentDataProperty,(0,He._)`undefined`),t.var(tt.default.rootData,tt.default.data),e.dynamicRef&&t.var(tt.default.dynamicAnchors,(0,He._)`{}`)})}function EN(t){let{schema:e,opts:r,gen:n}=t;v_(t,()=>{r.$comment&&e.$comment&&__(t),RN(t),n.let(tt.default.vErrors,null),n.let(tt.default.errors,0),r.unevaluated&&PN(t),S_(t),DN(t)})}function PN(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,He._)`${r}.evaluated`),e.if((0,He._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,He._)`${t.evaluated}.props`,(0,He._)`undefined`)),e.if((0,He._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,He._)`${t.evaluated}.items`,(0,He._)`undefined`))}function h_(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,He._)`/*# sourceURL=${r} */`:He.nil}function AN(t,e){if(b_(t)&&(w_(t),y_(t))){$N(t,e);return}(0,m_.boolOrEmptySchema)(t,e)}function y_({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function b_(t){return typeof t.schema!="boolean"}function $N(t,e){let{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&__(t),IN(t),NN(t);let o=n.const("_errs",tt.default.errors);S_(t,o),n.var(e,(0,He._)`${o} === ${tt.default.errors}`)}function w_(t){(0,Di.checkUnknownRules)(t),TN(t)}function S_(t,e){if(t.opts.jtd)return p_(t,[],!1,e);let r=(0,d_.getSchemaTypes)(t.schema),n=(0,d_.coerceAndCheckDataType)(t,r);p_(t,r,!n,e)}function TN(t){let{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Di.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function RN(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Di.checkStrictMode)(t,"default is ignored in the schema root")}function IN(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,ON.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function NN(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function __({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){let o=r.$comment;if(i.$comment===!0)t.code((0,He._)`${tt.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){let u=(0,He.str)`${n}/$comment`,l=t.scopeValue("root",{ref:e.root});t.code((0,He._)`${tt.default.self}.opts.$comment(${o}, ${u}, ${l}.schema)`)}}function DN(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=t;r.$async?e.if((0,He._)`${tt.default.errors} === 0`,()=>e.return(tt.default.data),()=>e.throw((0,He._)`new ${i}(${tt.default.vErrors})`)):(e.assign((0,He._)`${n}.errors`,tt.default.vErrors),o.unevaluated&&MN(t),e.return((0,He._)`${tt.default.errors} === 0`))}function MN({gen:t,evaluated:e,props:r,items:n}){r instanceof He.Name&&t.assign((0,He._)`${e}.props`,r),n instanceof He.Name&&t.assign((0,He._)`${e}.items`,n)}function p_(t,e,r,n){let{gen:i,schema:o,data:u,allErrors:l,opts:c,self:d}=t,{RULES:h}=d;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,Di.schemaHasRulesButRef)(o,h))){i.block(()=>x_(t,"$ref",h.all.$ref.definition));return}c.jtd||LN(t,e),i.block(()=>{for(let v of h.rules)g(v);g(h.post)});function g(v){(0,lg.shouldUseGroup)(o,v)&&(v.type?(i.if((0,If.checkDataType)(v.type,u,c.strictNumbers)),g_(t,v),e.length===1&&e[0]===v.type&&r&&(i.else(),(0,If.reportTypeError)(t)),i.endIf()):g_(t,v),l||i.if((0,He._)`${tt.default.errors} === ${n||0}`))}}function g_(t,e){let{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,_N.assignDefaults)(t,e.type),r.block(()=>{for(let o of e.rules)(0,lg.shouldUseRule)(n,o)&&x_(t,o.keyword,o.definition,e.type)})}function LN(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(qN(t,e),t.opts.allowUnionTypes||BN(t,e),FN(t,t.dataTypes))}function qN(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{O_(t.dataTypes,r)||cg(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),zN(t,e)}}function BN(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&cg(t,"use allowUnionTypes to allow union type keyword")}function FN(t,e){let r=t.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,lg.shouldUseRule)(t.schema,i)){let{type:o}=i.definition;o.length&&!o.some(u=>UN(e,u))&&cg(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function UN(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function O_(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function zN(t,e){let r=[];for(let n of t.dataTypes)O_(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function cg(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Di.checkStrictMode)(t,e,t.opts.strictTypes)}var Nf=class{constructor(e,r,n){if((0,Aa.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Di.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",k_(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Aa.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",tt.default.errors))}result(e,r,n){this.failResult((0,He.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,He.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,He._)`${r} !== undefined && (${(0,He.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Pa.reportExtraError:Pa.reportError)(this,this.def.error,r)}$dataError(){(0,Pa.reportError)(this,this.def.$dataError||Pa.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Pa.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=He.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=He.nil,r=He.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:o,def:u}=this;n.if((0,He.or)((0,He._)`${i} === undefined`,r)),e!==He.nil&&n.assign(e,!0),(o.length||u.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==He.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,He.or)(u(),l());function u(){if(n.length){if(!(r instanceof He.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,He._)`${(0,If.checkDataTypes)(c,r,o.opts.strictNumbers,If.DataType.Wrong)}`}return He.nil}function l(){if(i.validateSchema){let c=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,He._)`!${c}(${r})`}return He.nil}}subschema(e,r){let n=(0,ag.getSubschema)(this.it,e);(0,ag.extendSubschemaData)(n,this.it,e),(0,ag.extendSubschemaMode)(n,e);let i={...this.it,...n,items:void 0,props:void 0};return AN(i,r),i}mergeEvaluated(e,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Di.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Di.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,He.Name)),!0}};gs.KeywordCxt=Nf;function x_(t,e,r,n){let i=new Nf(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Aa.funcKeywordCode)(i,r):"macro"in r?(0,Aa.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Aa.funcKeywordCode)(i,r)}var jN=/^\/(?:[^~]|~0|~1)*$/,QN=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function k_(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,o;if(t==="")return tt.default.rootData;if(t[0]==="/"){if(!jN.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,o=tt.default.rootData}else{let d=QN.exec(t);if(!d)throw new Error(`Invalid JSON-pointer: ${t}`);let h=+d[1];if(i=d[2],i==="#"){if(h>=e)throw new Error(c("property/index",h));return n[e-h]}if(h>e)throw new Error(c("data",h));if(o=r[e-h],!i)return o}let u=o,l=i.split("/");for(let d of l)d&&(o=(0,He._)`${o}${(0,He.getProperty)((0,Di.unescapeJsonPointer)(d))}`,u=(0,He._)`${u} && ${o}`);return u;function c(d,h){return`Cannot access ${d} ${h} levels up, current level is ${e}`}}gs.getData=k_});var Df=we(dg=>{"use strict";S();Object.defineProperty(dg,"__esModule",{value:!0});var fg=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};dg.default=fg});var Ta=we(gg=>{"use strict";S();Object.defineProperty(gg,"__esModule",{value:!0});var hg=Ea(),pg=class extends Error{constructor(e,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,hg.resolveUrl)(e,r,n),this.missingSchema=(0,hg.normalizeId)((0,hg.getFullPath)(e,this.missingRef))}};gg.default=pg});var Lf=we(Rn=>{"use strict";S();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.resolveSchema=Rn.getCompilingSchema=Rn.resolveRef=Rn.compileSchema=Rn.SchemaEnv=void 0;var Hn=dt(),HN=Df(),Zs=Ni(),Wn=Ea(),C_=xt(),WN=$a(),Ko=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Wn.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Rn.SchemaEnv=Ko;function vg(t){let e=E_.call(this,t);if(e)return e;let r=(0,Wn.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,u=new Hn.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o}),l;t.$async&&(l=u.scopeValue("Error",{ref:HN.default,code:(0,Hn._)`require("ajv/dist/runtime/validation_error").default`}));let c=u.scopeName("validate");t.validateName=c;let d={gen:u,allErrors:this.opts.allErrors,data:Zs.default.data,parentData:Zs.default.parentData,parentDataProperty:Zs.default.parentDataProperty,dataNames:[Zs.default.data],dataPathArr:[Hn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Hn.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:l,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Hn.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Hn._)`""`,opts:this.opts,self:this},h;try{this._compilations.add(t),(0,WN.validateFunctionCode)(d),u.optimize(this.opts.code.optimize);let g=u.toString();h=`${u.scopeRefs(Zs.default.scope)}return ${g}`,this.opts.code.process&&(h=this.opts.code.process(h,t));let b=new Function(`${Zs.default.self}`,`${Zs.default.scope}`,h)(this,this.scope.get());if(this.scope.value(c,{ref:b}),b.errors=null,b.schema=t.schema,b.schemaEnv=t,t.$async&&(b.$async=!0),this.opts.code.source===!0&&(b.source={validateName:c,validateCode:g,scopeValues:u._values}),this.opts.unevaluated){let{props:_,items:k}=d;b.evaluated={props:_ instanceof Hn.Name?void 0:_,items:k instanceof Hn.Name?void 0:k,dynamicProps:_ instanceof Hn.Name,dynamicItems:k instanceof Hn.Name},b.source&&(b.source.evaluated=(0,Hn.stringify)(b.evaluated))}return t.validate=b,t}catch(g){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),g}finally{this._compilations.delete(t)}}Rn.compileSchema=vg;function VN(t,e,r){var n;r=(0,Wn.resolveUrl)(this.opts.uriResolver,e,r);let i=t.refs[r];if(i)return i;let o=KN.call(this,t,r);if(o===void 0){let u=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:l}=this.opts;u&&(o=new Ko({schema:u,schemaId:l,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=GN.call(this,o)}Rn.resolveRef=VN;function GN(t){return(0,Wn.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:vg.call(this,t)}function E_(t){for(let e of this._compilations)if(XN(e,t))return e}Rn.getCompilingSchema=E_;function XN(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function KN(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Mf.call(this,t,e)}function Mf(t,e){let r=this.opts.uriResolver.parse(e),n=(0,Wn._getFullPath)(this.opts.uriResolver,r),i=(0,Wn.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===i)return mg.call(this,r,t);let o=(0,Wn.normalizeId)(n),u=this.refs[o]||this.schemas[o];if(typeof u=="string"){let l=Mf.call(this,t,u);return typeof(l==null?void 0:l.schema)!="object"?void 0:mg.call(this,r,l)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||vg.call(this,u),o===(0,Wn.normalizeId)(e)){let{schema:l}=u,{schemaId:c}=this.opts,d=l[c];return d&&(i=(0,Wn.resolveUrl)(this.opts.uriResolver,i,d)),new Ko({schema:l,schemaId:c,root:t,baseId:i})}return mg.call(this,r,u)}}Rn.resolveSchema=Mf;var YN=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function mg(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let l of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,C_.unescapeFragment)(l)];if(c===void 0)return;r=c;let d=typeof r=="object"&&r[this.opts.schemaId];!YN.has(l)&&d&&(e=(0,Wn.resolveUrl)(this.opts.uriResolver,e,d))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,C_.schemaHasRulesButRef)(r,this.RULES)){let l=(0,Wn.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=Mf.call(this,n,l)}let{schemaId:u}=this.opts;if(o=o||new Ko({schema:r,schemaId:u,root:n,baseId:e}),o.schema!==o.root.schema)return o}});var P_=we((xz,ZN)=>{ZN.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var $_=we((kz,A_)=>{"use strict";S();var JN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};A_.exports={HEX:JN}});var q_=we((Ez,L_)=>{"use strict";S();var{HEX:eD}=$_();function N_(t){if(M_(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=e;return r?{host:rD(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function yg(t,e=!1){let r="",n=!0;for(let i of t){if(eD[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return e&&r.length===0&&(r="0"),r}function tD(t){let e=0,r={error:!1,address:"",zone:""},n=[],i=[],o=!1,u=!1,l=!1;function c(){if(i.length){if(o===!1){let d=yg(i);if(d!==void 0)n.push(d);else return r.error=!0,!1}i.length=0}return!0}for(let d=0;d<t.length;d++){let h=t[d];if(!(h==="["||h==="]"))if(h===":"){if(u===!0&&(l=!0),!c())break;if(e++,n.push(":"),e>7){r.error=!0;break}d-1>=0&&t[d-1]===":"&&(u=!0);continue}else if(h==="%"){if(!c())break;o=!0}else{i.push(h);continue}}return i.length&&(o?r.zone=i.join(""):l?n.push(i.join("")):n.push(yg(i))),r.address=n.join(""),r}function D_(t,e={}){if(M_(t,":")<2)return{host:t,isIPV6:!1};let r=tD(t);if(r.error)return{host:t,isIPV6:!1};{let n=r.address,i=r.address;return r.zone&&(n+="%"+r.zone,i+="%25"+r.zone),{host:n,escapedHost:i,isIPV6:!0}}}function rD(t,e){let r="",n=!0,i=t.length;for(let o=0;o<i;o++){let u=t[o];u==="0"&&n?(o+1<=i&&t[o+1]===e||o+1===i)&&(r+=u,n=!1):(u===e?n=!0:n=!1,r+=u)}return r}function M_(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}var T_=/^\.\.?\//u,R_=/^\/\.(?:\/|$)/u,I_=/^\/\.\.(?:\/|$)/u,nD=/^\/?(?:.|\n)*?(?=\/|$)/u;function iD(t){let e=[];for(;t.length;)if(t.match(T_))t=t.replace(T_,"");else if(t.match(R_))t=t.replace(R_,"/");else if(t.match(I_))t=t.replace(I_,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(nD);if(r){let n=r[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function sD(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function oD(t,e){let r=[];if(t.userinfo!==void 0&&(r.push(t.userinfo),r.push("@")),t.host!==void 0){let n=unescape(t.host),i=N_(n);if(i.isIPV4)n=i.host;else{let o=D_(i.host,{isIPV4:!1});o.isIPV6===!0?n=`[${o.escapedHost}]`:n=t.host}r.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}L_.exports={recomposeAuthority:oD,normalizeComponentEncoding:sD,removeDotSegments:iD,normalizeIPv4:N_,normalizeIPv6:D_,stringArrayToHexStripped:yg}});var Q_=we((Az,j_)=>{"use strict";S();var uD=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,aD=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function B_(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function F_(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function U_(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function lD(t){return t.secure=B_(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function cD(t){if((t.port===(B_(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function fD(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(aD);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let i=`${n}:${e.nid||t.nid}`,o=bg[i];t.path=void 0,o&&(t=o.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function dD(t,e){let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),i=`${r}:${e.nid||n}`,o=bg[i];o&&(t=o.serialize(t,e));let u=t,l=t.nss;return u.path=`${n||e.nid}:${l}`,e.skipEscape=!0,u}function hD(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!uD.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function pD(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var z_={scheme:"http",domainHost:!0,parse:F_,serialize:U_},gD={scheme:"https",domainHost:z_.domainHost,parse:F_,serialize:U_},qf={scheme:"ws",domainHost:!0,parse:lD,serialize:cD},mD={scheme:"wss",domainHost:qf.domainHost,parse:qf.parse,serialize:qf.serialize},vD={scheme:"urn",parse:fD,serialize:dD,skipNormalize:!0},yD={scheme:"urn:uuid",parse:hD,serialize:pD,skipNormalize:!0},bg={http:z_,https:gD,ws:qf,wss:mD,urn:vD,"urn:uuid":yD};j_.exports=bg});var W_=we((Tz,Ff)=>{"use strict";S();var{normalizeIPv6:bD,normalizeIPv4:wD,removeDotSegments:Ra,recomposeAuthority:SD,normalizeComponentEncoding:Bf}=q_(),wg=Q_();function _D(t,e){return typeof t=="string"?t=ai(Mi(t,e),e):typeof t=="object"&&(t=Mi(ai(t,e),e)),t}function OD(t,e,r){let n=Object.assign({scheme:"null"},r),i=H_(Mi(t,n),Mi(e,n),n,!0);return ai(i,{...n,skipEscape:!0})}function H_(t,e,r,n){let i={};return n||(t=Mi(ai(t,r),r),e=Mi(ai(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Ra(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Ra(e.path||""),i.query=e.query):(e.path?(e.path.charAt(0)==="/"?i.path=Ra(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?i.path="/"+e.path:t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=Ra(i.path)),i.query=e.query):(i.path=t.path,e.query!==void 0?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function xD(t,e,r){return typeof t=="string"?(t=unescape(t),t=ai(Bf(Mi(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=ai(Bf(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=ai(Bf(Mi(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=ai(Bf(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function ai(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),i=[],o=wg[(n.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");let u=SD(r,n);if(u!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(u),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let l=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(l=Ra(l)),u===void 0&&(l=l.replace(/^\/\//u,"/%2F")),i.push(l)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}var kD=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function CD(t){let e=0;for(let r=0,n=t.length;r<n;++r)if(e=t.charCodeAt(r),e>126||kD[e])return!0;return!1}var ED=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Mi(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=t.indexOf("%")!==-1,o=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let u=t.match(ED);if(u){if(n.scheme=u[1],n.userinfo=u[3],n.host=u[4],n.port=parseInt(u[5],10),n.path=u[6]||"",n.query=u[7],n.fragment=u[8],isNaN(n.port)&&(n.port=u[5]),n.host){let c=wD(n.host);if(c.isIPV4===!1){let d=bD(c.host,{isIPV4:!1});n.host=d.host.toLowerCase(),o=d.isIPV6}else n.host=c.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let l=wg[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!l||!l.unicodeSupport)&&n.host&&(r.domainHost||l&&l.domainHost)&&o===!1&&CD(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!l||l&&!l.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),l&&l.parse&&l.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Sg={SCHEMES:wg,normalize:_D,resolve:OD,resolveComponents:H_,equal:xD,serialize:ai,parse:Mi};Ff.exports=Sg;Ff.exports.default=Sg;Ff.exports.fastUri=Sg});var G_=we(_g=>{"use strict";S();Object.defineProperty(_g,"__esModule",{value:!0});var V_=W_();V_.code='require("ajv/dist/runtime/uri").default';_g.default=V_});var r4=we(hr=>{"use strict";S();Object.defineProperty(hr,"__esModule",{value:!0});hr.CodeGen=hr.Name=hr.nil=hr.stringify=hr.str=hr._=hr.KeywordCxt=void 0;var PD=$a();Object.defineProperty(hr,"KeywordCxt",{enumerable:!0,get:function(){return PD.KeywordCxt}});var Yo=dt();Object.defineProperty(hr,"_",{enumerable:!0,get:function(){return Yo._}});Object.defineProperty(hr,"str",{enumerable:!0,get:function(){return Yo.str}});Object.defineProperty(hr,"stringify",{enumerable:!0,get:function(){return Yo.stringify}});Object.defineProperty(hr,"nil",{enumerable:!0,get:function(){return Yo.nil}});Object.defineProperty(hr,"Name",{enumerable:!0,get:function(){return Yo.Name}});Object.defineProperty(hr,"CodeGen",{enumerable:!0,get:function(){return Yo.CodeGen}});var AD=Df(),J_=Ta(),$D=Z0(),Ia=Lf(),TD=dt(),Na=Ea(),Uf=Ca(),xg=xt(),X_=P_(),RD=G_(),e4=(t,e)=>new RegExp(t,e);e4.code="new RegExp";var ID=["removeAdditional","useDefaults","coerceTypes"],ND=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),DD={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},MD={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},K_=200;function LD(t){var e,r,n,i,o,u,l,c,d,h,g,v,b,_,k,C,q,be,Oe,Ae,me,Ie,Ce,Ge,ze;let Xe=t.strict,ye=(e=t.code)===null||e===void 0?void 0:e.optimize,he=ye===!0||ye===void 0?1:ye||0,Ee=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:e4,le=(i=t.uriResolver)!==null&&i!==void 0?i:RD.default;return{strictSchema:(u=(o=t.strictSchema)!==null&&o!==void 0?o:Xe)!==null&&u!==void 0?u:!0,strictNumbers:(c=(l=t.strictNumbers)!==null&&l!==void 0?l:Xe)!==null&&c!==void 0?c:!0,strictTypes:(h=(d=t.strictTypes)!==null&&d!==void 0?d:Xe)!==null&&h!==void 0?h:"log",strictTuples:(v=(g=t.strictTuples)!==null&&g!==void 0?g:Xe)!==null&&v!==void 0?v:"log",strictRequired:(_=(b=t.strictRequired)!==null&&b!==void 0?b:Xe)!==null&&_!==void 0?_:!1,code:t.code?{...t.code,optimize:he,regExp:Ee}:{optimize:he,regExp:Ee},loopRequired:(k=t.loopRequired)!==null&&k!==void 0?k:K_,loopEnum:(C=t.loopEnum)!==null&&C!==void 0?C:K_,meta:(q=t.meta)!==null&&q!==void 0?q:!0,messages:(be=t.messages)!==null&&be!==void 0?be:!0,inlineRefs:(Oe=t.inlineRefs)!==null&&Oe!==void 0?Oe:!0,schemaId:(Ae=t.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(me=t.addUsedSchema)!==null&&me!==void 0?me:!0,validateSchema:(Ie=t.validateSchema)!==null&&Ie!==void 0?Ie:!0,validateFormats:(Ce=t.validateFormats)!==null&&Ce!==void 0?Ce:!0,unicodeRegExp:(Ge=t.unicodeRegExp)!==null&&Ge!==void 0?Ge:!0,int32range:(ze=t.int32range)!==null&&ze!==void 0?ze:!0,uriResolver:le}}var Da=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...LD(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new TD.ValueScope({scope:{},prefixes:ND,es5:r,lines:n}),this.logger=jD(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,$D.getRules)(),Y_.call(this,DD,e,"NOT SUPPORTED"),Y_.call(this,MD,e,"DEPRECATED","warn"),this._metaOpts=UD.call(this),e.formats&&BD.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&FD.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),qD.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,i=X_;n==="id"&&(i={...X_},i.id=i.$id,delete i.$id),r&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,e,r);async function i(h,g){await o.call(this,h.$schema);let v=this._addSchema(h,g);return v.validate||u.call(this,v)}async function o(h){h&&!this.getSchema(h)&&await i.call(this,{$ref:h},!0)}async function u(h){try{return this._compileSchemaEnv(h)}catch(g){if(!(g instanceof J_.default))throw g;return l.call(this,g),await c.call(this,g.missingSchema),u.call(this,h)}}function l({missingSchema:h,missingRef:g}){if(this.refs[h])throw new Error(`AnySchema ${h} is loaded but ${g} cannot be resolved`)}async function c(h){let g=await d.call(this,h);this.refs[h]||await o.call(this,g.$schema),this.refs[h]||this.addSchema(g,h,r)}async function d(h){let g=this._loading[h];if(g)return g;try{return await(this._loading[h]=n(h))}finally{delete this._loading[h]}}}addSchema(e,r,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(let u of e)this.addSchema(u,void 0,n,i);return this}let o;if(typeof e=="object"){let{schemaId:u}=this.opts;if(o=e[u],o!==void 0&&typeof o!="string")throw new Error(`schema ${u} must be string`)}return r=(0,Na.normalizeId)(r||o),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,i,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,e);if(!i&&r){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return i}getSchema(e){let r;for(;typeof(r=Z_.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,i=new Ia.SchemaEnv({schema:{},schemaId:n});if(r=Ia.resolveSchema.call(this,i,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Z_.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,Na.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(HD.call(this,n,r),!r)return(0,xg.eachItem)(n,o=>Og.call(this,o)),this;VD.call(this,r);let i={...r,type:(0,Uf.getJSONTypes)(r.type),schemaType:(0,Uf.getJSONTypes)(r.schemaType)};return(0,xg.eachItem)(n,i.type.length===0?o=>Og.call(this,o,i):o=>i.type.forEach(u=>Og.call(this,o,i,u))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let i=n.rules.findIndex(o=>o.keyword===e);i>=0&&n.rules.splice(i,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,o)=>i+r+o)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of r){let o=i.split("/").slice(1),u=e;for(let l of o)u=u[l];for(let l in n){let c=n[l];if(typeof c!="object")continue;let{$data:d}=c.definition,h=u[l];d&&h&&(u[l]=t4(h))}}return e}_removeAllSchemas(e,r){for(let n in e){let i=e[n];(!r||r.test(n))&&(typeof i=="string"?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,r,n,i=this.opts.validateSchema,o=this.opts.addUsedSchema){let u,{schemaId:l}=this.opts;if(typeof e=="object")u=e[l];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,Na.normalizeId)(u||n);let d=Na.getSchemaRefs.call(this,e,n);return c=new Ia.SchemaEnv({schema:e,schemaId:l,meta:r,baseId:n,localRefs:d}),this._cache.set(c.schema,c),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),i&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ia.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Ia.compileSchema.call(this,e)}finally{this.opts=r}}};Da.ValidationError=AD.default;Da.MissingRefError=J_.default;hr.default=Da;function Y_(t,e,r,n="error"){for(let i in t){let o=i;o in e&&this.logger[n](`${r}: option ${i}. ${t[o]}`)}}function Z_(t){return t=(0,Na.normalizeId)(t),this.schemas[t]||this.refs[t]}function qD(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function BD(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function FD(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function UD(){let t={...this.opts};for(let e of ID)delete t[e];return t}var zD={log(){},warn(){},error(){}};function jD(t){if(t===!1)return zD;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var QD=/^[a-z_$][a-z0-9_$:-]*$/i;function HD(t,e){let{RULES:r}=this;if((0,xg.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!QD.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function Og(t,e,r){var n;let i=e==null?void 0:e.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,u=i?o.post:o.rules.find(({type:c})=>c===r);if(u||(u={type:r,rules:[]},o.rules.push(u)),o.keywords[t]=!0,!e)return;let l={keyword:t,definition:{...e,type:(0,Uf.getJSONTypes)(e.type),schemaType:(0,Uf.getJSONTypes)(e.schemaType)}};e.before?WD.call(this,u,l,e.before):u.rules.push(l),o.all[t]=l,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function WD(t,e,r){let n=t.rules.findIndex(i=>i.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function VD(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=t4(e)),t.validateSchema=this.compile(e,!0))}var GD={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function t4(t){return{anyOf:[t,GD]}}});var n4=we(kg=>{"use strict";S();Object.defineProperty(kg,"__esModule",{value:!0});var XD={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};kg.default=XD});var u4=we(Js=>{"use strict";S();Object.defineProperty(Js,"__esModule",{value:!0});Js.callRef=Js.getValidate=void 0;var KD=Ta(),i4=Tn(),Kr=dt(),Zo=Ni(),s4=Lf(),zf=xt(),YD={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:o,validateName:u,opts:l,self:c}=n,{root:d}=o;if((r==="#"||r==="#/")&&i===d.baseId)return g();let h=s4.resolveRef.call(c,d,i,r);if(h===void 0)throw new KD.default(n.opts.uriResolver,i,r);if(h instanceof s4.SchemaEnv)return v(h);return b(h);function g(){if(o===d)return jf(t,u,o,o.$async);let _=e.scopeValue("root",{ref:d});return jf(t,(0,Kr._)`${_}.validate`,d,d.$async)}function v(_){let k=o4(t,_);jf(t,k,_,_.$async)}function b(_){let k=e.scopeValue("schema",l.code.source===!0?{ref:_,code:(0,Kr.stringify)(_)}:{ref:_}),C=e.name("valid"),q=t.subschema({schema:_,dataTypes:[],schemaPath:Kr.nil,topSchemaRef:k,errSchemaPath:r},C);t.mergeEvaluated(q),t.ok(C)}}};function o4(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Kr._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Js.getValidate=o4;function jf(t,e,r,n){let{gen:i,it:o}=t,{allErrors:u,schemaEnv:l,opts:c}=o,d=c.passContext?Zo.default.this:Kr.nil;n?h():g();function h(){if(!l.$async)throw new Error("async schema referenced by sync schema");let _=i.let("valid");i.try(()=>{i.code((0,Kr._)`await ${(0,i4.callValidateCode)(t,e,d)}`),b(e),u||i.assign(_,!0)},k=>{i.if((0,Kr._)`!(${k} instanceof ${o.ValidationError})`,()=>i.throw(k)),v(k),u||i.assign(_,!1)}),t.ok(_)}function g(){t.result((0,i4.callValidateCode)(t,e,d),()=>b(e),()=>v(e))}function v(_){let k=(0,Kr._)`${_}.errors`;i.assign(Zo.default.vErrors,(0,Kr._)`${Zo.default.vErrors} === null ? ${k} : ${Zo.default.vErrors}.concat(${k})`),i.assign(Zo.default.errors,(0,Kr._)`${Zo.default.vErrors}.length`)}function b(_){var k;if(!o.opts.unevaluated)return;let C=(k=r==null?void 0:r.validate)===null||k===void 0?void 0:k.evaluated;if(o.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(o.props=zf.mergeEvaluated.props(i,C.props,o.props));else{let q=i.var("props",(0,Kr._)`${_}.evaluated.props`);o.props=zf.mergeEvaluated.props(i,q,o.props,Kr.Name)}if(o.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(o.items=zf.mergeEvaluated.items(i,C.items,o.items));else{let q=i.var("items",(0,Kr._)`${_}.evaluated.items`);o.items=zf.mergeEvaluated.items(i,q,o.items,Kr.Name)}}}Js.callRef=jf;Js.default=YD});var a4=we(Cg=>{"use strict";S();Object.defineProperty(Cg,"__esModule",{value:!0});var ZD=n4(),JD=u4(),eM=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ZD.default,JD.default];Cg.default=eM});var l4=we(Eg=>{"use strict";S();Object.defineProperty(Eg,"__esModule",{value:!0});var Qf=dt(),ms=Qf.operators,Hf={maximum:{okStr:"<=",ok:ms.LTE,fail:ms.GT},minimum:{okStr:">=",ok:ms.GTE,fail:ms.LT},exclusiveMaximum:{okStr:"<",ok:ms.LT,fail:ms.GTE},exclusiveMinimum:{okStr:">",ok:ms.GT,fail:ms.LTE}},tM={message:({keyword:t,schemaCode:e})=>(0,Qf.str)`must be ${Hf[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Qf._)`{comparison: ${Hf[t].okStr}, limit: ${e}}`},rM={keyword:Object.keys(Hf),type:"number",schemaType:"number",$data:!0,error:tM,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Qf._)`${r} ${Hf[e].fail} ${n} || isNaN(${r})`)}};Eg.default=rM});var c4=we(Pg=>{"use strict";S();Object.defineProperty(Pg,"__esModule",{value:!0});var Ma=dt(),nM={message:({schemaCode:t})=>(0,Ma.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Ma._)`{multipleOf: ${t}}`},iM={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:nM,code(t){let{gen:e,data:r,schemaCode:n,it:i}=t,o=i.opts.multipleOfPrecision,u=e.let("res"),l=o?(0,Ma._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${o}`:(0,Ma._)`${u} !== parseInt(${u})`;t.fail$data((0,Ma._)`(${n} === 0 || (${u} = ${r}/${n}, ${l}))`)}};Pg.default=iM});var d4=we(Ag=>{"use strict";S();Object.defineProperty(Ag,"__esModule",{value:!0});function f4(t){let e=t.length,r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)===56320&&n++);return r}Ag.default=f4;f4.code='require("ajv/dist/runtime/ucs2length").default'});var h4=we($g=>{"use strict";S();Object.defineProperty($g,"__esModule",{value:!0});var eo=dt(),sM=xt(),oM=d4(),uM={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,eo.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,eo._)`{limit: ${t}}`},aM={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:uM,code(t){let{keyword:e,data:r,schemaCode:n,it:i}=t,o=e==="maxLength"?eo.operators.GT:eo.operators.LT,u=i.opts.unicode===!1?(0,eo._)`${r}.length`:(0,eo._)`${(0,sM.useFunc)(t.gen,oM.default)}(${r})`;t.fail$data((0,eo._)`${u} ${o} ${n}`)}};$g.default=aM});var p4=we(Tg=>{"use strict";S();Object.defineProperty(Tg,"__esModule",{value:!0});var lM=Tn(),Wf=dt(),cM={message:({schemaCode:t})=>(0,Wf.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Wf._)`{pattern: ${t}}`},fM={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:cM,code(t){let{data:e,$data:r,schema:n,schemaCode:i,it:o}=t,u=o.opts.unicodeRegExp?"u":"",l=r?(0,Wf._)`(new RegExp(${i}, ${u}))`:(0,lM.usePattern)(t,n);t.fail$data((0,Wf._)`!${l}.test(${e})`)}};Tg.default=fM});var g4=we(Rg=>{"use strict";S();Object.defineProperty(Rg,"__esModule",{value:!0});var La=dt(),dM={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,La.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,La._)`{limit: ${t}}`},hM={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:dM,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?La.operators.GT:La.operators.LT;t.fail$data((0,La._)`Object.keys(${r}).length ${i} ${n}`)}};Rg.default=hM});var m4=we(Ig=>{"use strict";S();Object.defineProperty(Ig,"__esModule",{value:!0});var qa=Tn(),Ba=dt(),pM=xt(),gM={message:({params:{missingProperty:t}})=>(0,Ba.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Ba._)`{missingProperty: ${t}}`},mM={keyword:"required",type:"object",schemaType:"array",$data:!0,error:gM,code(t){let{gen:e,schema:r,schemaCode:n,data:i,$data:o,it:u}=t,{opts:l}=u;if(!o&&r.length===0)return;let c=r.length>=l.loopRequired;if(u.allErrors?d():h(),l.strictRequired){let b=t.parentSchema.properties,{definedProperties:_}=t.it;for(let k of r)if((b==null?void 0:b[k])===void 0&&!_.has(k)){let C=u.schemaEnv.baseId+u.errSchemaPath,q=`required property "${k}" is not defined at "${C}" (strictRequired)`;(0,pM.checkStrictMode)(u,q,u.opts.strictRequired)}}function d(){if(c||o)t.block$data(Ba.nil,g);else for(let b of r)(0,qa.checkReportMissingProp)(t,b)}function h(){let b=e.let("missing");if(c||o){let _=e.let("valid",!0);t.block$data(_,()=>v(b,_)),t.ok(_)}else e.if((0,qa.checkMissingProp)(t,r,b)),(0,qa.reportMissingProp)(t,b),e.else()}function g(){e.forOf("prop",n,b=>{t.setParams({missingProperty:b}),e.if((0,qa.noPropertyInData)(e,i,b,l.ownProperties),()=>t.error())})}function v(b,_){t.setParams({missingProperty:b}),e.forOf(b,n,()=>{e.assign(_,(0,qa.propertyInData)(e,i,b,l.ownProperties)),e.if((0,Ba.not)(_),()=>{t.error(),e.break()})},Ba.nil)}}};Ig.default=mM});var v4=we(Ng=>{"use strict";S();Object.defineProperty(Ng,"__esModule",{value:!0});var Fa=dt(),vM={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Fa.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Fa._)`{limit: ${t}}`},yM={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:vM,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?Fa.operators.GT:Fa.operators.LT;t.fail$data((0,Fa._)`${r}.length ${i} ${n}`)}};Ng.default=yM});var Vf=we(Dg=>{"use strict";S();Object.defineProperty(Dg,"__esModule",{value:!0});var y4=og();y4.code='require("ajv/dist/runtime/equal").default';Dg.default=y4});var b4=we(Lg=>{"use strict";S();Object.defineProperty(Lg,"__esModule",{value:!0});var Mg=Ca(),pr=dt(),bM=xt(),wM=Vf(),SM={message:({params:{i:t,j:e}})=>(0,pr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,pr._)`{i: ${t}, j: ${e}}`},_M={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:SM,code(t){let{gen:e,data:r,$data:n,schema:i,parentSchema:o,schemaCode:u,it:l}=t;if(!n&&!i)return;let c=e.let("valid"),d=o.items?(0,Mg.getSchemaTypes)(o.items):[];t.block$data(c,h,(0,pr._)`${u} === false`),t.ok(c);function h(){let _=e.let("i",(0,pr._)`${r}.length`),k=e.let("j");t.setParams({i:_,j:k}),e.assign(c,!0),e.if((0,pr._)`${_} > 1`,()=>(g()?v:b)(_,k))}function g(){return d.length>0&&!d.some(_=>_==="object"||_==="array")}function v(_,k){let C=e.name("item"),q=(0,Mg.checkDataTypes)(d,C,l.opts.strictNumbers,Mg.DataType.Wrong),be=e.const("indices",(0,pr._)`{}`);e.for((0,pr._)`;${_}--;`,()=>{e.let(C,(0,pr._)`${r}[${_}]`),e.if(q,(0,pr._)`continue`),d.length>1&&e.if((0,pr._)`typeof ${C} == "string"`,(0,pr._)`${C} += "_"`),e.if((0,pr._)`typeof ${be}[${C}] == "number"`,()=>{e.assign(k,(0,pr._)`${be}[${C}]`),t.error(),e.assign(c,!1).break()}).code((0,pr._)`${be}[${C}] = ${_}`)})}function b(_,k){let C=(0,bM.useFunc)(e,wM.default),q=e.name("outer");e.label(q).for((0,pr._)`;${_}--;`,()=>e.for((0,pr._)`${k} = ${_}; ${k}--;`,()=>e.if((0,pr._)`${C}(${r}[${_}], ${r}[${k}])`,()=>{t.error(),e.assign(c,!1).break(q)})))}}};Lg.default=_M});var w4=we(Bg=>{"use strict";S();Object.defineProperty(Bg,"__esModule",{value:!0});var qg=dt(),OM=xt(),xM=Vf(),kM={message:"must be equal to constant",params:({schemaCode:t})=>(0,qg._)`{allowedValue: ${t}}`},CM={keyword:"const",$data:!0,error:kM,code(t){let{gen:e,data:r,$data:n,schemaCode:i,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,qg._)`!${(0,OM.useFunc)(e,xM.default)}(${r}, ${i})`):t.fail((0,qg._)`${o} !== ${r}`)}};Bg.default=CM});var S4=we(Fg=>{"use strict";S();Object.defineProperty(Fg,"__esModule",{value:!0});var Ua=dt(),EM=xt(),PM=Vf(),AM={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Ua._)`{allowedValues: ${t}}`},$M={keyword:"enum",schemaType:"array",$data:!0,error:AM,code(t){let{gen:e,data:r,$data:n,schema:i,schemaCode:o,it:u}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let l=i.length>=u.opts.loopEnum,c,d=()=>c!=null?c:c=(0,EM.useFunc)(e,PM.default),h;if(l||n)h=e.let("valid"),t.block$data(h,g);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let b=e.const("vSchema",o);h=(0,Ua.or)(...i.map((_,k)=>v(b,k)))}t.pass(h);function g(){e.assign(h,!1),e.forOf("v",o,b=>e.if((0,Ua._)`${d()}(${r}, ${b})`,()=>e.assign(h,!0).break()))}function v(b,_){let k=i[_];return typeof k=="object"&&k!==null?(0,Ua._)`${d()}(${r}, ${b}[${_}])`:(0,Ua._)`${r} === ${k}`}}};Fg.default=$M});var _4=we(Ug=>{"use strict";S();Object.defineProperty(Ug,"__esModule",{value:!0});var TM=l4(),RM=c4(),IM=h4(),NM=p4(),DM=g4(),MM=m4(),LM=v4(),qM=b4(),BM=w4(),FM=S4(),UM=[TM.default,RM.default,IM.default,NM.default,DM.default,MM.default,LM.default,qM.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},BM.default,FM.default];Ug.default=UM});var jg=we(za=>{"use strict";S();Object.defineProperty(za,"__esModule",{value:!0});za.validateAdditionalItems=void 0;var to=dt(),zg=xt(),zM={message:({params:{len:t}})=>(0,to.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,to._)`{limit: ${t}}`},jM={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:zM,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,zg.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}O4(t,n)}};function O4(t,e){let{gen:r,schema:n,data:i,keyword:o,it:u}=t;u.items=!0;let l=r.const("len",(0,to._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,to._)`${l} <= ${e.length}`);else if(typeof n=="object"&&!(0,zg.alwaysValidSchema)(u,n)){let d=r.var("valid",(0,to._)`${l} <= ${e.length}`);r.if((0,to.not)(d),()=>c(d)),t.ok(d)}function c(d){r.forRange("i",e.length,l,h=>{t.subschema({keyword:o,dataProp:h,dataPropType:zg.Type.Num},d),u.allErrors||r.if((0,to.not)(d),()=>r.break())})}}za.validateAdditionalItems=O4;za.default=jM});var Qg=we(ja=>{"use strict";S();Object.defineProperty(ja,"__esModule",{value:!0});ja.validateTuple=void 0;var x4=dt(),Gf=xt(),QM=Tn(),HM={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return k4(t,"additionalItems",e);r.items=!0,!(0,Gf.alwaysValidSchema)(r,e)&&t.ok((0,QM.validateArray)(t))}};function k4(t,e,r=t.schema){let{gen:n,parentSchema:i,data:o,keyword:u,it:l}=t;h(i),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=Gf.mergeEvaluated.items(n,r.length,l.items));let c=n.name("valid"),d=n.const("len",(0,x4._)`${o}.length`);r.forEach((g,v)=>{(0,Gf.alwaysValidSchema)(l,g)||(n.if((0,x4._)`${d} > ${v}`,()=>t.subschema({keyword:u,schemaProp:v,dataProp:v},c)),t.ok(c))});function h(g){let{opts:v,errSchemaPath:b}=l,_=r.length,k=_===g.minItems&&(_===g.maxItems||g[e]===!1);if(v.strictTuples&&!k){let C=`"${u}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${b}"`;(0,Gf.checkStrictMode)(l,C,v.strictTuples)}}}ja.validateTuple=k4;ja.default=HM});var C4=we(Hg=>{"use strict";S();Object.defineProperty(Hg,"__esModule",{value:!0});var WM=Qg(),VM={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,WM.validateTuple)(t,"items")};Hg.default=VM});var P4=we(Wg=>{"use strict";S();Object.defineProperty(Wg,"__esModule",{value:!0});var E4=dt(),GM=xt(),XM=Tn(),KM=jg(),YM={message:({params:{len:t}})=>(0,E4.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,E4._)`{limit: ${t}}`},ZM={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:YM,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,GM.alwaysValidSchema)(n,e)&&(i?(0,KM.validateAdditionalItems)(t,i):t.ok((0,XM.validateArray)(t)))}};Wg.default=ZM});var A4=we(Vg=>{"use strict";S();Object.defineProperty(Vg,"__esModule",{value:!0});var In=dt(),Xf=xt(),JM={message:({params:{min:t,max:e}})=>e===void 0?(0,In.str)`must contain at least ${t} valid item(s)`:(0,In.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,In._)`{minContains: ${t}}`:(0,In._)`{minContains: ${t}, maxContains: ${e}}`},eL={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:JM,code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:o}=t,u,l,{minContains:c,maxContains:d}=n;o.opts.next?(u=c===void 0?1:c,l=d):u=1;let h=e.const("len",(0,In._)`${i}.length`);if(t.setParams({min:u,max:l}),l===void 0&&u===0){(0,Xf.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&u>l){(0,Xf.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Xf.alwaysValidSchema)(o,r)){let k=(0,In._)`${h} >= ${u}`;l!==void 0&&(k=(0,In._)`${k} && ${h} <= ${l}`),t.pass(k);return}o.items=!0;let g=e.name("valid");l===void 0&&u===1?b(g,()=>e.if(g,()=>e.break())):u===0?(e.let(g,!0),l!==void 0&&e.if((0,In._)`${i}.length > 0`,v)):(e.let(g,!1),v()),t.result(g,()=>t.reset());function v(){let k=e.name("_valid"),C=e.let("count",0);b(k,()=>e.if(k,()=>_(C)))}function b(k,C){e.forRange("i",0,h,q=>{t.subschema({keyword:"contains",dataProp:q,dataPropType:Xf.Type.Num,compositeRule:!0},k),C()})}function _(k){e.code((0,In._)`${k}++`),l===void 0?e.if((0,In._)`${k} >= ${u}`,()=>e.assign(g,!0).break()):(e.if((0,In._)`${k} > ${l}`,()=>e.assign(g,!1).break()),u===1?e.assign(g,!0):e.if((0,In._)`${k} >= ${u}`,()=>e.assign(g,!0)))}}};Vg.default=eL});var R4=we(li=>{"use strict";S();Object.defineProperty(li,"__esModule",{value:!0});li.validateSchemaDeps=li.validatePropertyDeps=li.error=void 0;var Gg=dt(),tL=xt(),Qa=Tn();li.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,Gg.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,Gg._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var rL={keyword:"dependencies",type:"object",schemaType:"object",error:li.error,code(t){let[e,r]=nL(t);$4(t,e),T4(t,r)}};function nL({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let i=Array.isArray(t[n])?e:r;i[n]=t[n]}return[e,r]}function $4(t,e=t.schema){let{gen:r,data:n,it:i}=t;if(Object.keys(e).length===0)return;let o=r.let("missing");for(let u in e){let l=e[u];if(l.length===0)continue;let c=(0,Qa.propertyInData)(r,n,u,i.opts.ownProperties);t.setParams({property:u,depsCount:l.length,deps:l.join(", ")}),i.allErrors?r.if(c,()=>{for(let d of l)(0,Qa.checkReportMissingProp)(t,d)}):(r.if((0,Gg._)`${c} && (${(0,Qa.checkMissingProp)(t,l,o)})`),(0,Qa.reportMissingProp)(t,o),r.else())}}li.validatePropertyDeps=$4;function T4(t,e=t.schema){let{gen:r,data:n,keyword:i,it:o}=t,u=r.name("valid");for(let l in e)(0,tL.alwaysValidSchema)(o,e[l])||(r.if((0,Qa.propertyInData)(r,n,l,o.opts.ownProperties),()=>{let c=t.subschema({keyword:i,schemaProp:l},u);t.mergeValidEvaluated(c,u)},()=>r.var(u,!0)),t.ok(u))}li.validateSchemaDeps=T4;li.default=rL});var N4=we(Xg=>{"use strict";S();Object.defineProperty(Xg,"__esModule",{value:!0});var I4=dt(),iL=xt(),sL={message:"property name must be valid",params:({params:t})=>(0,I4._)`{propertyName: ${t.propertyName}}`},oL={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:sL,code(t){let{gen:e,schema:r,data:n,it:i}=t;if((0,iL.alwaysValidSchema)(i,r))return;let o=e.name("valid");e.forIn("key",n,u=>{t.setParams({propertyName:u}),t.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},o),e.if((0,I4.not)(o),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(o)}};Xg.default=oL});var Yg=we(Kg=>{"use strict";S();Object.defineProperty(Kg,"__esModule",{value:!0});var Kf=Tn(),Vn=dt(),uL=Ni(),Yf=xt(),aL={message:"must NOT have additional properties",params:({params:t})=>(0,Vn._)`{additionalProperty: ${t.additionalProperty}}`},lL={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:aL,code(t){let{gen:e,schema:r,parentSchema:n,data:i,errsCount:o,it:u}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:l,opts:c}=u;if(u.props=!0,c.removeAdditional!=="all"&&(0,Yf.alwaysValidSchema)(u,r))return;let d=(0,Kf.allSchemaProperties)(n.properties),h=(0,Kf.allSchemaProperties)(n.patternProperties);g(),t.ok((0,Vn._)`${o} === ${uL.default.errors}`);function g(){e.forIn("key",i,C=>{!d.length&&!h.length?_(C):e.if(v(C),()=>_(C))})}function v(C){let q;if(d.length>8){let be=(0,Yf.schemaRefOrVal)(u,n.properties,"properties");q=(0,Kf.isOwnProperty)(e,be,C)}else d.length?q=(0,Vn.or)(...d.map(be=>(0,Vn._)`${C} === ${be}`)):q=Vn.nil;return h.length&&(q=(0,Vn.or)(q,...h.map(be=>(0,Vn._)`${(0,Kf.usePattern)(t,be)}.test(${C})`))),(0,Vn.not)(q)}function b(C){e.code((0,Vn._)`delete ${i}[${C}]`)}function _(C){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){b(C);return}if(r===!1){t.setParams({additionalProperty:C}),t.error(),l||e.break();return}if(typeof r=="object"&&!(0,Yf.alwaysValidSchema)(u,r)){let q=e.name("valid");c.removeAdditional==="failing"?(k(C,q,!1),e.if((0,Vn.not)(q),()=>{t.reset(),b(C)})):(k(C,q),l||e.if((0,Vn.not)(q),()=>e.break()))}}function k(C,q,be){let Oe={keyword:"additionalProperties",dataProp:C,dataPropType:Yf.Type.Str};be===!1&&Object.assign(Oe,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(Oe,q)}}};Kg.default=lL});var L4=we(Jg=>{"use strict";S();Object.defineProperty(Jg,"__esModule",{value:!0});var cL=$a(),D4=Tn(),Zg=xt(),M4=Yg(),fL={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&M4.default.code(new cL.KeywordCxt(o,M4.default,"additionalProperties"));let u=(0,D4.allSchemaProperties)(r);for(let g of u)o.definedProperties.add(g);o.opts.unevaluated&&u.length&&o.props!==!0&&(o.props=Zg.mergeEvaluated.props(e,(0,Zg.toHash)(u),o.props));let l=u.filter(g=>!(0,Zg.alwaysValidSchema)(o,r[g]));if(l.length===0)return;let c=e.name("valid");for(let g of l)d(g)?h(g):(e.if((0,D4.propertyInData)(e,i,g,o.opts.ownProperties)),h(g),o.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(g),t.ok(c);function d(g){return o.opts.useDefaults&&!o.compositeRule&&r[g].default!==void 0}function h(g){t.subschema({keyword:"properties",schemaProp:g,dataProp:g},c)}}};Jg.default=fL});var U4=we(em=>{"use strict";S();Object.defineProperty(em,"__esModule",{value:!0});var q4=Tn(),Zf=dt(),B4=xt(),F4=xt(),dL={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:i,it:o}=t,{opts:u}=o,l=(0,q4.allSchemaProperties)(r),c=l.filter(k=>(0,B4.alwaysValidSchema)(o,r[k]));if(l.length===0||c.length===l.length&&(!o.opts.unevaluated||o.props===!0))return;let d=u.strictSchema&&!u.allowMatchingProperties&&i.properties,h=e.name("valid");o.props!==!0&&!(o.props instanceof Zf.Name)&&(o.props=(0,F4.evaluatedPropsToName)(e,o.props));let{props:g}=o;v();function v(){for(let k of l)d&&b(k),o.allErrors?_(k):(e.var(h,!0),_(k),e.if(h))}function b(k){for(let C in d)new RegExp(k).test(C)&&(0,B4.checkStrictMode)(o,`property ${C} matches pattern ${k} (use allowMatchingProperties)`)}function _(k){e.forIn("key",n,C=>{e.if((0,Zf._)`${(0,q4.usePattern)(t,k)}.test(${C})`,()=>{let q=c.includes(k);q||t.subschema({keyword:"patternProperties",schemaProp:k,dataProp:C,dataPropType:F4.Type.Str},h),o.opts.unevaluated&&g!==!0?e.assign((0,Zf._)`${g}[${C}]`,!0):!q&&!o.allErrors&&e.if((0,Zf.not)(h),()=>e.break())})})}}};em.default=dL});var z4=we(tm=>{"use strict";S();Object.defineProperty(tm,"__esModule",{value:!0});var hL=xt(),pL={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,hL.alwaysValidSchema)(n,r)){t.fail();return}let i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};tm.default=pL});var j4=we(rm=>{"use strict";S();Object.defineProperty(rm,"__esModule",{value:!0});var gL=Tn(),mL={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:gL.validateUnion,error:{message:"must match a schema in anyOf"}};rm.default=mL});var Q4=we(nm=>{"use strict";S();Object.defineProperty(nm,"__esModule",{value:!0});var Jf=dt(),vL=xt(),yL={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Jf._)`{passingSchemas: ${t.passing}}`},bL={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:yL,code(t){let{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let o=r,u=e.let("valid",!1),l=e.let("passing",null),c=e.name("_valid");t.setParams({passing:l}),e.block(d),t.result(u,()=>t.reset(),()=>t.error(!0));function d(){o.forEach((h,g)=>{let v;(0,vL.alwaysValidSchema)(i,h)?e.var(c,!0):v=t.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},c),g>0&&e.if((0,Jf._)`${c} && ${u}`).assign(u,!1).assign(l,(0,Jf._)`[${l}, ${g}]`).else(),e.if(c,()=>{e.assign(u,!0),e.assign(l,g),v&&t.mergeEvaluated(v,Jf.Name)})})}}};nm.default=bL});var H4=we(im=>{"use strict";S();Object.defineProperty(im,"__esModule",{value:!0});var wL=xt(),SL={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=e.name("valid");r.forEach((o,u)=>{if((0,wL.alwaysValidSchema)(n,o))return;let l=t.subschema({keyword:"allOf",schemaProp:u},i);t.ok(i),t.mergeEvaluated(l)})}};im.default=SL});var G4=we(sm=>{"use strict";S();Object.defineProperty(sm,"__esModule",{value:!0});var ed=dt(),V4=xt(),_L={message:({params:t})=>(0,ed.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,ed._)`{failingKeyword: ${t.ifClause}}`},OL={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:_L,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,V4.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=W4(n,"then"),o=W4(n,"else");if(!i&&!o)return;let u=e.let("valid",!0),l=e.name("_valid");if(c(),t.reset(),i&&o){let h=e.let("ifClause");t.setParams({ifClause:h}),e.if(l,d("then",h),d("else",h))}else i?e.if(l,d("then")):e.if((0,ed.not)(l),d("else"));t.pass(u,()=>t.error(!0));function c(){let h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);t.mergeEvaluated(h)}function d(h,g){return()=>{let v=t.subschema({keyword:h},l);e.assign(u,l),t.mergeValidEvaluated(v,u),g?e.assign(g,(0,ed._)`${h}`):t.setParams({ifClause:h})}}}};function W4(t,e){let r=t.schema[e];return r!==void 0&&!(0,V4.alwaysValidSchema)(t,r)}sm.default=OL});var X4=we(om=>{"use strict";S();Object.defineProperty(om,"__esModule",{value:!0});var xL=xt(),kL={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,xL.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};om.default=kL});var K4=we(um=>{"use strict";S();Object.defineProperty(um,"__esModule",{value:!0});var CL=jg(),EL=C4(),PL=Qg(),AL=P4(),$L=A4(),TL=R4(),RL=N4(),IL=Yg(),NL=L4(),DL=U4(),ML=z4(),LL=j4(),qL=Q4(),BL=H4(),FL=G4(),UL=X4();function zL(t=!1){let e=[ML.default,LL.default,qL.default,BL.default,FL.default,UL.default,RL.default,IL.default,TL.default,NL.default,DL.default];return t?e.push(EL.default,AL.default):e.push(CL.default,PL.default),e.push($L.default),e}um.default=zL});var Y4=we(am=>{"use strict";S();Object.defineProperty(am,"__esModule",{value:!0});var Yt=dt(),jL={message:({schemaCode:t})=>(0,Yt.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Yt._)`{format: ${t}}`},QL={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:jL,code(t,e){let{gen:r,data:n,$data:i,schema:o,schemaCode:u,it:l}=t,{opts:c,errSchemaPath:d,schemaEnv:h,self:g}=l;if(!c.validateFormats)return;i?v():b();function v(){let _=r.scopeValue("formats",{ref:g.formats,code:c.code.formats}),k=r.const("fDef",(0,Yt._)`${_}[${u}]`),C=r.let("fType"),q=r.let("format");r.if((0,Yt._)`typeof ${k} == "object" && !(${k} instanceof RegExp)`,()=>r.assign(C,(0,Yt._)`${k}.type || "string"`).assign(q,(0,Yt._)`${k}.validate`),()=>r.assign(C,(0,Yt._)`"string"`).assign(q,k)),t.fail$data((0,Yt.or)(be(),Oe()));function be(){return c.strictSchema===!1?Yt.nil:(0,Yt._)`${u} && !${q}`}function Oe(){let Ae=h.$async?(0,Yt._)`(${k}.async ? await ${q}(${n}) : ${q}(${n}))`:(0,Yt._)`${q}(${n})`,me=(0,Yt._)`(typeof ${q} == "function" ? ${Ae} : ${q}.test(${n}))`;return(0,Yt._)`${q} && ${q} !== true && ${C} === ${e} && !${me}`}}function b(){let _=g.formats[o];if(!_){be();return}if(_===!0)return;let[k,C,q]=Oe(_);k===e&&t.pass(Ae());function be(){if(c.strictSchema===!1){g.logger.warn(me());return}throw new Error(me());function me(){return`unknown format "${o}" ignored in schema at path "${d}"`}}function Oe(me){let Ie=me instanceof RegExp?(0,Yt.regexpCode)(me):c.code.formats?(0,Yt._)`${c.code.formats}${(0,Yt.getProperty)(o)}`:void 0,Ce=r.scopeValue("formats",{key:o,ref:me,code:Ie});return typeof me=="object"&&!(me instanceof RegExp)?[me.type||"string",me.validate,(0,Yt._)`${Ce}.validate`]:["string",me,Ce]}function Ae(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!h.$async)throw new Error("async format in sync schema");return(0,Yt._)`await ${q}(${n})`}return typeof C=="function"?(0,Yt._)`${q}(${n})`:(0,Yt._)`${q}.test(${n})`}}}};am.default=QL});var Z4=we(lm=>{"use strict";S();Object.defineProperty(lm,"__esModule",{value:!0});var HL=Y4(),WL=[HL.default];lm.default=WL});var J4=we(Jo=>{"use strict";S();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.contentVocabulary=Jo.metadataVocabulary=void 0;Jo.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Jo.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var t5=we(cm=>{"use strict";S();Object.defineProperty(cm,"__esModule",{value:!0});var VL=a4(),GL=_4(),XL=K4(),KL=Z4(),e5=J4(),YL=[VL.default,GL.default,(0,XL.default)(),KL.default,e5.metadataVocabulary,e5.contentVocabulary];cm.default=YL});var n5=we(td=>{"use strict";S();Object.defineProperty(td,"__esModule",{value:!0});td.DiscrError=void 0;var r5;(function(t){t.Tag="tag",t.Mapping="mapping"})(r5||(td.DiscrError=r5={}))});var s5=we(dm=>{"use strict";S();Object.defineProperty(dm,"__esModule",{value:!0});var eu=dt(),fm=n5(),i5=Lf(),ZL=Ta(),JL=xt(),eq={message:({params:{discrError:t,tagName:e}})=>t===fm.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,eu._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},tq={keyword:"discriminator",type:"object",schemaType:"object",error:eq,code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:o}=t,{oneOf:u}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),d=e.const("tag",(0,eu._)`${r}${(0,eu.getProperty)(l)}`);e.if((0,eu._)`typeof ${d} == "string"`,()=>h(),()=>t.error(!1,{discrError:fm.DiscrError.Tag,tag:d,tagName:l})),t.ok(c);function h(){let b=v();e.if(!1);for(let _ in b)e.elseIf((0,eu._)`${d} === ${_}`),e.assign(c,g(b[_]));e.else(),t.error(!1,{discrError:fm.DiscrError.Mapping,tag:d,tagName:l}),e.endIf()}function g(b){let _=e.name("valid"),k=t.subschema({keyword:"oneOf",schemaProp:b},_);return t.mergeEvaluated(k,eu.Name),_}function v(){var b;let _={},k=q(i),C=!0;for(let Ae=0;Ae<u.length;Ae++){let me=u[Ae];if(me!=null&&me.$ref&&!(0,JL.schemaHasRulesButRef)(me,o.self.RULES)){let Ce=me.$ref;if(me=i5.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,Ce),me instanceof i5.SchemaEnv&&(me=me.schema),me===void 0)throw new ZL.default(o.opts.uriResolver,o.baseId,Ce)}let Ie=(b=me==null?void 0:me.properties)===null||b===void 0?void 0:b[l];if(typeof Ie!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);C=C&&(k||q(me)),be(Ie,Ae)}if(!C)throw new Error(`discriminator: "${l}" must be required`);return _;function q({required:Ae}){return Array.isArray(Ae)&&Ae.includes(l)}function be(Ae,me){if(Ae.const)Oe(Ae.const,me);else if(Ae.enum)for(let Ie of Ae.enum)Oe(Ie,me);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function Oe(Ae,me){if(typeof Ae!="string"||Ae in _)throw new Error(`discriminator: "${l}" values must be unique strings`);_[Ae]=me}}}};dm.default=tq});var o5=we((uQ,rq)=>{rq.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var a5=we((qt,hm)=>{"use strict";S();Object.defineProperty(qt,"__esModule",{value:!0});qt.MissingRefError=qt.ValidationError=qt.CodeGen=qt.Name=qt.nil=qt.stringify=qt.str=qt._=qt.KeywordCxt=qt.Ajv=void 0;var nq=r4(),iq=t5(),sq=s5(),u5=o5(),oq=["/properties"],rd="http://json-schema.org/draft-07/schema",tu=class extends nq.default{_addVocabularies(){super._addVocabularies(),iq.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(sq.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(u5,oq):u5;this.addMetaSchema(e,rd,!1),this.refs["http://json-schema.org/schema"]=rd}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(rd)?rd:void 0)}};qt.Ajv=tu;hm.exports=qt=tu;hm.exports.Ajv=tu;Object.defineProperty(qt,"__esModule",{value:!0});qt.default=tu;var uq=$a();Object.defineProperty(qt,"KeywordCxt",{enumerable:!0,get:function(){return uq.KeywordCxt}});var ru=dt();Object.defineProperty(qt,"_",{enumerable:!0,get:function(){return ru._}});Object.defineProperty(qt,"str",{enumerable:!0,get:function(){return ru.str}});Object.defineProperty(qt,"stringify",{enumerable:!0,get:function(){return ru.stringify}});Object.defineProperty(qt,"nil",{enumerable:!0,get:function(){return ru.nil}});Object.defineProperty(qt,"Name",{enumerable:!0,get:function(){return ru.Name}});Object.defineProperty(qt,"CodeGen",{enumerable:!0,get:function(){return ru.CodeGen}});var aq=Df();Object.defineProperty(qt,"ValidationError",{enumerable:!0,get:function(){return aq.default}});var lq=Ta();Object.defineProperty(qt,"MissingRefError",{enumerable:!0,get:function(){return lq.default}})});var fq={};V6(fq,{default:()=>sd});module.exports=G6(fq);S();var d5=require("@codemirror/view"),nu=require("obsidian");S();S();var gt=require("@codemirror/view"),We=require("@codemirror/state");S();function At(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];typeof i=="string"?t.setAttribute(n,i):i!=null&&(t[n]=i)}e++}for(;e<arguments.length;e++)gy(t,arguments[e]);return t}function gy(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)gy(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}var my=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t,_n=class{constructor(e,r,n=0,i=e.length,o,u){this.test=u,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=o?l=>o(my(l)):my,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,We.codePointAt)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=(0,We.fromCodePoint)(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,We.codePointSize)(e);let i=this.normalize(r);if(i.length)for(let o=0,u=n;;o++){let l=i.charCodeAt(o),c=this.match(l,u,this.bufferPos+this.bufferStart);if(o==i.length-1){if(c)return this.value=c,this;break}u==n&&o<r.length&&r.charCodeAt(o)==l&&u++}}}match(e,r,n){let i=null;for(let o=0;o<this.matches.length;o+=2){let u=this.matches[o],l=!1;this.query.charCodeAt(u)==e&&(u==this.query.length-1?i={from:this.matches[o+1],to:n}:(this.matches[o]++,l=!0)),l||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:r,to:n}:this.matches.push(1,r)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}};typeof Symbol!="undefined"&&(_n.prototype[Symbol.iterator]=function(){return this});var wy={from:-1,to:-1,match:/.*/.exec("")},Uh="gm"+(/x/.unicode==null?"":"u"),Hl=class{constructor(e,r,n,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=wy,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new Vl(e,r,n,i,o);this.re=new RegExp(r,Uh+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let u=e.lineAt(i);this.curLineStart=u.from,this.matchPos=Gl(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let n=this.curLineStart+r.index,i=n+r[0].length;if(this.matchPos=Gl(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}},Dh=new WeakMap,Wl=class t{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let i=Dh.get(e);if(!i||i.from>=n||i.to<=r){let l=new t(r,e.sliceString(r,n));return Dh.set(e,l),l}if(i.from==r&&i.to==n)return i;let{text:o,from:u}=i;return u>r&&(o=e.sliceString(r,u)+o,u=r),i.to<n&&(o+=e.sliceString(i.to,n)),Dh.set(e,new t(u,o)),new t(r,o.slice(r-u,n-u))}},Vl=class{constructor(e,r,n,i,o){this.text=e,this.to=o,this.done=!1,this.value=wy,this.matchPos=Gl(e,i),this.re=new RegExp(r,Uh+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=Wl.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let n=this.flat.from+r.index,i=n+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this.matchPos=Gl(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Wl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}};typeof Symbol!="undefined"&&(Hl.prototype[Symbol.iterator]=Vl.prototype[Symbol.iterator]=function(){return this});function aP(t){try{return new RegExp(t,Uh),!0}catch(e){return!1}}function Gl(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function Mh(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=At("input",{class:"cm-textfield",name:"line",value:e}),n=At("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:Xl.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},At("label",t.state.phrase("Go to line"),": ",r)," ",At("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!o)return;let{state:u}=t,l=u.doc.lineAt(u.selection.main.head),[,c,d,h,g]=o,v=h?+h.slice(1):0,b=d?+d:l.number;if(d&&g){let C=b/100;c&&(C=C*(c=="-"?-1:1)+l.number/u.doc.lines),b=Math.round(u.doc.lines*C)}else d&&c&&(b=b*(c=="-"?-1:1)+l.number);let _=u.doc.line(Math.max(1,Math.min(u.doc.lines,b))),k=We.EditorSelection.cursor(_.from+Math.max(0,Math.min(v,_.length)));t.dispatch({effects:[Xl.of(!1),gt.EditorView.scrollIntoView(k.from,{y:"center"})],selection:k}),t.focus()}return{dom:n}}var Xl=We.StateEffect.define(),vy=We.StateField.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(Xl)&&(t=r.value);return t},provide:t=>gt.showPanel.from(t,e=>e?Mh:null)}),lP=t=>{let e=(0,gt.getPanel)(t,Mh);if(!e){let r=[Xl.of(!0)];t.state.field(vy,!1)==null&&r.push(We.StateEffect.appendConfig.of([vy,cP])),t.dispatch({effects:r}),e=(0,gt.getPanel)(t,Mh)}return e&&e.dom.querySelector("input").select(),!0},cP=gt.EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),fP={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Sy=We.Facet.define({combine(t){return(0,We.combineConfig)(t,fP,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function _y(t){let e=[mP,gP];return t&&e.push(Sy.of(t)),e}var dP=gt.Decoration.mark({class:"cm-selectionMatch"}),hP=gt.Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function yy(t,e,r,n){return(r==0||t(e.sliceDoc(r-1,r))!=We.CharCategory.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=We.CharCategory.Word)}function pP(t,e,r,n){return t(e.sliceDoc(r,r+1))==We.CharCategory.Word&&t(e.sliceDoc(n-1,n))==We.CharCategory.Word}var gP=gt.ViewPlugin.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Sy),{state:r}=t,n=r.selection;if(n.ranges.length>1)return gt.Decoration.none;let i=n.main,o,u=null;if(i.empty){if(!e.highlightWordAroundCursor)return gt.Decoration.none;let c=r.wordAt(i.head);if(!c)return gt.Decoration.none;u=r.charCategorizer(i.head),o=r.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return gt.Decoration.none;if(e.wholeWords){if(o=r.sliceDoc(i.from,i.to),u=r.charCategorizer(i.head),!(yy(u,r,i.from,i.to)&&pP(u,r,i.from,i.to)))return gt.Decoration.none}else if(o=r.sliceDoc(i.from,i.to),!o)return gt.Decoration.none}let l=[];for(let c of t.visibleRanges){let d=new _n(r.doc,o,c.from,c.to);for(;!d.next().done;){let{from:h,to:g}=d.value;if((!u||yy(u,r,h,g))&&(i.empty&&h<=i.from&&g>=i.to?l.push(hP.range(h,g)):(h>=i.to||g<=i.from)&&l.push(dP.range(h,g)),l.length>e.maxMatches))return gt.Decoration.none}}return gt.Decoration.set(l)}},{decorations:t=>t.decorations}),mP=gt.EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),vP=({state:t,dispatch:e})=>{let{selection:r}=t,n=We.EditorSelection.create(r.ranges.map(i=>t.wordAt(i.head)||We.EditorSelection.cursor(i.head)),r.mainIndex);return n.eq(r)?!1:(e(t.update({selection:n})),!0)};function yP(t,e){let{main:r,ranges:n}=t.selection,i=t.wordAt(r.head),o=i&&i.from==r.from&&i.to==r.to;for(let u=!1,l=new _n(t.doc,e,n[n.length-1].to);;)if(l.next(),l.done){if(u)return null;l=new _n(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),u=!0}else{if(u&&n.some(c=>c.from==l.value.from))continue;if(o){let c=t.wordAt(l.value.from);if(!c||c.from!=l.value.from||c.to!=l.value.to)continue}return l.value}}var bP=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(o=>o.from===o.to))return vP({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=n))return!1;let i=yP(t,n);return i?(e(t.update({selection:t.selection.addRange(We.EditorSelection.range(i.from,i.to),!1),effects:gt.EditorView.scrollIntoView(i.to)})),!0):!1},Oo=We.Facet.define({combine(t){return(0,We.combineConfig)(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Fh(e),scrollToMatch:e=>gt.EditorView.scrollIntoView(e)})}});var Kl=class{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||aP(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new qh(this):new Lh(this)}getCursor(e,r=0,n){let i=e.doc?e:We.EditorState.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?_o(this,i,r,n):So(this,i,r,n)}},Yl=class{constructor(e){this.spec=e}};function So(t,e,r,n){return new _n(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?wP(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function wP(t,e){return(r,n,i,o)=>((o>r||o+i.length<n)&&(o=Math.max(0,r-2),i=t.sliceString(o,Math.min(t.length,n+2))),(e(Zl(i,r-o))!=We.CharCategory.Word||e(Jl(i,r-o))!=We.CharCategory.Word)&&(e(Jl(i,n-o))!=We.CharCategory.Word||e(Zl(i,n-o))!=We.CharCategory.Word))}var Lh=class extends Yl{constructor(e){super(e)}nextMatch(e,r,n){let i=So(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,r+this.spec.unquoted.length);i=So(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==r&&i.value.to==n?null:i.value}prevMatchInRange(e,r,n){for(let i=n;;){let o=Math.max(r,i-1e4-this.spec.unquoted.length),u=So(this.spec,e,o,i),l=null;for(;!u.nextOverlapping().done;)l=u.value;if(l)return l;if(o==r)return null;i-=1e4}}prevMatch(e,r,n){let i=this.prevMatchInRange(e,0,r);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=r||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let n=So(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let o=So(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}};function _o(t,e,r,n){return new Hl(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?SP(e.charCategorizer(e.selection.main.head)):void 0},r,n)}function Zl(t,e){return t.slice((0,We.findClusterBreak)(t,e,!1),e)}function Jl(t,e){return t.slice(e,(0,We.findClusterBreak)(t,e))}function SP(t){return(e,r,n)=>!n[0].length||(t(Zl(n.input,n.index))!=We.CharCategory.Word||t(Jl(n.input,n.index))!=We.CharCategory.Word)&&(t(Jl(n.input,n.index+n[0].length))!=We.CharCategory.Word||t(Zl(n.input,n.index+n[0].length))!=We.CharCategory.Word)}var qh=class extends Yl{nextMatch(e,r,n){let i=_o(this.spec,e,n,e.doc.length).next();return i.done&&(i=_o(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,n){for(let i=1;;i++){let o=Math.max(r,n-i*1e4),u=_o(this.spec,e,o,n),l=null;for(;!u.next().done;)l=u.value;if(l&&(o==r||l.from>o+10))return l;if(o==r)return null}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:r)}matchAll(e,r){let n=_o(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let o=_o(this.spec,e,Math.max(0,r-250),Math.min(n+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}},Iu=We.StateEffect.define(),zh=We.StateEffect.define(),Zi=We.StateField.define({create(t){return new Ru(Bh(t).create(),null)},update(t,e){for(let r of e.effects)r.is(Iu)?t=new Ru(r.value.create(),t.panel):r.is(zh)&&(t=new Ru(t.query,r.value?jh:null));return t},provide:t=>gt.showPanel.from(t,e=>e.panel)});var Ru=class{constructor(e,r){this.query=e,this.panel=r}},_P=gt.Decoration.mark({class:"cm-searchMatch"}),OP=gt.Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),xP=gt.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Zi))}update(t){let e=t.state.field(Zi);(e!=t.startState.field(Zi)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return gt.Decoration.none;let{view:r}=this,n=new We.RangeSetBuilder;for(let i=0,o=r.visibleRanges,u=o.length;i<u;i++){let{from:l,to:c}=o[i];for(;i<u-1&&c>o[i+1].from-2*250;)c=o[++i].to;t.highlight(r.state,l,c,(d,h)=>{let g=r.state.selection.ranges.some(v=>v.from==d&&v.to==h);n.add(d,h,g?OP:_P)})}return n.finish()}},{decorations:t=>t.decorations});function Nu(t){return e=>{let r=e.state.field(Zi,!1);return r&&r.query.spec.valid?t(e,r):ky(e)}}var ec=Nu((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let i=We.EditorSelection.single(n.from,n.to),o=t.state.facet(Oo);return t.dispatch({selection:i,effects:[Qh(t,n),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),xy(t),!0}),tc=Nu((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,i=e.prevMatch(r,n,n);if(!i)return!1;let o=We.EditorSelection.single(i.from,i.to),u=t.state.facet(Oo);return t.dispatch({selection:o,effects:[Qh(t,i),u.scrollToMatch(o.main,t)],userEvent:"select.search"}),xy(t),!0}),kP=Nu((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:We.EditorSelection.create(r.map(n=>We.EditorSelection.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),CP=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:i}=r.main,o=[],u=0;for(let l=new _n(t.doc,t.sliceDoc(n,i));!l.next().done;){if(o.length>1e3)return!1;l.value.from==n&&(u=o.length),o.push(We.EditorSelection.range(l.value.from,l.value.to))}return e(t.update({selection:We.EditorSelection.create(o,u),userEvent:"select.search.matches"})),!0},by=Nu((t,{query:e})=>{let{state:r}=t,{from:n,to:i}=r.selection.main;if(r.readOnly)return!1;let o=e.nextMatch(r,n,n);if(!o)return!1;let u=o,l=[],c,d,h=[];if(u.from==n&&u.to==i&&(d=r.toText(e.getReplacement(u)),l.push({from:u.from,to:u.to,insert:d}),u=e.nextMatch(r,u.from,u.to),h.push(gt.EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),u){let g=l.length==0||l[0].from>=o.to?0:o.to-o.from-d.length;c=We.EditorSelection.single(u.from-g,u.to-g),h.push(Qh(t,u)),h.push(r.facet(Oo).scrollToMatch(c.main,t))}return t.dispatch({changes:l,selection:c,effects:h,userEvent:"input.replace"}),!0}),EP=Nu((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:u}=i;return{from:o,to:u,insert:e.getReplacement(i)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:gt.EditorView.announce.of(n),userEvent:"input.replace.all"}),!0});function jh(t){return t.state.facet(Oo).createPanel(t)}function Bh(t,e){var r,n,i,o,u;let l=t.selection.main,c=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!c)return e;let d=t.facet(Oo);return new Kl({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:d.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:d.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:d.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:d.regexp,wholeWord:(u=e==null?void 0:e.wholeWord)!==null&&u!==void 0?u:d.wholeWord})}function Oy(t){let e=(0,gt.getPanel)(t,jh);return e&&e.dom.querySelector("[main-field]")}function xy(t){let e=Oy(t);e&&e==t.root.activeElement&&e.select()}var ky=t=>{let e=t.state.field(Zi,!1);if(e&&e.panel){let r=Oy(t);if(r&&r!=t.root.activeElement){let n=Bh(t.state,e.query.spec);n.valid&&t.dispatch({effects:Iu.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[zh.of(!0),e?Iu.of(Bh(t.state,e.query.spec)):We.StateEffect.appendConfig.of(AP)]});return!0},Cy=t=>{let e=t.state.field(Zi,!1);if(!e||!e.panel)return!1;let r=(0,gt.getPanel)(t,jh);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:zh.of(!1)}),!0},Ey=[{key:"Mod-f",run:ky,scope:"editor search-panel"},{key:"F3",run:ec,shift:tc,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ec,shift:tc,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Cy,scope:"editor search-panel"},{key:"Mod-Shift-l",run:CP},{key:"Mod-Alt-g",run:lP},{key:"Mod-d",run:bP,preventDefault:!0}],Fh=class{constructor(e){this.view=e;let r=this.query=e.state.field(Zi).query.spec;this.commit=this.commit.bind(this),this.searchField=At("input",{value:r.search,placeholder:un(e,"Find"),"aria-label":un(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=At("input",{value:r.replace,placeholder:un(e,"Replace"),"aria-label":un(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=At("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=At("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=At("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function n(i,o,u){return At("button",{class:"cm-button",name:i,onclick:o,type:"button"},u)}this.dom=At("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>ec(e),[un(e,"next")]),n("prev",()=>tc(e),[un(e,"previous")]),n("select",()=>kP(e),[un(e,"all")]),At("label",null,[this.caseField,un(e,"match case")]),At("label",null,[this.reField,un(e,"regexp")]),At("label",null,[this.wordField,un(e,"by word")]),...e.state.readOnly?[]:[At("br"),this.replaceField,n("replace",()=>by(e),[un(e,"replace")]),n("replaceAll",()=>EP(e),[un(e,"replace all")])],At("button",{name:"close",onclick:()=>Cy(e),"aria-label":un(e,"close"),type:"button"},["\xD7"])])}commit(){let e=new Kl({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Iu.of(e)}))}keydown(e){(0,gt.runScopeHandlers)(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?tc:ec)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),by(this.view))}update(e){for(let r of e.transactions)for(let n of r.effects)n.is(Iu)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Oo).top}};function un(t,e){return t.state.phrase(e)}var jl=30,Ql=/[\s\.,:;?!]/;function Qh(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,o=Math.max(n.from,e-jl),u=Math.min(i,r+jl),l=t.state.sliceDoc(o,u);if(o!=n.from){for(let c=0;c<jl;c++)if(!Ql.test(l[c+1])&&Ql.test(l[c])){l=l.slice(c);break}}if(u!=i){for(let c=l.length-1;c>l.length-jl;c--)if(!Ql.test(l[c-1])&&Ql.test(l[c])){l=l.slice(0,c);break}}return gt.EditorView.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${n.number}.`)}var PP=gt.EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),AP=[Zi,We.Prec.low(xP),PP];var Si=require("@codemirror/state"),br=require("@codemirror/view"),Wh=Eu(Hh()),Py=require("obsidian");S();var rc="myself, our, ours, ourselves, you, your, yours, yourself, yourselves, him, his, himself, she, her, hers, herself, its, itself, they, them, their, theirs, themselves, what, which, who, whom, this, that, these, those, are, was, were, been, being, have, has, had, having, does, did, doing, the, and, but, because, until, while, for, with, about, against, between, into, through, during, before, after, above, below, from, down, out, off, over, under, again, further, then, once, here, there, when, where, why, how, all, any, both, each, few, more, most, other, some, such, nor, not, only, own, same, than, too, very, can, will, just, don, should,now";var $P={highlightWordAroundCursor:!0,highlightSelectedText:!0,minSelectionLength:2,maxMatches:100,ignoredWords:rc,highlightDelay:0,selectionColor:"default",selectionDecoration:"default",css:"text-decoration: dashed var(--text-accent)"},nc=Si.Facet.define({combine(t){return(0,Si.combineConfig)(t,$P,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min,highlightDelay:Math.min,ignoredWords:(e,r)=>e||r,css:(e,r)=>r||e})}}),TP=new Si.Compartment;function Ay(t){let e=[RP];return t&&e.push(nc.of((0,Wh.cloneDeep)(t))),e}function $y(t){return TP.reconfigure(nc.of((0,Wh.cloneDeep)(t)))}var RP=br.ViewPlugin.fromClass(class{constructor(t){this.updateDebouncer(t),this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(setTimeout(()=>{this.decorations=br.Decoration.none,t.view.update([])},150),this.delayedGetDeco(t.view))}updateDebouncer(t){this.highlightDelay=t.state.facet(nc).highlightDelay,this.delayedGetDeco=(0,Py.debounce)(e=>{this.decorations=this.getDeco(e),e.update([])},this.highlightDelay,!0)}getDeco(t){let e=t.state.facet(nc);this.highlightDelay!=e.highlightDelay&&this.updateDebouncer(t);let r=e.css,{state:n}=t,i=n.selection;if(i.ranges.length>1)return br.Decoration.none;let o=i.main,u,l=null,c;if(o.empty){if(c="word",!e.highlightWordAroundCursor)return br.Decoration.none;let h=n.wordAt(o.head);if(!h)return br.Decoration.none;if(h&&(l=n.charCategorizer(o.head)),u=n.sliceDoc(h.from,h.to),new Set(e.ignoredWords.split(",").map(v=>v.toLowerCase().trim())).has(u.toLowerCase())||u.length<e.minSelectionLength)return br.Decoration.none}else{if(c="string",!e.highlightSelectedText)return br.Decoration.none;let h=o.to-o.from;if(h<e.minSelectionLength||h>200)return br.Decoration.none;if(u=n.sliceDoc(o.from,o.to).trim(),!u)return br.Decoration.none}let d=[];for(let h of t.visibleRanges){let g=b=>b.toLowerCase(),v=new _n(n.doc,u,h.from,h.to,g);for(;!v.next().done;){let{from:b,to:_}=v.value;if(!l||(b==0||l(n.sliceDoc(b-1,b))!=Si.CharCategory.Word)&&(_==n.doc.length||l(n.sliceDoc(_,_+1))!=Si.CharCategory.Word)){let k=n.sliceDoc(b,_).trim();if(l&&b<=o.from&&_>=o.to){console.log("CSS Styles: (if)",e.css);let C=br.Decoration.mark({attributes:{"data-contents":k,style:r}});d.push(C.range(b,_))}else if(b>=o.to||_<=o.from){console.log("CSS Styles:(else if)",e.css);let C=br.Decoration.mark({attributes:{"data-contents":k,style:r}});d.push(C.range(b,_))}if(d.length>e.maxMatches)return br.Decoration.none}}}return d.length<(o.empty?2:1)?br.Decoration.none:br.Decoration.set(d)}},{decorations:t=>t.decorations});S();var Mc=require("@codemirror/state"),m3=require("@codemirror/language"),fr=require("@codemirror/view"),v3=Eu(Hh());S();var Cc=Eu(u3()),a3=/.*/.exec("");if(!a3)throw new Error("Unexpected null value for regex match (see regexp-cursor.ts)");var l3={from:-1,to:-1,match:a3},c3="gm"+(/x/.unicode==null?"":"u");Symbol.iterator;var Qu=class{constructor(e,r,n,i=0,o=e.length){this.to=o;this.curLine="";this.done=!1;this.value=l3;if(/\\[sWDnr]|\n|\r|\[\^/.test(r))return new Pc(e,r,n,i,o);this.re=new RegExp(r,c3+(n!=null&&n.ignoreCase?"i":"")),this.iter=e.iter();let u=e.lineAt(i);this.curLineStart=u.from,this.matchPos=i,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&(0,Cc.default)(this.re,this.curLine);if(r){let n=this.curLineStart+r.index,i=n+r[0].length;if(this.matchPos=i+(n==i?1:0),n==this.curLine.length&&this.nextLine(),n<i||n>this.value.to)return this.value={from:n,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}},_p=new WeakMap,Ec=class t{constructor(e,r){this.from=e;this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let i=_p.get(e);if(!i||i.from>=n||i.to<=r){let l=new t(r,e.sliceString(r,n));return _p.set(e,l),l}if(i.from==r&&i.to==n)return i;let{text:o,from:u}=i;return u>r&&(o=e.sliceString(r,u)+o,u=r),i.to<n&&(o+=e.sliceString(i.to,n)),_p.set(e,new t(u,o)),new t(r,o.slice(r-u,n-u))}};Symbol.iterator;var Pc=class{constructor(e,r,n,i,o){this.text=e;this.to=o;this.done=!1;this.value=l3;this.matchPos=i,this.re=new RegExp(r,c3+(n!=null&&n.ignoreCase?"i":"")),this.flat=Ec.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=(0,Cc.default)(this.re,this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=(0,Cc.default)(this.re,this.flat.text)),r&&this.flat.to<this.to&&r.index+r[0].length>this.flat.text.length-10&&(r=null),r){let n=this.flat.from+r.index,i=n+r[0].length;return this.value={from:n,to:i,match:r},this.matchPos=i+(n==i?1:0),this}else{if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ec.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}};typeof Symbol!="undefined"&&(Qu.prototype[Symbol.iterator]=Pc.prototype[Symbol.iterator]=function(){return this});S();var A9=0,Hu=class{constructor(e,r){this.from=e,this.to=r}},bt=class{constructor(e={}){this.id=A9++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=xn.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}};bt.closedBy=new bt({deserialize:t=>t.split(" ")});bt.openedBy=new bt({deserialize:t=>t.split(" ")});bt.group=new bt({deserialize:t=>t.split(" ")});bt.isolate=new bt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});bt.contextHash=new bt({perNode:!0});bt.lookAhead=new bt({perNode:!0});bt.mounted=new bt({perNode:!0});var To=class{constructor(e,r,n){this.tree=e,this.overlay=r,this.parser=n}static get(e){return e&&e.props&&e.props[bt.mounted.id]}},$9=Object.create(null),xn=class t{constructor(e,r,n,i=0){this.name=e,this.props=r,this.id=n,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):$9,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t(e.name||"",r,e.id,n);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(bt.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let i of n.split(" "))r[i]=e[n];return n=>{for(let i=n.prop(bt.group),o=-1;o<(i?i.length:0);o++){let u=r[o<0?n.name:i[o]];if(u)return u}}}};xn.none=new xn("",Object.create(null),0,8);var Tc=class t{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let i=null;for(let o of e){let u=o(n);u&&(i||(i=Object.assign({},n.props)),i[u[0].id]=u[1])}r.push(i?new xn(n.name,i,n.id,n.flags):n)}return new t(r)}},Ac=new WeakMap,f3=new WeakMap,Jt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Jt||(Jt={}));var Fr=class t{constructor(e,r,n,i,o){if(this.type=e,this.children=r,this.positions=n,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[u,l]of o)this.props[typeof u=="number"?u:u.id]=l}}toString(){let e=To.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new Vu(this.topNode,e)}cursorAt(e,r=0,n=0){let i=Ac.get(this)||this.topNode,o=new Vu(i);return o.moveTo(e,r),Ac.set(this,o._tree),o}get topNode(){return new kn(this,0,0,null)}resolve(e,r=0){let n=Wu(Ac.get(this)||this.topNode,e,r,!1);return Ac.set(this,n),n}resolveInner(e,r=0){let n=Wu(f3.get(this)||this.topNode,e,r,!0);return f3.set(this,n),n}resolveStack(e,r=0){return T9(this,e,r)}iterate(e){let{enter:r,leave:n,from:i=0,to:o=this.length}=e,u=e.mode||0,l=(u&Jt.IncludeAnonymous)>0;for(let c=this.cursor(u|Jt.IncludeAnonymous);;){let d=!1;if(c.from<=o&&c.to>=i&&(!l&&c.type.isAnonymous||r(c)!==!1)){if(c.firstChild())continue;d=!0}for(;d&&n&&(l||!c.type.isAnonymous)&&n(c),!c.nextSibling();){if(!c.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:Ap(xn.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new t(this.type,r,n,i,this.propValues),e.makeTree||((r,n,i)=>new t(xn.none,r,n,i)))}static build(e){return R9(e)}};Fr.empty=new Fr(xn.none,[],[],0);var Op=class t{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t(this.buffer,this.index)}},rs=class t{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return xn.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],i=this.set.types[r],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,n==e)return o;let u=[];for(;e<n;)u.push(this.childString(e)),e=this.buffer[e+3];return o+"("+u.join(",")+")"}findChild(e,r,n,i,o){let{buffer:u}=this,l=-1;for(let c=e;c!=r&&!(p3(o,i,u[c+1],u[c+2])&&(l=c,n>0));c=u[c+3]);return l}slice(e,r,n){let i=this.buffer,o=new Uint16Array(r-e),u=0;for(let l=e,c=0;l<r;){o[c++]=i[l++],o[c++]=i[l++]-n;let d=o[c++]=i[l++]-n;o[c++]=i[l++]-e,u=Math.max(u,d)}return new t(o,u,this.set)}};function p3(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function Wu(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let u=!n&&t instanceof kn&&t.index<0?null:t.parent;if(!u)return t;t=u}let o=n?0:Jt.IgnoreOverlays;if(n)for(let u=t,l=u.parent;l;u=l,l=u.parent)u instanceof kn&&u.index<0&&((i=l.enter(e,r,o))===null||i===void 0?void 0:i.from)!=u.from&&(t=l);for(;;){let u=t.enter(e,r,o);if(!u)return t;t=u}}var Rc=class{cursor(e=0){return new Vu(this,e)}getChild(e,r=null,n=null){let i=d3(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return d3(this,e,r,n)}resolve(e,r=0){return Wu(this,e,r,!1)}resolveInner(e,r=0){return Wu(this,e,r,!0)}matchContext(e){return xp(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),n=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(n=r,r=i.prevSibling):r=i}return n}get node(){return this}get next(){return this.parent}},kn=class t extends Rc{constructor(e,r,n,i){super(),this._tree=e,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,i,o=0){for(let u=this;;){for(let{children:l,positions:c}=u._tree,d=r>0?l.length:-1;e!=d;e+=r){let h=l[e],g=c[e]+u.from;if(p3(i,n,g,g+h.length)){if(h instanceof rs){if(o&Jt.ExcludeBuffers)continue;let v=h.findChild(0,h.buffer.length,r,n-g,i);if(v>-1)return new Ls(new kp(u,h,e,g),null,v)}else if(o&Jt.IncludeAnonymous||!h.type.isAnonymous||Pp(h)){let v;if(!(o&Jt.IgnoreMounts)&&(v=To.get(h))&&!v.overlay)return new t(v.tree,g,e,u);let b=new t(h,g,e,u);return o&Jt.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(r<0?h.children.length-1:0,r,n,i)}}}if(o&Jt.IncludeAnonymous||!u.type.isAnonymous||(u.index>=0?e=u.index+r:e=r<0?-1:u._parent._tree.children.length,u=u._parent,!u))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,n=0){let i;if(!(n&Jt.IgnoreOverlays)&&(i=To.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:u,to:l}of i.overlay)if((r>0?u<=o:u<o)&&(r<0?l>=o:l>o))return new t(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function d3(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(r!=null){for(let u=!1;!u;)if(u=i.type.is(r),!i.nextSibling())return o}for(;;){if(n!=null&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return n==null?o:[]}}function xp(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}var kp=class{constructor(e,r,n,i){this.parent=e,this.buffer=r,this.index=n,this.start=i}},Ls=class t extends Rc{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){super(),this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,n);return o<0?null:new t(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,n=0){if(n&Jt.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return o<0?null:new t(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,i=this.index+4,o=n.buffer[this.index+3];if(o>i){let u=n.buffer[this.index+1];e.push(n.slice(i,o,u)),r.push(0)}return new Fr(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function g3(t){if(!t.length)return null;let e=0,r=t[0];for(let o=1;o<t.length;o++){let u=t[o];(u.from>r.from||u.to<r.to)&&(r=u,e=o)}let n=r instanceof kn&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new Cp(i,r)}var Cp=class{constructor(e,r){this.heads=e,this.node=r}get next(){return g3(this.heads)}};function T9(t,e,r){let n=t.resolveInner(e,r),i=null;for(let o=n instanceof kn?n:n.context.parent;o;o=o.parent)if(o.index<0){let u=o.parent;(i||(i=[n])).push(u.resolve(e,r)),o=u}else{let u=To.get(o.tree);if(u&&u.overlay&&u.overlay[0].from<=e&&u.overlay[u.overlay.length-1].to>=e){let l=new kn(u.tree,u.overlay[0].from+o.from,-1,o);(i||(i=[n])).push(Wu(l,e,r,!1))}}return i?g3(i):n}var Vu=class{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof kn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof kn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&Jt.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Jt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Jt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let o=r+e,u=e<0?-1:n._tree.children.length;o!=u;o+=e){let l=n._tree.children[o];if(this.mode&Jt.IncludeAnonymous||l instanceof rs||!l.type.isAnonymous||Pp(l))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let u=e;u;u=u._parent)if(u.index==i){if(i==this.index)return u;r=u,n=o+1;break e}i=this.stack[--o]}for(let i=n;i<this.stack.length;i++)r=new Ls(this.buffer,r,this.stack[i]);return this.bufferNode=new Ls(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&r&&r(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return xp(this.node.parent,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return xp(this._tree,e,i);let u=n[r.buffer[this.stack[o]]];if(!u.isAnonymous){if(e[i]&&e[i]!=u.name)return!1;i--}}return!0}};function Pp(t){return t.children.some(e=>e instanceof rs||!e.type.isAnonymous||Pp(e))}function R9(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:u=n.types.length}=t,l=Array.isArray(r)?new Op(r,r.length):r,c=n.types,d=0,h=0;function g(me,Ie,Ce,Ge,ze,Xe){let{id:ye,start:he,end:Ee,size:le}=l,O=h,P=d;for(;le<0;)if(l.next(),le==-1){let ce=o[ye];Ce.push(ce),Ge.push(he-me);return}else if(le==-3){d=ye;return}else if(le==-4){h=ye;return}else throw new RangeError(`Unrecognized record size: ${le}`);let R=c[ye],ge,$,pe=he-me;if(Ee-he<=i&&($=C(l.pos-Ie,ze))){let ce=new Uint16Array($.size-$.skip),de=l.pos-$.size,ke=ce.length;for(;l.pos>de;)ke=q($.start,ce,ke);ge=new rs(ce,Ee-$.start,n),pe=$.start-me}else{let ce=l.pos-le;l.next();let de=[],ke=[],Re=ye>=u?ye:-1,Le=0,Qe=Ee;for(;l.pos>ce;)Re>=0&&l.id==Re&&l.size>=0?(l.end<=Qe-i&&(_(de,ke,he,Le,l.end,Qe,Re,O,P),Le=de.length,Qe=l.end),l.next()):Xe>2500?v(he,ce,de,ke):g(he,ce,de,ke,Re,Xe+1);if(Re>=0&&Le>0&&Le<de.length&&_(de,ke,he,Le,he,Qe,Re,O,P),de.reverse(),ke.reverse(),Re>-1&&Le>0){let Ve=b(R,P);ge=Ap(R,de,ke,0,de.length,0,Ee-he,Ve,Ve)}else ge=k(R,de,ke,Ee-he,O-Ee,P)}Ce.push(ge),Ge.push(pe)}function v(me,Ie,Ce,Ge){let ze=[],Xe=0,ye=-1;for(;l.pos>Ie;){let{id:he,start:Ee,end:le,size:O}=l;if(O>4)l.next();else{if(ye>-1&&Ee<ye)break;ye<0&&(ye=le-i),ze.push(he,Ee,le),Xe++,l.next()}}if(Xe){let he=new Uint16Array(Xe*4),Ee=ze[ze.length-2];for(let le=ze.length-3,O=0;le>=0;le-=3)he[O++]=ze[le],he[O++]=ze[le+1]-Ee,he[O++]=ze[le+2]-Ee,he[O++]=O;Ce.push(new rs(he,ze[2]-Ee,n)),Ge.push(Ee-me)}}function b(me,Ie){return(Ce,Ge,ze)=>{let Xe=0,ye=Ce.length-1,he,Ee;if(ye>=0&&(he=Ce[ye])instanceof Fr){if(!ye&&he.type==me&&he.length==ze)return he;(Ee=he.prop(bt.lookAhead))&&(Xe=Ge[ye]+he.length+Ee)}return k(me,Ce,Ge,ze,Xe,Ie)}}function _(me,Ie,Ce,Ge,ze,Xe,ye,he,Ee){let le=[],O=[];for(;me.length>Ge;)le.push(me.pop()),O.push(Ie.pop()+Ce-ze);me.push(k(n.types[ye],le,O,Xe-ze,he-Xe,Ee)),Ie.push(ze-Ce)}function k(me,Ie,Ce,Ge,ze,Xe,ye){if(Xe){let he=[bt.contextHash,Xe];ye=ye?[he].concat(ye):[he]}if(ze>25){let he=[bt.lookAhead,ze];ye=ye?[he].concat(ye):[he]}return new Fr(me,Ie,Ce,Ge,ye)}function C(me,Ie){let Ce=l.fork(),Ge=0,ze=0,Xe=0,ye=Ce.end-i,he={size:0,start:0,skip:0};e:for(let Ee=Ce.pos-me;Ce.pos>Ee;){let le=Ce.size;if(Ce.id==Ie&&le>=0){he.size=Ge,he.start=ze,he.skip=Xe,Xe+=4,Ge+=4,Ce.next();continue}let O=Ce.pos-le;if(le<0||O<Ee||Ce.start<ye)break;let P=Ce.id>=u?4:0,R=Ce.start;for(Ce.next();Ce.pos>O;){if(Ce.size<0)if(Ce.size==-3)P+=4;else break e;else Ce.id>=u&&(P+=4);Ce.next()}ze=R,Ge+=le,Xe+=P}return(Ie<0||Ge==me)&&(he.size=Ge,he.start=ze,he.skip=Xe),he.size>4?he:void 0}function q(me,Ie,Ce){let{id:Ge,start:ze,end:Xe,size:ye}=l;if(l.next(),ye>=0&&Ge<u){let he=Ce;if(ye>4){let Ee=l.pos-(ye-4);for(;l.pos>Ee;)Ce=q(me,Ie,Ce)}Ie[--Ce]=he,Ie[--Ce]=Xe-me,Ie[--Ce]=ze-me,Ie[--Ce]=Ge}else ye==-3?d=Ge:ye==-4&&(h=Ge);return Ce}let be=[],Oe=[];for(;l.pos>0;)g(t.start||0,t.bufferStart||0,be,Oe,-1,0);let Ae=(e=t.length)!==null&&e!==void 0?e:be.length?Oe[0]+be[0].length:0;return new Fr(c[t.topID],be.reverse(),Oe.reverse(),Ae)}var h3=new WeakMap;function $c(t,e){if(!t.isAnonymous||e instanceof rs||e.type!=t)return 1;let r=h3.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof Fr)){r=1;break}r+=$c(t,n)}h3.set(e,r)}return r}function Ap(t,e,r,n,i,o,u,l,c){let d=0;for(let _=n;_<i;_++)d+=$c(t,e[_]);let h=Math.ceil(d*1.5/8),g=[],v=[];function b(_,k,C,q,be){for(let Oe=C;Oe<q;){let Ae=Oe,me=k[Oe],Ie=$c(t,_[Oe]);for(Oe++;Oe<q;Oe++){let Ce=$c(t,_[Oe]);if(Ie+Ce>=h)break;Ie+=Ce}if(Oe==Ae+1){if(Ie>h){let Ce=_[Ae];b(Ce.children,Ce.positions,0,Ce.children.length,k[Ae]+be);continue}g.push(_[Ae])}else{let Ce=k[Oe-1]+_[Oe-1].length-me;g.push(Ap(t,_,k,Ae,Oe,me,Ce,null,c))}v.push(me+be-o)}}return b(e,r,n,i,0),(l||c)(g,v,u)}var Ic=class{constructor(){this.map=new WeakMap}setBuffer(e,r,n){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(r,n)}getBuffer(e,r){let n=this.map.get(e);return n&&n.get(r)}set(e,r){e instanceof Ls?this.setBuffer(e.context.buffer,e.index,r):e instanceof kn&&this.map.set(e.tree,r)}get(e){return e instanceof Ls?this.getBuffer(e.context.buffer,e.index):e instanceof kn?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}};var Nc=class{startParse(e,r,n){return typeof e=="string"&&(e=new Ep(e)),n=n?n.length?n.map(i=>new Hu(i.from,i.to)):[new Hu(0,0)]:[new Hu(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let i=this.startParse(e,r,n);for(;;){let o=i.advance();if(o)return o}}},Ep=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}};var TF=new bt({perNode:!0});var I9=new bt,N9={queries:{},queryOrder:[]},Dc=Mc.Facet.define({combine(t){return(0,Mc.combineConfig)(t,N9,{queries:(e,r)=>e||r,queryOrder:(e,r)=>e||r})}});function $p(t){let e=[D9],r=t.settings.staticHighlighter;return e.push(Dc.of((0,v3.cloneDeep)(r))),e}function y3(t){let e=Object.values(t.settings.staticHighlighter.queries),r={};for(let i of e){let o="."+i.class;i.color&&(r[o]={backgroundColor:i.color})}return fr.EditorView.theme(r)}var D9=fr.ViewPlugin.fromClass(class{constructor(t){let{token:e,line:r,widget:n}=this.getDeco(t);this.decorations=e,this.lineDecorations=r,this.widgetDecorations=n}update(t){let e=t.startState.facet(Dc)!==t.state.facet(Dc);if(t.docChanged||t.viewportChanged||e){let{token:r,line:n,widget:i}=this.getDeco(t.view);this.decorations=r,this.lineDecorations=n,this.widgetDecorations=i}}getDeco(t){var l,c,d;let{state:e}=t,r=[],n=[],i=[],o={},u=Object.values(t.state.facet(Dc).queries);for(let h of t.visibleRanges)for(let g of u)if(g.enabled){let v;try{g.regex?v=new Qu(e.doc,g.query,{},h.from,h.to):v=new _n(e.doc,g.query,h.from,h.to)}catch(b){console.debug(b);continue}for(;!v.next().done;){let{from:b,to:_}=v.value,k=e.sliceDoc(b,_).trim(),C=(l=t.state.doc.lineAt(b))==null?void 0:l.from,q=(0,m3.syntaxTree)(t.state).resolveInner(C+1),be=q.type.prop(I9);if(!["hmd-codeblock","hmd-frontmatter"].find(Ae=>be==null?void 0:be.toString().split(" ").includes(Ae))&&((c=g.mark)!=null&&c.contains("line")&&(o[C]||(o[C]=[]),o[C].push(g.class)),!g.mark||(d=g.mark)!=null&&d.contains("match"))){let Ae=fr.Decoration.mark({class:g.class,attributes:{"data-contents":k}});r.push(Ae.range(b,_))}}}return Object.entries(o).forEach(([h,g])=>{let v=parseInt(h,10);if(isNaN(v))return;let b=fr.Decoration.line({attributes:{class:g.join(" ")}});n.push(b.range(v))}),{line:fr.Decoration.set(n.sort((h,g)=>h.from-g.from)),token:fr.Decoration.set(r.sort((h,g)=>h.from-g.from)),widget:fr.Decoration.set(i.sort((h,g)=>h.from-g.from))}}},{provide:t=>[fr.EditorView.decorations.of(e=>{var r;return((r=e.plugin(t))==null?void 0:r.lineDecorations)||fr.Decoration.none}),fr.EditorView.decorations.of(e=>{var r;return((r=e.plugin(t))==null?void 0:r.decorations)||fr.Decoration.none}),fr.EditorView.decorations.of(e=>{var r;return((r=e.plugin(t))==null?void 0:r.widgetDecorations)||fr.Decoration.none})]});S();var w3=require("obsidian"),b3={save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z" fill="currentColor"/></svg>'};function Tp(){Object.keys(b3).forEach(t=>{(0,w3.addIcon)(t,b3[t])})}S();var S3={selectionHighlighter:{highlightWordAroundCursor:!0,highlightSelectedText:!0,maxMatches:100,minSelectionLength:2,highlightDelay:200,ignoredWords:rc,selectionColor:"default",selectionDecoration:"default",css:"text-decoration: underline dotted var(--text-accent)"},staticHighlighter:{queries:{},queryOrder:[]}};S();var Ha=require("@codemirror/state"),f5=require("@codemirror/view"),pm=Eu(_3()),ft=require("obsidian");S();function O3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(r),!0).forEach(function(n){M9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zc=function(e){return typeof e}:zc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function M9(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ci(){return Ci=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ci.apply(this,arguments)}function L9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function q9(t,e){if(t==null)return{};var r=L9(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var B9="1.15.6";function ki(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var Ei=ki(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ra=ki(/Edge/i),x3=ki(/firefox/i),Yu=ki(/safari/i)&&!ki(/chrome/i)&&!ki(/android/i),Wp=ki(/iP(ad|od|hone)/i),R3=ki(/chrome/i)&&ki(/android/i),I3={capture:!1,passive:!1};function wt(t,e,r){t.addEventListener(e,r,!Ei&&I3)}function vt(t,e,r){t.removeEventListener(e,r,!Ei&&I3)}function Vc(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(r){return!1}return!1}}function N3(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Fn(t,e,r,n){if(t){r=r||document;do{if(e!=null&&(e[0]===">"?t.parentNode===r&&Vc(t,e):Vc(t,e))||n&&t===r)return t;if(t===r)break}while(t=N3(t))}return null}var k3=/\s+/g;function cn(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(k3," ").replace(" "+e+" "," ");t.className=(n+(r?" "+e:"")).replace(k3," ")}}function Je(t,e,r){var n=t&&t.style;if(n){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),e===void 0?r:r[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=r+(typeof r=="string"?"":"px")}}function Mo(t,e){var r="";if(typeof t=="string")r=t;else do{var n=Je(t,"transform");n&&n!=="none"&&(r=n+" "+r)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function D3(t,e,r){if(t){var n=t.getElementsByTagName(e),i=0,o=n.length;if(r)for(;i<o;i++)r(n[i],i);return n}return[]}function ei(){var t=document.scrollingElement;return t||document.documentElement}function tr(t,e,r,n,i){if(!(!t.getBoundingClientRect&&t!==window)){var o,u,l,c,d,h,g;if(t!==window&&t.parentNode&&t!==ei()?(o=t.getBoundingClientRect(),u=o.top,l=o.left,c=o.bottom,d=o.right,h=o.height,g=o.width):(u=0,l=0,c=window.innerHeight,d=window.innerWidth,h=window.innerHeight,g=window.innerWidth),(e||r)&&t!==window&&(i=i||t.parentNode,!Ei))do if(i&&i.getBoundingClientRect&&(Je(i,"transform")!=="none"||r&&Je(i,"position")!=="static")){var v=i.getBoundingClientRect();u-=v.top+parseInt(Je(i,"border-top-width")),l-=v.left+parseInt(Je(i,"border-left-width")),c=u+o.height,d=l+o.width;break}while(i=i.parentNode);if(n&&t!==window){var b=Mo(i||t),_=b&&b.a,k=b&&b.d;b&&(u/=k,l/=_,g/=_,h/=k,c=u+h,d=l+g)}return{top:u,left:l,bottom:c,right:d,width:g,height:h}}}function C3(t,e,r){for(var n=ss(t,!0),i=tr(t)[e];n;){var o=tr(n)[r],u=void 0;if(r==="top"||r==="left"?u=i>=o:u=i<=o,!u)return n;if(n===ei())break;n=ss(n,!1)}return!1}function Lo(t,e,r,n){for(var i=0,o=0,u=t.children;o<u.length;){if(u[o].style.display!=="none"&&u[o]!==et.ghost&&(n||u[o]!==et.dragged)&&Fn(u[o],r.draggable,t,!1)){if(i===e)return u[o];i++}o++}return null}function Vp(t,e){for(var r=t.lastElementChild;r&&(r===et.ghost||Je(r,"display")==="none"||e&&!Vc(r,e));)r=r.previousElementSibling;return r||null}function Cn(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==et.clone&&(!e||Vc(t,e))&&r++;return r}function E3(t){var e=0,r=0,n=ei();if(t)do{var i=Mo(t),o=i.a,u=i.d;e+=t.scrollLeft*o,r+=t.scrollTop*u}while(t!==n&&(t=t.parentNode));return[e,r]}function F9(t,e){for(var r in t)if(t.hasOwnProperty(r)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[r][n])return Number(r)}return-1}function ss(t,e){if(!t||!t.getBoundingClientRect)return ei();var r=t,n=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=Je(r);if(r.clientWidth<r.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ei();if(n||e)return r;n=!0}}while(r=r.parentNode);return ei()}function U9(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Ip(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Zu;function M3(t,e){return function(){if(!Zu){var r=arguments,n=this;r.length===1?t.call(n,r[0]):t.apply(n,r),Zu=setTimeout(function(){Zu=void 0},e)}}}function z9(){clearTimeout(Zu),Zu=void 0}function L3(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function q3(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function B3(t,e,r){var n={};return Array.from(t.children).forEach(function(i){var o,u,l,c;if(!(!Fn(i,e.draggable,t,!1)||i.animated||i===r)){var d=tr(i);n.left=Math.min((o=n.left)!==null&&o!==void 0?o:1/0,d.left),n.top=Math.min((u=n.top)!==null&&u!==void 0?u:1/0,d.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,d.right),n.bottom=Math.max((c=n.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var zr="Sortable"+new Date().getTime();function j9(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(Je(i,"display")==="none"||i===et.ghost)){t.push({target:i,rect:tr(i)});var o=ti({},t[t.length-1].rect);if(i.thisAnimationDuration){var u=Mo(i,!0);u&&(o.top-=u.f,o.left-=u.e)}i.fromRect=o}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(F9(t,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var o=!1,u=0;t.forEach(function(l){var c=0,d=l.target,h=d.fromRect,g=tr(d),v=d.prevFromRect,b=d.prevToRect,_=l.rect,k=Mo(d,!0);k&&(g.top-=k.f,g.left-=k.e),d.toRect=g,d.thisAnimationDuration&&Ip(v,g)&&!Ip(h,g)&&(_.top-g.top)/(_.left-g.left)===(h.top-g.top)/(h.left-g.left)&&(c=H9(_,v,b,i.options)),Ip(g,h)||(d.prevFromRect=h,d.prevToRect=g,c||(c=i.options.animation),i.animate(d,_,g,c)),c&&(o=!0,u=Math.max(u,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),o?e=setTimeout(function(){typeof n=="function"&&n()},u):typeof n=="function"&&n(),t=[]},animate:function(n,i,o,u){if(u){Je(n,"transition",""),Je(n,"transform","");var l=Mo(this.el),c=l&&l.a,d=l&&l.d,h=(i.left-o.left)/(c||1),g=(i.top-o.top)/(d||1);n.animatingX=!!h,n.animatingY=!!g,Je(n,"transform","translate3d("+h+"px,"+g+"px,0)"),this.forRepaintDummy=Q9(n),Je(n,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),Je(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){Je(n,"transition",""),Je(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},u)}}}}function Q9(t){return t.offsetWidth}function H9(t,e,r,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*n.animation}var Ro=[],Np={initializeByDefault:!0},na={mount:function(e){for(var r in Np)Np.hasOwnProperty(r)&&!(r in e)&&(e[r]=Np[r]);Ro.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ro.push(e)},pluginEvent:function(e,r,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";Ro.forEach(function(u){r[u.pluginName]&&(r[u.pluginName][o]&&r[u.pluginName][o](ti({sortable:r},n)),r.options[u.pluginName]&&r[u.pluginName][e]&&r[u.pluginName][e](ti({sortable:r},n)))})},initializePlugins:function(e,r,n,i){Ro.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var d=new l(e,r,e.options);d.sortable=e,d.options=e.options,e[c]=d,Ci(n,d.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var u=this.modifyOption(e,o,e.options[o]);typeof u!="undefined"&&(e.options[o]=u)}},getEventProperties:function(e,r){var n={};return Ro.forEach(function(i){typeof i.eventProperties=="function"&&Ci(n,i.eventProperties.call(r[i.pluginName],e))}),n},modifyOption:function(e,r,n){var i;return Ro.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[r]=="function"&&(i=o.optionListeners[r].call(e[o.pluginName],n))}),i}};function W9(t){var e=t.sortable,r=t.rootEl,n=t.name,i=t.targetEl,o=t.cloneEl,u=t.toEl,l=t.fromEl,c=t.oldIndex,d=t.newIndex,h=t.oldDraggableIndex,g=t.newDraggableIndex,v=t.originalEvent,b=t.putSortable,_=t.extraEventProperties;if(e=e||r&&r[zr],!!e){var k,C=e.options,q="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ei&&!ra?k=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(n,!0,!0)),k.to=u||r,k.from=l||r,k.item=i||r,k.clone=o,k.oldIndex=c,k.newIndex=d,k.oldDraggableIndex=h,k.newDraggableIndex=g,k.originalEvent=v,k.pullMode=b?b.lastPutMode:void 0;var be=ti(ti({},_),na.getEventProperties(n,e));for(var Oe in be)k[Oe]=be[Oe];r&&r.dispatchEvent(k),C[q]&&C[q].call(e,k)}}var V9=["evt"],Ur=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,o=q9(n,V9);na.pluginEvent.bind(et)(e,r,ti({dragEl:$e,parentEl:Wt,ghostEl:nt,rootEl:Ft,nextEl:Fs,lastDownEl:jc,cloneEl:Qt,cloneHidden:is,dragStarted:Gu,putSortable:dr,activeSortable:et.active,originalEvent:i,oldIndex:Do,oldDraggableIndex:Ju,newIndex:fn,newDraggableIndex:ns,hideGhostForTarget:j3,unhideGhostForTarget:Q3,cloneNowHidden:function(){is=!0},cloneNowShown:function(){is=!1},dispatchSortableEvent:function(l){Tr({sortable:r,name:l,originalEvent:i})}},o))};function Tr(t){W9(ti({putSortable:dr,cloneEl:Qt,targetEl:$e,rootEl:Ft,oldIndex:Do,oldDraggableIndex:Ju,newIndex:fn,newDraggableIndex:ns},t))}var $e,Wt,nt,Ft,Fs,jc,Qt,is,Do,fn,Ju,ns,qc,dr,No=!1,Gc=!1,Xc=[],qs,Bn,Dp,Mp,P3,A3,Gu,Io,ea,ta=!1,Bc=!1,Qc,wr,Lp=[],zp=!1,Kc=[],Zc=typeof document!="undefined",Fc=Wp,$3=ra||Ei?"cssFloat":"float",G9=Zc&&!R3&&!Wp&&"draggable"in document.createElement("div"),F3=function(){if(Zc){if(Ei)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),U3=function(e,r){var n=Je(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Lo(e,0,r),u=Lo(e,1,r),l=o&&Je(o),c=u&&Je(u),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+tr(o).width,h=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+tr(u).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var g=l.float==="left"?"left":"right";return u&&(c.clear==="both"||c.clear===g)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=i&&n[$3]==="none"||u&&n[$3]==="none"&&d+h>i)?"vertical":"horizontal"},X9=function(e,r,n){var i=n?e.left:e.top,o=n?e.right:e.bottom,u=n?e.width:e.height,l=n?r.left:r.top,c=n?r.right:r.bottom,d=n?r.width:r.height;return i===l||o===c||i+u/2===l+d/2},K9=function(e,r){var n;return Xc.some(function(i){var o=i[zr].options.emptyInsertThreshold;if(!(!o||Vp(i))){var u=tr(i),l=e>=u.left-o&&e<=u.right+o,c=r>=u.top-o&&r<=u.bottom+o;if(l&&c)return n=i}}),n},z3=function(e){function r(o,u){return function(l,c,d,h){var g=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(o==null&&(u||g))return!0;if(o==null||o===!1)return!1;if(u&&o==="clone")return o;if(typeof o=="function")return r(o(l,c,d,h),u)(l,c,d,h);var v=(u?l:c).options.group.name;return o===!0||typeof o=="string"&&o===v||o.join&&o.indexOf(v)>-1}}var n={},i=e.group;(!i||zc(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=r(i.pull,!0),n.checkPut=r(i.put),n.revertClone=i.revertClone,e.group=n},j3=function(){!F3&&nt&&Je(nt,"display","none")},Q3=function(){!F3&&nt&&Je(nt,"display","")};Zc&&!R3&&document.addEventListener("click",function(t){if(Gc)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Gc=!1,!1},!0);var Bs=function(e){if($e){e=e.touches?e.touches[0]:e;var r=K9(e.clientX,e.clientY);if(r){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=r,n.preventDefault=void 0,n.stopPropagation=void 0,r[zr]._onDragOver(n)}}},Y9=function(e){$e&&$e.parentNode[zr]._isOutsideThisEl(e.target)};function et(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ci({},e),t[zr]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return U3(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,l){u.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:et.supportPointer!==!1&&"PointerEvent"in window&&(!Yu||Wp),emptyInsertThreshold:5};na.initializePlugins(this,t,r);for(var n in r)!(n in e)&&(e[n]=r[n]);z3(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:G9,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?wt(t,"pointerdown",this._onTapStart):(wt(t,"mousedown",this._onTapStart),wt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(wt(t,"dragover",this),wt(t,"dragenter",this)),Xc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ci(this,j9())}et.prototype={constructor:et,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Io=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,$e):this.options.direction},_onTapStart:function(e){if(e.cancelable){var r=this,n=this.el,i=this.options,o=i.preventOnFilter,u=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,h=i.filter;if(s$(n),!$e&&!(/mousedown|pointerdown/.test(u)&&e.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Yu&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Fn(c,i.draggable,n,!1),!(c&&c.animated)&&jc!==c)){if(Do=Cn(c),Ju=Cn(c,i.draggable),typeof h=="function"){if(h.call(this,e,c,this)){Tr({sortable:r,rootEl:d,name:"filter",targetEl:c,toEl:n,fromEl:n}),Ur("filter",r,{evt:e}),o&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(g){if(g=Fn(d,g.trim(),n,!1),g)return Tr({sortable:r,rootEl:g,name:"filter",targetEl:c,fromEl:n,toEl:n}),Ur("filter",r,{evt:e}),!0}),h)){o&&e.preventDefault();return}i.handle&&!Fn(d,i.handle,n,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,r,n){var i=this,o=i.el,u=i.options,l=o.ownerDocument,c;if(n&&!$e&&n.parentNode===o){var d=tr(n);if(Ft=o,$e=n,Wt=$e.parentNode,Fs=$e.nextSibling,jc=n,qc=u.group,et.dragged=$e,qs={target:$e,clientX:(r||e).clientX,clientY:(r||e).clientY},P3=qs.clientX-d.left,A3=qs.clientY-d.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,$e.style["will-change"]="all",c=function(){if(Ur("delayEnded",i,{evt:e}),et.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!x3&&i.nativeDraggable&&($e.draggable=!0),i._triggerDragStart(e,r),Tr({sortable:i,name:"choose",originalEvent:e}),cn($e,u.chosenClass,!0)},u.ignore.split(",").forEach(function(h){D3($e,h.trim(),qp)}),wt(l,"dragover",Bs),wt(l,"mousemove",Bs),wt(l,"touchmove",Bs),u.supportPointer?(wt(l,"pointerup",i._onDrop),!this.nativeDraggable&&wt(l,"pointercancel",i._onDrop)):(wt(l,"mouseup",i._onDrop),wt(l,"touchend",i._onDrop),wt(l,"touchcancel",i._onDrop)),x3&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$e.draggable=!0),Ur("delayStart",this,{evt:e}),u.delay&&(!u.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(ra||Ei))){if(et.eventCanceled){this._onDrop();return}u.supportPointer?(wt(l,"pointerup",i._disableDelayedDrag),wt(l,"pointercancel",i._disableDelayedDrag)):(wt(l,"mouseup",i._disableDelayedDrag),wt(l,"touchend",i._disableDelayedDrag),wt(l,"touchcancel",i._disableDelayedDrag)),wt(l,"mousemove",i._delayedDragTouchMoveHandler),wt(l,"touchmove",i._delayedDragTouchMoveHandler),u.supportPointer&&wt(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,u.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$e&&qp($e),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;vt(e,"mouseup",this._disableDelayedDrag),vt(e,"touchend",this._disableDelayedDrag),vt(e,"touchcancel",this._disableDelayedDrag),vt(e,"pointerup",this._disableDelayedDrag),vt(e,"pointercancel",this._disableDelayedDrag),vt(e,"mousemove",this._delayedDragTouchMoveHandler),vt(e,"touchmove",this._delayedDragTouchMoveHandler),vt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?wt(document,"pointermove",this._onTouchMove):r?wt(document,"touchmove",this._onTouchMove):wt(document,"mousemove",this._onTouchMove):(wt($e,"dragend",this),wt(Ft,"dragstart",this._onDragStart));try{document.selection?Hc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,r){if(No=!1,Ft&&$e){Ur("dragStarted",this,{evt:r}),this.nativeDraggable&&wt(document,"dragover",Y9);var n=this.options;!e&&cn($e,n.dragClass,!1),cn($e,n.ghostClass,!0),et.active=this,e&&this._appendGhost(),Tr({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Bn){this._lastX=Bn.clientX,this._lastY=Bn.clientY,j3();for(var e=document.elementFromPoint(Bn.clientX,Bn.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Bn.clientX,Bn.clientY),e!==r);)r=e;if($e.parentNode[zr]._isOutsideThisEl(e),r)do{if(r[zr]){var n=void 0;if(n=r[zr]._onDragOver({clientX:Bn.clientX,clientY:Bn.clientY,target:e,rootEl:r}),n&&!this.options.dragoverBubble)break}e=r}while(r=N3(r));Q3()}},_onTouchMove:function(e){if(qs){var r=this.options,n=r.fallbackTolerance,i=r.fallbackOffset,o=e.touches?e.touches[0]:e,u=nt&&Mo(nt,!0),l=nt&&u&&u.a,c=nt&&u&&u.d,d=Fc&&wr&&E3(wr),h=(o.clientX-qs.clientX+i.x)/(l||1)+(d?d[0]-Lp[0]:0)/(l||1),g=(o.clientY-qs.clientY+i.y)/(c||1)+(d?d[1]-Lp[1]:0)/(c||1);if(!et.active&&!No){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(nt){u?(u.e+=h-(Dp||0),u.f+=g-(Mp||0)):u={a:1,b:0,c:0,d:1,e:h,f:g};var v="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");Je(nt,"webkitTransform",v),Je(nt,"mozTransform",v),Je(nt,"msTransform",v),Je(nt,"transform",v),Dp=h,Mp=g,Bn=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!nt){var e=this.options.fallbackOnBody?document.body:Ft,r=tr($e,!0,Fc,!0,e),n=this.options;if(Fc){for(wr=e;Je(wr,"position")==="static"&&Je(wr,"transform")==="none"&&wr!==document;)wr=wr.parentNode;wr!==document.body&&wr!==document.documentElement?(wr===document&&(wr=ei()),r.top+=wr.scrollTop,r.left+=wr.scrollLeft):wr=ei(),Lp=E3(wr)}nt=$e.cloneNode(!0),cn(nt,n.ghostClass,!1),cn(nt,n.fallbackClass,!0),cn(nt,n.dragClass,!0),Je(nt,"transition",""),Je(nt,"transform",""),Je(nt,"box-sizing","border-box"),Je(nt,"margin",0),Je(nt,"top",r.top),Je(nt,"left",r.left),Je(nt,"width",r.width),Je(nt,"height",r.height),Je(nt,"opacity","0.8"),Je(nt,"position",Fc?"absolute":"fixed"),Je(nt,"zIndex","100000"),Je(nt,"pointerEvents","none"),et.ghost=nt,e.appendChild(nt),Je(nt,"transform-origin",P3/parseInt(nt.style.width)*100+"% "+A3/parseInt(nt.style.height)*100+"%")}},_onDragStart:function(e,r){var n=this,i=e.dataTransfer,o=n.options;if(Ur("dragStart",this,{evt:e}),et.eventCanceled){this._onDrop();return}Ur("setupClone",this),et.eventCanceled||(Qt=q3($e),Qt.removeAttribute("id"),Qt.draggable=!1,Qt.style["will-change"]="",this._hideClone(),cn(Qt,this.options.chosenClass,!1),et.clone=Qt),n.cloneId=Hc(function(){Ur("clone",n),!et.eventCanceled&&(n.options.removeCloneOnHide||Ft.insertBefore(Qt,$e),n._hideClone(),Tr({sortable:n,name:"clone"}))}),!r&&cn($e,o.dragClass,!0),r?(Gc=!0,n._loopId=setInterval(n._emulateDragOver,50)):(vt(document,"mouseup",n._onDrop),vt(document,"touchend",n._onDrop),vt(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,$e)),wt(document,"drop",n),Je($e,"transform","translateZ(0)")),No=!0,n._dragStartId=Hc(n._dragStarted.bind(n,r,e)),wt(document,"selectstart",n),Gu=!0,window.getSelection().removeAllRanges(),Yu&&Je(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,n=e.target,i,o,u,l=this.options,c=l.group,d=et.active,h=qc===c,g=l.sort,v=dr||d,b,_=this,k=!1;if(zp)return;function C(ge,$){Ur(ge,_,ti({evt:e,isOwner:h,axis:b?"vertical":"horizontal",revert:u,dragRect:i,targetRect:o,canSort:g,fromSortable:v,target:n,completed:be,onMove:function(ce,de){return Uc(Ft,r,$e,i,ce,tr(ce),e,de)},changed:Oe},$))}function q(){C("dragOverAnimationCapture"),_.captureAnimationState(),_!==v&&v.captureAnimationState()}function be(ge){return C("dragOverCompleted",{insertion:ge}),ge&&(h?d._hideClone():d._showClone(_),_!==v&&(cn($e,dr?dr.options.ghostClass:d.options.ghostClass,!1),cn($e,l.ghostClass,!0)),dr!==_&&_!==et.active?dr=_:_===et.active&&dr&&(dr=null),v===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){C("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(n===$e&&!$e.animated||n===r&&!n.animated)&&(Io=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&($e.parentNode[zr]._isOutsideThisEl(e.target),!ge&&Bs(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),k=!0}function Oe(){fn=Cn($e),ns=Cn($e,l.draggable),Tr({sortable:_,name:"change",toEl:r,newIndex:fn,newDraggableIndex:ns,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Fn(n,l.draggable,r,!0),C("dragOver"),et.eventCanceled)return k;if($e.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return be(!1);if(Gc=!1,d&&!l.disabled&&(h?g||(u=Wt!==Ft):dr===this||(this.lastPutMode=qc.checkPull(this,d,$e,e))&&c.checkPut(this,d,$e,e))){if(b=this._getDirection(e,n)==="vertical",i=tr($e),C("dragOverValid"),et.eventCanceled)return k;if(u)return Wt=Ft,q(),this._hideClone(),C("revert"),et.eventCanceled||(Fs?Ft.insertBefore($e,Fs):Ft.appendChild($e)),be(!0);var Ae=Vp(r,l.draggable);if(!Ae||t$(e,b,this)&&!Ae.animated){if(Ae===$e)return be(!1);if(Ae&&r===e.target&&(n=Ae),n&&(o=tr(n)),Uc(Ft,r,$e,i,n,o,e,!!n)!==!1)return q(),Ae&&Ae.nextSibling?r.insertBefore($e,Ae.nextSibling):r.appendChild($e),Wt=r,Oe(),be(!0)}else if(Ae&&e$(e,b,this)){var me=Lo(r,0,l,!0);if(me===$e)return be(!1);if(n=me,o=tr(n),Uc(Ft,r,$e,i,n,o,e,!1)!==!1)return q(),r.insertBefore($e,me),Wt=r,Oe(),be(!0)}else if(n.parentNode===r){o=tr(n);var Ie=0,Ce,Ge=$e.parentNode!==r,ze=!X9($e.animated&&$e.toRect||i,n.animated&&n.toRect||o,b),Xe=b?"top":"left",ye=C3(n,"top","top")||C3($e,"top","top"),he=ye?ye.scrollTop:void 0;Io!==n&&(Ce=o[Xe],ta=!1,Bc=!ze&&l.invertSwap||Ge),Ie=r$(e,n,o,b,ze?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Bc,Io===n);var Ee;if(Ie!==0){var le=Cn($e);do le-=Ie,Ee=Wt.children[le];while(Ee&&(Je(Ee,"display")==="none"||Ee===nt))}if(Ie===0||Ee===n)return be(!1);Io=n,ea=Ie;var O=n.nextElementSibling,P=!1;P=Ie===1;var R=Uc(Ft,r,$e,i,n,o,e,P);if(R!==!1)return(R===1||R===-1)&&(P=R===1),zp=!0,setTimeout(J9,30),q(),P&&!O?r.appendChild($e):n.parentNode.insertBefore($e,P?O:n),ye&&L3(ye,0,he-ye.scrollTop),Wt=$e.parentNode,Ce!==void 0&&!Bc&&(Qc=Math.abs(Ce-tr(n)[Xe])),Oe(),be(!0)}if(r.contains($e))return be(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){vt(document,"mousemove",this._onTouchMove),vt(document,"touchmove",this._onTouchMove),vt(document,"pointermove",this._onTouchMove),vt(document,"dragover",Bs),vt(document,"mousemove",Bs),vt(document,"touchmove",Bs)},_offUpEvents:function(){var e=this.el.ownerDocument;vt(e,"mouseup",this._onDrop),vt(e,"touchend",this._onDrop),vt(e,"pointerup",this._onDrop),vt(e,"pointercancel",this._onDrop),vt(e,"touchcancel",this._onDrop),vt(document,"selectstart",this)},_onDrop:function(e){var r=this.el,n=this.options;if(fn=Cn($e),ns=Cn($e,n.draggable),Ur("drop",this,{evt:e}),Wt=$e&&$e.parentNode,fn=Cn($e),ns=Cn($e,n.draggable),et.eventCanceled){this._nulling();return}No=!1,Bc=!1,ta=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),jp(this.cloneId),jp(this._dragStartId),this.nativeDraggable&&(vt(document,"drop",this),vt(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Yu&&Je(document.body,"user-select",""),Je($e,"transform",""),e&&(Gu&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),nt&&nt.parentNode&&nt.parentNode.removeChild(nt),(Ft===Wt||dr&&dr.lastPutMode!=="clone")&&Qt&&Qt.parentNode&&Qt.parentNode.removeChild(Qt),$e&&(this.nativeDraggable&&vt($e,"dragend",this),qp($e),$e.style["will-change"]="",Gu&&!No&&cn($e,dr?dr.options.ghostClass:this.options.ghostClass,!1),cn($e,this.options.chosenClass,!1),Tr({sortable:this,name:"unchoose",toEl:Wt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ft!==Wt?(fn>=0&&(Tr({rootEl:Wt,name:"add",toEl:Wt,fromEl:Ft,originalEvent:e}),Tr({sortable:this,name:"remove",toEl:Wt,originalEvent:e}),Tr({rootEl:Wt,name:"sort",toEl:Wt,fromEl:Ft,originalEvent:e}),Tr({sortable:this,name:"sort",toEl:Wt,originalEvent:e})),dr&&dr.save()):fn!==Do&&fn>=0&&(Tr({sortable:this,name:"update",toEl:Wt,originalEvent:e}),Tr({sortable:this,name:"sort",toEl:Wt,originalEvent:e})),et.active&&((fn==null||fn===-1)&&(fn=Do,ns=Ju),Tr({sortable:this,name:"end",toEl:Wt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ur("nulling",this),Ft=$e=Wt=nt=Fs=Qt=jc=is=qs=Bn=Gu=fn=ns=Do=Ju=Io=ea=dr=qc=et.dragged=et.ghost=et.clone=et.active=null,Kc.forEach(function(e){e.checked=!0}),Kc.length=Dp=Mp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":$e&&(this._onDragOver(e),Z9(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,n=this.el.children,i=0,o=n.length,u=this.options;i<o;i++)r=n[i],Fn(r,u.draggable,this.el,!1)&&e.push(r.getAttribute(u.dataIdAttr)||i$(r));return e},sort:function(e,r){var n={},i=this.el;this.toArray().forEach(function(o,u){var l=i.children[u];Fn(l,this.options.draggable,i,!1)&&(n[o]=l)},this),r&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(i.removeChild(n[o]),i.appendChild(n[o]))}),r&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return Fn(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var n=this.options;if(r===void 0)return n[e];var i=na.modifyOption(this,e,r);typeof i!="undefined"?n[e]=i:n[e]=r,e==="group"&&z3(n)},destroy:function(){Ur("destroy",this);var e=this.el;e[zr]=null,vt(e,"mousedown",this._onTapStart),vt(e,"touchstart",this._onTapStart),vt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(vt(e,"dragover",this),vt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xc.splice(Xc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!is){if(Ur("hideClone",this),et.eventCanceled)return;Je(Qt,"display","none"),this.options.removeCloneOnHide&&Qt.parentNode&&Qt.parentNode.removeChild(Qt),is=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(is){if(Ur("showClone",this),et.eventCanceled)return;$e.parentNode==Ft&&!this.options.group.revertClone?Ft.insertBefore(Qt,$e):Fs?Ft.insertBefore(Qt,Fs):Ft.appendChild(Qt),this.options.group.revertClone&&this.animate($e,Qt),Je(Qt,"display",""),is=!1}}};function Z9(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Uc(t,e,r,n,i,o,u,l){var c,d=t[zr],h=d.options.onMove,g;return window.CustomEvent&&!Ei&&!ra?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=r,c.draggedRect=n,c.related=i||e,c.relatedRect=o||tr(e),c.willInsertAfter=l,c.originalEvent=u,t.dispatchEvent(c),h&&(g=h.call(d,c,u)),g}function qp(t){t.draggable=!1}function J9(){zp=!1}function e$(t,e,r){var n=tr(Lo(r.el,0,r.options,!0)),i=B3(r.el,r.options,nt),o=10;return e?t.clientX<i.left-o||t.clientY<n.top&&t.clientX<n.right:t.clientY<i.top-o||t.clientY<n.bottom&&t.clientX<n.left}function t$(t,e,r){var n=tr(Vp(r.el,r.options.draggable)),i=B3(r.el,r.options,nt),o=10;return e?t.clientX>i.right+o||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>i.bottom+o||t.clientX>n.right&&t.clientY>n.top}function r$(t,e,r,n,i,o,u,l){var c=n?t.clientY:t.clientX,d=n?r.height:r.width,h=n?r.top:r.left,g=n?r.bottom:r.right,v=!1;if(!u){if(l&&Qc<d*i){if(!ta&&(ea===1?c>h+d*o/2:c<g-d*o/2)&&(ta=!0),ta)v=!0;else if(ea===1?c<h+Qc:c>g-Qc)return-ea}else if(c>h+d*(1-i)/2&&c<g-d*(1-i)/2)return n$(e)}return v=v||u,v&&(c<h+d*o/2||c>g-d*o/2)?c>h+d/2?1:-1:0}function n$(t){return Cn($e)<Cn(t)?1:-1}function i$(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,n=0;r--;)n+=e.charCodeAt(r);return n.toString(36)}function s$(t){Kc.length=0;for(var e=t.getElementsByTagName("input"),r=e.length;r--;){var n=e[r];n.checked&&Kc.push(n)}}function Hc(t){return setTimeout(t,0)}function jp(t){return clearTimeout(t)}Zc&&wt(document,"touchmove",function(t){(et.active||No)&&t.cancelable&&t.preventDefault()});et.utils={on:wt,off:vt,css:Je,find:D3,is:function(e,r){return!!Fn(e,r,e,!1)},extend:U9,throttle:M3,closest:Fn,toggleClass:cn,clone:q3,index:Cn,nextTick:Hc,cancelNextTick:jp,detectDirection:U3,getChild:Lo,expando:zr};et.get=function(t){return t[zr]};et.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(et.utils=ti(ti({},et.utils),n.utils)),na.mount(n)})};et.create=function(t,e){return new et(t,e)};et.version=B9;var er=[],Xu,Qp,Hp=!1,Bp,Fp,Yc,Ku;function o$(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(r){var n=r.originalEvent;this.sortable.nativeDraggable?wt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?wt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?wt(document,"touchmove",this._handleFallbackAutoScroll):wt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var n=r.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?vt(document,"dragover",this._handleAutoScroll):(vt(document,"pointermove",this._handleFallbackAutoScroll),vt(document,"touchmove",this._handleFallbackAutoScroll),vt(document,"mousemove",this._handleFallbackAutoScroll)),T3(),Wc(),z9()},nulling:function(){Yc=Qp=Xu=Hp=Ku=Bp=Fp=null,er.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,n){var i=this,o=(r.touches?r.touches[0]:r).clientX,u=(r.touches?r.touches[0]:r).clientY,l=document.elementFromPoint(o,u);if(Yc=r,n||this.options.forceAutoScrollFallback||ra||Ei||Yu){Up(r,this.options,l,n);var c=ss(l,!0);Hp&&(!Ku||o!==Bp||u!==Fp)&&(Ku&&T3(),Ku=setInterval(function(){var d=ss(document.elementFromPoint(o,u),!0);d!==c&&(c=d,Wc()),Up(r,i.options,d,n)},10),Bp=o,Fp=u)}else{if(!this.options.bubbleScroll||ss(l,!0)===ei()){Wc();return}Up(r,this.options,ss(l,!1),!1)}}},Ci(t,{pluginName:"scroll",initializeByDefault:!0})}function Wc(){er.forEach(function(t){clearInterval(t.pid)}),er=[]}function T3(){clearInterval(Ku)}var Up=M3(function(t,e,r,n){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,u=e.scrollSensitivity,l=e.scrollSpeed,c=ei(),d=!1,h;Qp!==r&&(Qp=r,Wc(),Xu=e.scroll,h=e.scrollFn,Xu===!0&&(Xu=ss(r,!0)));var g=0,v=Xu;do{var b=v,_=tr(b),k=_.top,C=_.bottom,q=_.left,be=_.right,Oe=_.width,Ae=_.height,me=void 0,Ie=void 0,Ce=b.scrollWidth,Ge=b.scrollHeight,ze=Je(b),Xe=b.scrollLeft,ye=b.scrollTop;b===c?(me=Oe<Ce&&(ze.overflowX==="auto"||ze.overflowX==="scroll"||ze.overflowX==="visible"),Ie=Ae<Ge&&(ze.overflowY==="auto"||ze.overflowY==="scroll"||ze.overflowY==="visible")):(me=Oe<Ce&&(ze.overflowX==="auto"||ze.overflowX==="scroll"),Ie=Ae<Ge&&(ze.overflowY==="auto"||ze.overflowY==="scroll"));var he=me&&(Math.abs(be-i)<=u&&Xe+Oe<Ce)-(Math.abs(q-i)<=u&&!!Xe),Ee=Ie&&(Math.abs(C-o)<=u&&ye+Ae<Ge)-(Math.abs(k-o)<=u&&!!ye);if(!er[g])for(var le=0;le<=g;le++)er[le]||(er[le]={});(er[g].vx!=he||er[g].vy!=Ee||er[g].el!==b)&&(er[g].el=b,er[g].vx=he,er[g].vy=Ee,clearInterval(er[g].pid),(he!=0||Ee!=0)&&(d=!0,er[g].pid=setInterval(function(){n&&this.layer===0&&et.active._onTouchMove(Yc);var O=er[this.layer].vy?er[this.layer].vy*l:0,P=er[this.layer].vx?er[this.layer].vx*l:0;typeof h=="function"&&h.call(et.dragged.parentNode[zr],P,O,t,Yc,er[this.layer].el)!=="continue"||L3(er[this.layer].el,P,O)}.bind({layer:g}),24))),g++}while(e.bubbleScroll&&v!==c&&(v=ss(v,!1)));Hp=d}},30),H3=function(e){var r=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,u=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(r){var d=n||o;l();var h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,g=document.elementFromPoint(h.clientX,h.clientY);c(),d&&!d.el.contains(g)&&(u("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Gp(){}Gp.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Lo(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(r,i):this.sortable.el.appendChild(r),this.sortable.animateAll(),n&&n.animateAll()},drop:H3};Ci(Gp,{pluginName:"revertOnSpill"});function Xp(){}Xp.prototype={onSpill:function(e){var r=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),i.animateAll()},drop:H3};Ci(Xp,{pluginName:"removeOnSpill"});et.mount(new o$);et.mount(Xp,Gp);var W3=et;S();S();var Fe=require("@codemirror/state"),Pi=require("@codemirror/view"),$t=require("@codemirror/language");var u$=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=r0(t.state,r.from);return n.line?a$(t):n.block?c$(t):!1};function t0(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(n(r.update(i)),!0):!1}}var a$=t0(h$,0);var l$=t0(tw,0);var c$=t0((t,e)=>tw(t,e,d$(e)),0);function r0(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}var ia=50;function f$(t,{open:e,close:r},n,i){let o=t.sliceDoc(n-ia,n),u=t.sliceDoc(i,i+ia),l=/\s*$/.exec(o)[0].length,c=/^\s*/.exec(u)[0].length,d=o.length-l;if(o.slice(d-e.length,d)==e&&u.slice(c,c+r.length)==r)return{open:{pos:n-l,margin:l&&1},close:{pos:i+c,margin:c&&1}};let h,g;i-n<=2*ia?h=g=t.sliceDoc(n,i):(h=t.sliceDoc(n,n+ia),g=t.sliceDoc(i-ia,i));let v=/^\s*/.exec(h)[0].length,b=/\s*$/.exec(g)[0].length,_=g.length-b-r.length;return h.slice(v,v+e.length)==e&&g.slice(_,_+r.length)==r?{open:{pos:n+v+e.length,margin:/\s/.test(h.charAt(v+e.length))?1:0},close:{pos:i-b-r.length,margin:/\s/.test(g.charAt(_-1))?1:0}}:null}function d$(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),i=r.to<=n.to?n:t.doc.lineAt(r.to);i.from>n.from&&i.from==r.to&&(i=r.to==n.to+1?n:t.doc.lineAt(r.to-1));let o=e.length-1;o>=0&&e[o].to>n.from?e[o].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function tw(t,e,r=e.selection.ranges){let n=r.map(o=>r0(e,o.from).block);if(!n.every(o=>o))return null;let i=r.map((o,u)=>f$(e,n[u],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(r.map((o,u)=>i[u]?[]:[{from:o.from,insert:n[u].open+" "},{from:o.to,insert:" "+n[u].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let u=0,l;u<i.length;u++)if(l=i[u]){let c=n[u],{open:d,close:h}=l;o.push({from:d.pos-c.open.length,to:d.pos+d.margin},{from:h.pos-h.margin,to:h.pos+c.close.length})}return{changes:o}}return null}function h$(t,e,r=e.selection.ranges){let n=[],i=-1;for(let{from:o,to:u}of r){let l=n.length,c=1e9,d=r0(e,o).line;if(d){for(let h=o;h<=u;){let g=e.doc.lineAt(h);if(g.from>i&&(o==u||u>g.from)){i=g.from;let v=/^\s*/.exec(g.text)[0].length,b=v==g.length,_=g.text.slice(v,v+d.length)==d?v:-1;v<g.text.length&&v<c&&(c=v),n.push({line:g,comment:_,token:d,indent:v,empty:b,single:!1})}h=g.to+1}if(c<1e9)for(let h=l;h<n.length;h++)n[h].indent<n[h].line.text.length&&(n[h].indent=c);n.length==l+1&&(n[l].single=!0)}}if(t!=2&&n.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:c,indent:d,empty:h,single:g}of n)(g||!h)&&o.push({from:l.from+d,insert:c+" "});let u=e.changes(o);return{changes:u,selection:e.selection.map(u,1)}}else if(t!=1&&n.some(o=>o.comment>=0)){let o=[];for(let{line:u,comment:l,token:c}of n)if(l>=0){let d=u.from+l,h=d+c.length;u.text[h-u.from]==" "&&h++,o.push({from:d,to:h})}return{changes:o}}return null}var Yp=Fe.Annotation.define(),p$=Fe.Annotation.define(),g$=Fe.Facet.define(),rw=Fe.Facet.define({combine(t){return(0,Fe.combineConfig)(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(n,i)=>e(n,i)||r(n,i)})}}),nw=Fe.StateField.define({create(){return Us.empty},update(t,e){let r=e.state.facet(rw),n=e.annotation(Yp);if(n){let c=Un.fromTransaction(e,n.selection),d=n.side,h=d==0?t.undone:t.done;return c?h=ef(h,h.length,r.minDepth,c):h=uw(h,e.startState.selection),new Us(d==0?n.rest:h,d==0?h:n.rest)}let i=e.annotation(p$);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Fe.Transaction.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=Un.fromTransaction(e),u=e.annotation(Fe.Transaction.time),l=e.annotation(Fe.Transaction.userEvent);return o?t=t.addChanges(o,u,l,r,e):e.selection&&(t=t.addSelection(e.startState.selection,u,l,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Us(t.done.map(Un.fromJSON),t.undone.map(Un.fromJSON))}});function iw(t={}){return[nw,rw.of(t),Pi.EditorView.domEventHandlers({beforeinput(e,r){let n=e.inputType=="historyUndo"?sw:e.inputType=="historyRedo"?Zp:null;return n?(e.preventDefault(),n(r)):!1}})]}function tf(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let i=r.field(nw,!1);if(!i)return!1;let o=i.pop(t,r,e);return o?(n(o),!0):!1}}var sw=tf(0,!1),Zp=tf(1,!1),m$=tf(0,!0),v$=tf(1,!0);var Un=class t{constructor(e,r,n,i,o){this.changes=e,this.effects=r,this.mapped=n,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new t(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new t(e.changes&&Fe.ChangeSet.fromJSON(e.changes),[],e.mapped&&Fe.ChangeDesc.fromJSON(e.mapped),e.startSelection&&Fe.EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(Fe.EditorSelection.fromJSON))}static fromTransaction(e,r){let n=En;for(let i of e.startState.facet(g$)){let o=i(e);o.length&&(n=n.concat(o))}return!n.length&&e.changes.empty?null:new t(e.changes.invert(e.startState.doc),n,void 0,r||e.startState.selection,En)}static selection(e){return new t(void 0,En,void 0,void 0,e)}};function ef(t,e,r,n){let i=e+1>r+20?e-r-1:0,o=t.slice(i,e);return o.push(n),o}function y$(t,e){let r=[],n=!1;return t.iterChangedRanges((i,o)=>r.push(i,o)),e.iterChangedRanges((i,o,u,l)=>{for(let c=0;c<r.length;){let d=r[c++],h=r[c++];l>=d&&u<=h&&(n=!0)}}),n}function b$(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,n)=>r.empty!=e.ranges[n].empty).length===0}function ow(t,e){return t.length?e.length?t.concat(e):t:e}var En=[],w$=200;function uw(t,e){if(t.length){let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-w$));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),ef(t,t.length-1,1e9,r.setSelAfter(n)))}else return[Un.selection([e])]}function S$(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function Kp(t,e){if(!t.length)return t;let r=t.length,n=En;for(;r;){let i=_$(t[r-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,r);return o[r-1]=i,o}else e=i.mapped,r--,n=i.selectionsAfter}return n.length?[Un.selection(n)]:En}function _$(t,e,r){let n=ow(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):En,r);if(!t.changes)return Un.selection(n);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),u=t.mapped?t.mapped.composeDesc(o):o;return new Un(i,Fe.StateEffect.mapEffects(t.effects,e),u,t.startSelection.map(o),n)}var O$=/^(input\.type|delete)($|\.)/,Us=class t{constructor(e,r,n=0,i=void 0){this.done=e,this.undone=r,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new t(this.done,this.undone):this}addChanges(e,r,n,i,o){let u=this.done,l=u[u.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!n||O$.test(n))&&(!l.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,y$(l.changes,e.changes))||n=="input.type.compose")?u=ef(u,u.length-1,i.minDepth,new Un(e.changes.compose(l.changes),ow(Fe.StateEffect.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,En)):u=ef(u,u.length,i.minDepth,e),new t(u,En,r,n)}addSelection(e,r,n,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:En;return o.length>0&&r-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&b$(o[o.length-1],e)?this:new t(uw(this.done,e),this.undone,r,n)}addMapping(e){return new t(Kp(this.done,e),Kp(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],u=o.selectionsAfter[0]||r.selection;if(n&&o.selectionsAfter.length)return r.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Yp.of({side:e,rest:S$(i),selection:u}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let l=i.length==1?En:i.slice(0,i.length-1);return o.mapped&&(l=Kp(l,o.mapped)),r.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Yp.of({side:e,rest:l,selection:u}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};Us.empty=new Us(En,En);var aw=[{key:"Mod-z",run:sw,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Zp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Zp,preventDefault:!0},{key:"Mod-u",run:m$,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:v$,preventDefault:!0}];function qo(t,e){return Fe.EditorSelection.create(t.ranges.map(e),t.mainIndex)}function ri(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function zn({state:t,dispatch:e},r){let n=qo(t.selection,r);return n.eq(t.selection,!0)?!1:(e(ri(t,n)),!0)}function rf(t,e){return Fe.EditorSelection.cursor(e?t.to:t.from)}function lw(t,e){return zn(t,r=>r.empty?t.moveByChar(r,e):rf(r,e))}function Sr(t){return t.textDirectionAt(t.state.selection.main.head)==Pi.Direction.LTR}var cw=t=>lw(t,!Sr(t)),fw=t=>lw(t,Sr(t));function dw(t,e){return zn(t,r=>r.empty?t.moveByGroup(r,e):rf(r,e))}var x$=t=>dw(t,!Sr(t)),k$=t=>dw(t,Sr(t));var eU=typeof Intl!="undefined"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function C$(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function nf(t,e,r){let n=(0,$t.syntaxTree)(t).resolveInner(e.head),i=r?bt.closedBy:bt.openedBy;for(let c=e.head;;){let d=r?n.childAfter(c):n.childBefore(c);if(!d)break;C$(t,d,i)?n=d:c=r?d.to:d.from}let o=n.type.prop(i),u,l;return o&&(u=r?(0,$t.matchBrackets)(t,n.from,1):(0,$t.matchBrackets)(t,n.to,-1))&&u.matched?l=r?u.end.to:u.end.from:l=r?n.to:n.from,Fe.EditorSelection.cursor(l,r?-1:1)}var E$=t=>zn(t,e=>nf(t.state,e,!Sr(t))),P$=t=>zn(t,e=>nf(t.state,e,Sr(t)));function hw(t,e){return zn(t,r=>{if(!r.empty)return rf(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}var pw=t=>hw(t,!1),gw=t=>hw(t,!0);function mw(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,i;if(e){for(let o of t.state.facet(Pi.EditorView.scrollMargins)){let u=o(t);u!=null&&u.top&&(r=Math.max(u==null?void 0:u.top,r)),u!=null&&u.bottom&&(n=Math.max(u==null?void 0:u.bottom,n))}i=t.scrollDOM.clientHeight-r-n}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function vw(t,e){let r=mw(t),{state:n}=t,i=qo(n.selection,u=>u.empty?t.moveVertically(u,e,r.height):rf(u,e));if(i.eq(n.selection))return!1;let o;if(r.selfScroll){let u=t.coordsAtPos(n.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),c=l.top+r.marginTop,d=l.bottom-r.marginBottom;u&&u.top>c&&u.bottom<d&&(o=Pi.EditorView.scrollIntoView(i.main.head,{y:"start",yMargin:u.top-c}))}return t.dispatch(ri(n,i),{effects:o}),!0}var V3=t=>vw(t,!1),Jp=t=>vw(t,!0);function os(t,e,r){let n=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?n.to:n.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==n.from&&n.length){let o=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;o&&e.head!=n.from+o&&(i=Fe.EditorSelection.cursor(n.from+o))}return i}var A$=t=>zn(t,e=>os(t,e,!0)),$$=t=>zn(t,e=>os(t,e,!1)),T$=t=>zn(t,e=>os(t,e,!Sr(t))),R$=t=>zn(t,e=>os(t,e,Sr(t))),I$=t=>zn(t,e=>Fe.EditorSelection.cursor(t.lineBlockAt(e.head).from,1)),N$=t=>zn(t,e=>Fe.EditorSelection.cursor(t.lineBlockAt(e.head).to,-1));function D$(t,e,r){let n=!1,i=qo(t.selection,o=>{let u=(0,$t.matchBrackets)(t,o.head,-1)||(0,$t.matchBrackets)(t,o.head,1)||o.head>0&&(0,$t.matchBrackets)(t,o.head-1,1)||o.head<t.doc.length&&(0,$t.matchBrackets)(t,o.head+1,-1);if(!u||!u.end)return o;n=!0;let l=u.start.from==o.head?u.end.to:u.end.from;return r?Fe.EditorSelection.range(o.anchor,l):Fe.EditorSelection.cursor(l)});return n?(e(ri(t,i)),!0):!1}var M$=({state:t,dispatch:e})=>D$(t,e,!1);function Pn(t,e){let r=qo(t.state.selection,n=>{let i=e(n);return Fe.EditorSelection.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(ri(t.state,r)),!0)}function yw(t,e){return Pn(t,r=>t.moveByChar(r,e))}var bw=t=>yw(t,!Sr(t)),ww=t=>yw(t,Sr(t));function Sw(t,e){return Pn(t,r=>t.moveByGroup(r,e))}var L$=t=>Sw(t,!Sr(t)),q$=t=>Sw(t,Sr(t));var B$=t=>Pn(t,e=>nf(t.state,e,!Sr(t))),F$=t=>Pn(t,e=>nf(t.state,e,Sr(t)));function _w(t,e){return Pn(t,r=>t.moveVertically(r,e))}var Ow=t=>_w(t,!1),xw=t=>_w(t,!0);function kw(t,e){return Pn(t,r=>t.moveVertically(r,e,mw(t).height))}var G3=t=>kw(t,!1),X3=t=>kw(t,!0),U$=t=>Pn(t,e=>os(t,e,!0)),z$=t=>Pn(t,e=>os(t,e,!1)),j$=t=>Pn(t,e=>os(t,e,!Sr(t))),Q$=t=>Pn(t,e=>os(t,e,Sr(t))),H$=t=>Pn(t,e=>Fe.EditorSelection.cursor(t.lineBlockAt(e.head).from)),W$=t=>Pn(t,e=>Fe.EditorSelection.cursor(t.lineBlockAt(e.head).to)),K3=({state:t,dispatch:e})=>(e(ri(t,{anchor:0})),!0),Y3=({state:t,dispatch:e})=>(e(ri(t,{anchor:t.doc.length})),!0),Z3=({state:t,dispatch:e})=>(e(ri(t,{anchor:t.selection.main.anchor,head:0})),!0),J3=({state:t,dispatch:e})=>(e(ri(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),V$=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),G$=({state:t,dispatch:e})=>{let r=sf(t).map(({from:n,to:i})=>Fe.EditorSelection.range(n,Math.min(i+1,t.doc.length)));return e(t.update({selection:Fe.EditorSelection.create(r),userEvent:"select"})),!0},X$=({state:t,dispatch:e})=>{let r=qo(t.selection,n=>{let i=(0,$t.syntaxTree)(t),o=i.resolveStack(n.from,1);if(n.empty){let u=i.resolveStack(n.from,-1);u.node.from>=o.node.from&&u.node.to<=o.node.to&&(o=u)}for(let u=o;u;u=u.next){let{node:l}=u;if((l.from<n.from&&l.to>=n.to||l.to>n.to&&l.from<=n.from)&&u.next)return Fe.EditorSelection.range(l.to,l.from)}return n});return r.eq(t.selection)?!1:(e(ri(t,r)),!0)},K$=({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=Fe.EditorSelection.create([r.main]):r.main.empty||(n=Fe.EditorSelection.create([Fe.EditorSelection.cursor(r.main.head)])),n?(e(ri(t,n)),!0):!1};function sa(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,i=n.changeByRange(o=>{let{from:u,to:l}=o;if(u==l){let c=e(o);c<u?(r="delete.backward",c=Jc(t,c,!1)):c>u&&(r="delete.forward",c=Jc(t,c,!0)),u=Math.min(u,c),l=Math.max(l,c)}else u=Jc(t,u,!1),l=Jc(t,l,!0);return u==l?{range:o}:{changes:{from:u,to:l},range:Fe.EditorSelection.cursor(u,u<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(n.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?Pi.EditorView.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Jc(t,e,r){if(t instanceof Pi.EditorView)for(let n of t.state.facet(Pi.EditorView.atomicRanges).map(i=>i(t)))n.between(e,e,(i,o)=>{i<e&&o>e&&(e=r?o:i)});return e}var Cw=(t,e,r)=>sa(t,n=>{let i=n.from,{state:o}=t,u=o.doc.lineAt(i),l,c;if(r&&!e&&i>u.from&&i<u.from+200&&!/[^ \t]/.test(l=u.text.slice(0,i-u.from))){if(l[l.length-1]=="	")return i-1;let d=(0,Fe.countColumn)(l,o.tabSize),h=d%(0,$t.getIndentUnit)(o)||(0,$t.getIndentUnit)(o);for(let g=0;g<h&&l[l.length-1-g]==" ";g++)i--;c=i}else c=(0,Fe.findClusterBreak)(u.text,i-u.from,e,e)+u.from,c==i&&u.number!=(e?o.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(u.text.slice(c-u.from,i-u.from))&&(c=(0,Fe.findClusterBreak)(u.text,c-u.from,!1,!1)+u.from);return c}),e0=t=>Cw(t,!1,!0);var Ew=t=>Cw(t,!0,!1),Pw=(t,e)=>sa(t,r=>{let n=r.head,{state:i}=t,o=i.doc.lineAt(n),u=i.charCategorizer(n);for(let l=null;;){if(n==(e?o.to:o.from)){n==r.head&&o.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let c=(0,Fe.findClusterBreak)(o.text,n-o.from,e)+o.from,d=o.text.slice(Math.min(n,c)-o.from,Math.max(n,c)-o.from),h=u(d);if(l!=null&&h!=l)break;(d!=" "||n!=r.head)&&(l=h),n=c}return n}),Aw=t=>Pw(t,!1),Y$=t=>Pw(t,!0),Z$=t=>sa(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)});var J$=t=>sa(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),eT=t=>sa(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)});var tT=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Fe.Text.of(["",""])},range:Fe.EditorSelection.cursor(n.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},rT=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let i=n.from,o=t.doc.lineAt(i),u=i==o.from?i-1:(0,Fe.findClusterBreak)(o.text,i-o.from,!1)+o.from,l=i==o.to?i+1:(0,Fe.findClusterBreak)(o.text,i-o.from,!0)+o.from;return{changes:{from:u,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(u,i))},range:Fe.EditorSelection.cursor(l)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function sf(t){let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),o=t.doc.lineAt(n.to);if(!n.empty&&n.to==o.from&&(o=t.doc.lineAt(n.to-1)),r>=i.number){let u=e[e.length-1];u.to=o.to,u.ranges.push(n)}else e.push({from:i.from,to:o.to,ranges:[n]});r=o.number+1}return e}function $w(t,e,r){if(t.readOnly)return!1;let n=[],i=[];for(let o of sf(t)){if(r?o.to==t.doc.length:o.from==0)continue;let u=t.doc.lineAt(r?o.to+1:o.from-1),l=u.length+1;if(r){n.push({from:o.to,to:u.to},{from:o.from,insert:u.text+t.lineBreak});for(let c of o.ranges)i.push(Fe.EditorSelection.range(Math.min(t.doc.length,c.anchor+l),Math.min(t.doc.length,c.head+l)))}else{n.push({from:u.from,to:o.from},{from:o.to,insert:t.lineBreak+u.text});for(let c of o.ranges)i.push(Fe.EditorSelection.range(c.anchor-l,c.head-l))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:Fe.EditorSelection.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}var nT=({state:t,dispatch:e})=>$w(t,e,!1),iT=({state:t,dispatch:e})=>$w(t,e,!0);function Tw(t,e,r){if(t.readOnly)return!1;let n=[];for(let i of sf(t))r?n.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):n.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var sT=({state:t,dispatch:e})=>Tw(t,e,!1),oT=({state:t,dispatch:e})=>Tw(t,e,!0),uT=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(sf(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),n=qo(e.selection,i=>{let o;if(t.lineWrapping){let u=t.lineBlockAt(i.head),l=t.coordsAtPos(i.head,i.assoc||1);l&&(o=u.bottom+t.documentTop-l.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function aT(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=(0,$t.syntaxTree)(t).resolveInner(e),n=r.childBefore(e),i=r.childAfter(e),o;return n&&i&&n.to<=e&&i.from>=e&&(o=n.type.prop(bt.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}var ew=Rw(!1),lT=Rw(!0);function Rw(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:o,to:u}=i,l=e.doc.lineAt(o),c=!t&&o==u&&aT(e,o);t&&(o=u=(u<=l.to?l:e.doc.lineAt(u)).to);let d=new $t.IndentContext(e,{simulateBreak:o,simulateDoubleBreak:!!c}),h=(0,$t.getIndentation)(d,o);for(h==null&&(h=(0,Fe.countColumn)(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));u<l.to&&/\s/.test(l.text[u-l.from]);)u++;c?{from:o,to:u}=c:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let g=["",(0,$t.indentString)(e,h)];return c&&g.push((0,$t.indentString)(e,d.lineIndent(l.from,-1))),{changes:{from:o,to:u,insert:Fe.Text.of(g)},range:Fe.EditorSelection.cursor(o+1+g[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function n0(t,e){let r=-1;return t.changeByRange(n=>{let i=[];for(let u=n.from;u<=n.to;){let l=t.doc.lineAt(u);l.number>r&&(n.empty||n.to>l.from)&&(e(l,i,n),r=l.number),u=l.to+1}let o=t.changes(i);return{changes:i,range:Fe.EditorSelection.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}var cT=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new $t.IndentContext(t,{overrideIndentation:o=>{let u=r[o];return u==null?-1:u}}),i=n0(t,(o,u,l)=>{let c=(0,$t.getIndentation)(n,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let d=/^\s*/.exec(o.text)[0],h=(0,$t.indentString)(t,c);(d!=h||l.from<o.from+d.length)&&(r[o.from]=c,u.push({from:o.from,to:o.from+d.length,insert:h}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Iw=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(n0(t,(r,n)=>{n.push({from:r.from,insert:t.facet($t.indentUnit)})}),{userEvent:"input.indent"})),!0),Nw=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(n0(t,(r,n)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let o=(0,Fe.countColumn)(i,t.tabSize),u=0,l=(0,$t.indentString)(t,Math.max(0,o-(0,$t.getIndentUnit)(t)));for(;u<i.length&&u<l.length&&i.charCodeAt(u)==l.charCodeAt(u);)u++;n.push({from:r.from+u,to:r.from+i.length,insert:l.slice(u)})}),{userEvent:"delete.dedent"})),!0),fT=t=>(t.setTabFocusMode(),!0);var dT=[{key:"Ctrl-b",run:cw,shift:bw,preventDefault:!0},{key:"Ctrl-f",run:fw,shift:ww},{key:"Ctrl-p",run:pw,shift:Ow},{key:"Ctrl-n",run:gw,shift:xw},{key:"Ctrl-a",run:I$,shift:H$},{key:"Ctrl-e",run:N$,shift:W$},{key:"Ctrl-d",run:Ew},{key:"Ctrl-h",run:e0},{key:"Ctrl-k",run:Z$},{key:"Ctrl-Alt-h",run:Aw},{key:"Ctrl-o",run:tT},{key:"Ctrl-t",run:rT},{key:"Ctrl-v",run:Jp}],hT=[{key:"ArrowLeft",run:cw,shift:bw,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:x$,shift:L$,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:T$,shift:j$,preventDefault:!0},{key:"ArrowRight",run:fw,shift:ww,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:k$,shift:q$,preventDefault:!0},{mac:"Cmd-ArrowRight",run:R$,shift:Q$,preventDefault:!0},{key:"ArrowUp",run:pw,shift:Ow,preventDefault:!0},{mac:"Cmd-ArrowUp",run:K3,shift:Z3},{mac:"Ctrl-ArrowUp",run:V3,shift:G3},{key:"ArrowDown",run:gw,shift:xw,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Y3,shift:J3},{mac:"Ctrl-ArrowDown",run:Jp,shift:X3},{key:"PageUp",run:V3,shift:G3},{key:"PageDown",run:Jp,shift:X3},{key:"Home",run:$$,shift:z$,preventDefault:!0},{key:"Mod-Home",run:K3,shift:Z3},{key:"End",run:A$,shift:U$,preventDefault:!0},{key:"Mod-End",run:Y3,shift:J3},{key:"Enter",run:ew,shift:ew},{key:"Mod-a",run:V$},{key:"Backspace",run:e0,shift:e0},{key:"Delete",run:Ew},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Aw},{key:"Mod-Delete",mac:"Alt-Delete",run:Y$},{mac:"Mod-Backspace",run:J$},{mac:"Mod-Delete",run:eT}].concat(dT.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Dw=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:E$,shift:B$},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:P$,shift:F$},{key:"Alt-ArrowUp",run:nT},{key:"Shift-Alt-ArrowUp",run:sT},{key:"Alt-ArrowDown",run:iT},{key:"Shift-Alt-ArrowDown",run:oT},{key:"Escape",run:K$},{key:"Mod-Enter",run:lT},{key:"Alt-l",mac:"Ctrl-l",run:G$},{key:"Mod-i",run:X$,preventDefault:!0},{key:"Mod-[",run:Nw},{key:"Mod-]",run:Iw},{key:"Mod-Alt-\\",run:cT},{key:"Shift-Mod-k",run:uT},{key:"Shift-Mod-\\",run:M$},{key:"Mod-/",run:u$},{key:"Alt-A",run:l$},{key:"Ctrl-m",mac:"Shift-Alt-m",run:fT}].concat(hT),Mw={key:"Tab",run:Iw,shift:Nw};S();S();S();var s0=class t{constructor(e,r,n,i,o,u,l,c,d,h=0,g){this.p=e,this.stack=r,this.state=n,this.reducePos=i,this.pos=o,this.score=u,this.buffer=l,this.bufferBase=c,this.curContext=d,this.lookAhead=h,this.parent=g}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,n=0){let i=e.parser.context;return new t(e,[],r,n,n,0,[],0,i?new of(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let n=e>>19,i=e&65535,{parser:o}=this.p,u=this.reducePos<this.pos-25;u&&this.setLookAhead(this.pos);let l=o.dynamicPrecedence(i);if(l&&(this.score+=l),n==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,u?8:4,!0),this.reduceContext(i,this.reducePos);return}let c=this.stack.length-(n-1)*3-(e&262144?6:0),d=c?this.stack[c-2]:this.p.ranges[0].from,h=this.reducePos-d;h>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=h));let g=c?this.stack[c-1]:0,v=this.bufferBase+this.buffer.length-g;if(i<o.minRepeatTerm||e&131072){let b=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,d,b,v+4,!0)}if(e&262144)this.state=this.stack[c];else{let b=this.stack[c-3];this.state=o.getGoto(b,i,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(i,d)}storeNode(e,r,n,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let u=this,l=this.buffer.length;if(l==0&&u.parent&&(l=u.bufferBase-u.parent.bufferBase,u=u.parent),l>0&&u.buffer[l-4]==0&&u.buffer[l-1]>-1){if(r==n)return;if(u.buffer[l-2]>=r){u.buffer[l-2]=n;return}}}if(!o||this.pos==n)this.buffer.push(e,r,n,i);else{let u=this.buffer.length;if(u>0&&this.buffer[u-4]!=0){let l=!1;for(let c=u;c>0&&this.buffer[c-2]>n;c-=4)if(this.buffer[c-1]>=0){l=!0;break}if(l)for(;u>0&&this.buffer[u-2]>n;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,i>4&&(i-=4)}this.buffer[u]=e,this.buffer[u+1]=r,this.buffer[u+2]=n,this.buffer[u+3]=i}}shift(e,r,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,i,4);else{let o=e,{parser:u}=this.p;(i>this.pos||r<=u.maxNode)&&(this.pos=i,u.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,n),this.shiftContext(r,n),r<=u.maxNode&&this.buffer.push(r,n,i,4)}}apply(e,r,n,i){e&65536?this.reduce(e):this.shift(e,r,n,i)}useNode(e,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(r,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let n=e.buffer.slice(r),i=e.bufferBase+r;for(;e&&i==e.bufferBase;)e=e.parent;return new t(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new o0(this);;){let n=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(n==0)return!1;if(!(n&65536))return!0;r.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let o=0,u;o<r.length;o+=2)(u=r[o+1])!=this.state&&this.p.parser.hasAction(u,e)&&i.push(r[o],u);if(this.stack.length<120)for(let o=0;i.length<8&&o<r.length;o+=2){let u=r[o+1];i.some((l,c)=>c&1&&l==u)||i.push(r[o],u)}r=i}let n=[];for(let i=0;i<r.length&&n.length<4;i+=2){let o=r[i+1];if(o==this.state)continue;let u=this.split();u.pushState(o,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(r[i],this.pos),u.reducePos=this.pos,u.score-=200,n.push(u)}return n}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let n=r>>19,i=r&65535,o=this.stack.length-n*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let u=this.findForcedReduction();if(u==null)return!1;r=u}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],n=(i,o)=>{if(!r.includes(i))return r.push(i),e.allActions(i,u=>{if(!(u&393216))if(u&65536){let l=(u>>19)-o;if(l>1){let c=u&65535,d=this.stack.length-l*3;if(d>=0&&e.getGoto(this.stack[d],c,!1)>=0)return l<<19|65536|c}}else{let l=n(u,o+1);if(l!=null)return l}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new of(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},of=class{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}},o0=class{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}},u0=class t{constructor(e,r,n){this.stack=e,this.pos=r,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new t(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new t(this.stack,this.pos,this.index)}};function oa(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let n=0,i=0;n<t.length;){let o=0;for(;;){let u=t.charCodeAt(n++),l=!1;if(u==126){o=65535;break}u>=92&&u--,u>=34&&u--;let c=u-32;if(c>=46&&(c-=46,l=!0),o+=c,l)break;o*=46}r?r[i++]=o:r=new e(o)}return r}var Bo=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},Lw=new Bo,a0=class{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Lw,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let n=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<n.from;){if(!i)return null;let u=this.ranges[--i];o-=n.from-u.to,n=u}for(;r<0?o>n.to:o>=n.to;){if(i==this.ranges.length-1)return null;let u=this.ranges[++i];o+=u.from-n.to,n=u}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,n,i;if(r>=0&&r<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(r);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(n=o,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let u=this.rangeIndex,l=this.range;for(;l.to<=n;)l=this.ranges[++u];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,r=0){let n=r?this.resolveOffset(r,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=Lw,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let n="";for(let i of this.ranges){if(i.from>=r)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,r)))}return n}},us=class{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:n}=r.p;zw(this.data,e,r,this.id,n.data,n.tokenPrecTable)}};us.prototype.contextual=us.prototype.fallback=us.prototype.extend=!1;var ua=class{constructor(e,r,n){this.precTable=r,this.elseToken=n,this.data=typeof e=="string"?oa(e):e}token(e,r){let n=e.pos,i=0;for(;;){let o=e.next<0,u=e.resolveOffset(1,1);if(zw(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(o||i++,u==null)break;e.reset(u,e.token)}i&&(e.reset(n,e.token),e.acceptToken(this.elseToken,i))}};ua.prototype.contextual=us.prototype.fallback=us.prototype.extend=!1;var Fo=class{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}};function zw(t,e,r,n,i,o){let u=0,l=1<<n,{dialect:c}=r.p.parser;e:for(;l&t[u];){let d=t[u+1];for(let b=u+3;b<d;b+=2)if((t[b+1]&l)>0){let _=t[b];if(c.allows(_)&&(e.token.value==-1||e.token.value==_||gT(_,e.token.value,i,o))){e.acceptToken(_);break}}let h=e.next,g=0,v=t[u+2];if(e.next<0&&v>g&&t[d+v*3-3]==65535){u=t[d+v*3-1];continue e}for(;g<v;){let b=g+v>>1,_=d+b+(b<<1),k=t[_],C=t[_+1]||65536;if(h<k)v=b;else if(h>=C)g=b+1;else{u=t[_+2],e.advance();continue e}}break}}function qw(t,e,r){for(let n=e,i;(i=t[n])!=65535;n++)if(i==r)return n-e;return-1}function gT(t,e,r,n){let i=qw(r,n,e);return i<0||qw(r,n,t)<i}var dn=typeof process!="undefined"&&process.env&&/\bparse\b/.test(process.env.LOG),i0=null;function Bw(t,e,r){let n=t.cursor(Jt.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}var l0=class{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Bw(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Bw(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],i=this.index[r];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[i],u=this.start[r]+n.positions[i];if(u>e)return this.nextStart=u,null;if(o instanceof Fr){if(u==e){if(u<this.safeFrom)return null;let l=u+o.length;if(l<=this.safeTo){let c=o.prop(bt.lookAhead);if(!c||l+c<this.fragment.to)return o}}this.index[r]++,u+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(u),this.index.push(0))}else this.index[r]++,this.nextStart=u+o.length}}},c0=class{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Bo)}getActions(e){let r=0,n=null,{parser:i}=e.p,{tokenizers:o}=i,u=i.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,c=0;for(let d=0;d<o.length;d++){if(!(1<<d&u))continue;let h=o[d],g=this.tokens[d];if(!(n&&!h.fallback)&&((h.contextual||g.start!=e.pos||g.mask!=u||g.context!=l)&&(this.updateCachedToken(g,h,e),g.mask=u,g.context=l),g.lookAhead>g.end+25&&(c=Math.max(g.lookAhead,c)),g.value!=0)){let v=r;if(g.extended>-1&&(r=this.addActions(e,g.extended,g.end,r)),r=this.addActions(e,g.value,g.end,r),!h.extend&&(n=g,r>v))break}}for(;this.actions.length>r;)this.actions.pop();return c&&e.setLookAhead(c),!n&&e.pos==this.stream.end&&(n=new Bo,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,r=this.addActions(e,n.value,n.end,r)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new Bo,{pos:n,p:i}=e;return r.start=n,r.end=Math.min(n+1,i.stream.end),r.value=n==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(e,r,n){let i=this.stream.clipPos(n.pos);if(r.token(this.stream.reset(i,e),n),e.value>-1){let{parser:o}=n.p;for(let u=0;u<o.specialized.length;u++)if(o.specialized[u]==e.value){let l=o.specializers[u](this.stream.read(e.start,e.end),n);if(l>=0&&n.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,r,n,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=r,this.actions[i++]=n,i}addActions(e,r,n,i){let{state:o}=e,{parser:u}=e.p,{data:l}=u;for(let c=0;c<2;c++)for(let d=u.stateSlot(o,c?2:1);;d+=3){if(l[d]==65535)if(l[d+1]==1)d=Ai(l,d+2);else{i==0&&l[d+1]==2&&(i=this.putAction(Ai(l,d+2),r,n,i));break}l[d]==r&&(i=this.putAction(Ai(l,d+1),r,n,i))}return i}},f0=class{constructor(e,r,n,i){this.parser=e,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new a0(r,i),this.tokens=new c0(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[s0.start(this,e.top[0],o)],this.fragments=n.length&&this.stream.end-o>e.bufferLength*4?new l0(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,n=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[u]=e;for(;u.forceReduce()&&u.stack.length&&u.stack[u.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let u=0;u<e.length;u++){let l=e[u];for(;;){if(this.tokens.mainToken=null,l.pos>r)n.push(l);else{if(this.advanceStack(l,n,e))continue;{i||(i=[],o=[]),i.push(l);let c=this.tokens.getMainToken(l);o.push(c.value,c.end)}}break}}if(!n.length){let u=i&&mT(i);if(u)return dn&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw dn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let u=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,n);if(u)return dn&&console.log("Force-finish "+this.stackID(u)),this.stackToTree(u.forceAll())}if(this.recovering){let u=this.recovering==1?1:this.recovering*3;if(n.length>u)for(n.sort((l,c)=>c.score-l.score);n.length>u;)n.pop();n.some(l=>l.reducePos>r)&&this.recovering--}else if(n.length>1){e:for(let u=0;u<n.length-1;u++){let l=n[u];for(let c=u+1;c<n.length;c++){let d=n[c];if(l.sameState(d)||l.buffer.length>500&&d.buffer.length>500)if((l.score-d.score||l.buffer.length-d.buffer.length)>0)n.splice(c--,1);else{n.splice(u--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let u=1;u<n.length;u++)n[u].pos<this.minStackPos&&(this.minStackPos=n[u].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,n){let i=e.pos,{parser:o}=this,u=dn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,h=d?e.curContext.hash:0;for(let g=this.fragments.nodeAt(i);g;){let v=this.parser.nodeSet.types[g.type.id]==g.type?o.getGoto(e.state,g.type.id):-1;if(v>-1&&g.length&&(!d||(g.prop(bt.contextHash)||0)==h))return e.useNode(g,v),dn&&console.log(u+this.stackID(e)+` (via reuse of ${o.getName(g.type.id)})`),!0;if(!(g instanceof Fr)||g.children.length==0||g.positions[0]>0)break;let b=g.children[0];if(b instanceof Fr&&g.positions[0]==0)g=b;else break}}let l=o.stateSlot(e.state,4);if(l>0)return e.reduce(l),dn&&console.log(u+this.stackID(e)+` (via always-reduce ${o.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let d=0;d<c.length;){let h=c[d++],g=c[d++],v=c[d++],b=d==c.length||!n,_=b?e:e.split(),k=this.tokens.mainToken;if(_.apply(h,g,k?k.start:_.pos,v),dn&&console.log(u+this.stackID(_)+` (via ${h&65536?`reduce of ${o.getName(h&65535)}`:"shift"} for ${o.getName(g)} @ ${i}${_==e?"":", split"})`),b)return!0;_.pos>i?r.push(_):n.push(_)}return!1}advanceFully(e,r){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Fw(e,r),!0}}runRecovery(e,r,n){let i=null,o=!1;for(let u=0;u<e.length;u++){let l=e[u],c=r[u<<1],d=r[(u<<1)+1],h=dn?this.stackID(l)+" -> ":"";if(l.deadEnd&&(o||(o=!0,l.restart(),dn&&console.log(h+this.stackID(l)+" (restarted)"),this.advanceFully(l,n))))continue;let g=l.split(),v=h;for(let b=0;g.forceReduce()&&b<10&&(dn&&console.log(v+this.stackID(g)+" (via force-reduce)"),!this.advanceFully(g,n));b++)dn&&(v=this.stackID(g)+" -> ");for(let b of l.recoverByInsert(c))dn&&console.log(h+this.stackID(b)+" (via recover-insert)"),this.advanceFully(b,n);this.stream.end>l.pos?(d==l.pos&&(d++,c=0),l.recoverByDelete(c,d),dn&&console.log(h+this.stackID(l)+` (via recover-delete ${this.parser.getName(c)})`),Fw(l,n)):(!i||i.score<l.score)&&(i=l)}return i}stackToTree(e){return e.close(),Fr.build({buffer:u0.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(i0||(i0=new WeakMap)).get(e);return r||i0.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}};function Fw(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}var d0=class{constructor(e,r,n){this.source=e,this.flags=r,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}};var uf=class t extends Nc{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let l=0;l<e.repeatNodeCount;l++)r.push("");let n=Object.keys(e.topRules).map(l=>e.topRules[l][1]),i=[];for(let l=0;l<r.length;l++)i.push([]);function o(l,c,d){i[l].push([c,c.deserialize(String(d))])}if(e.nodeProps)for(let l of e.nodeProps){let c=l[0];typeof c=="string"&&(c=bt[c]);for(let d=1;d<l.length;){let h=l[d++];if(h>=0)o(h,c,l[d++]);else{let g=l[d+-h];for(let v=-h;v>0;v--)o(l[d++],c,g);d++}}}this.nodeSet=new Tc(r.map((l,c)=>xn.define({name:c>=this.minRepeatTerm?void 0:l,id:c,props:i[c],top:n.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=1024;let u=oa(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(Uw),this.states=oa(e.states,Uint32Array),this.data=oa(e.stateData),this.goto=oa(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new us(u,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,n){let i=new f0(this,e,r,n);for(let o of this.wrappers)i=o(i,e,r,n);return i}getGoto(e,r,n=!1){let i=this.goto;if(r>=i[0])return-1;for(let o=i[r+1];;){let u=i[o++],l=u&1,c=i[o++];if(l&&n)return c;for(let d=o+(u>>1);o<d;o++)if(i[o]==e)return c;if(l)return-1}}hasAction(e,r){let n=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),u;;o+=3){if((u=n[o])==65535)if(n[o+1]==1)u=n[o=Ai(n,o+2)];else{if(n[o+1]==2)return Ai(n,o+2);break}if(u==r||u==0)return Ai(n,o+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,n=>n==r?!0:null)}allActions(e,r){let n=this.stateSlot(e,4),i=n?r(n):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Ai(this.data,o+2);else break;i=r(Ai(this.data,o+1))}return i}nextStates(e){let r=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Ai(this.data,n+2);else break;if(!(this.data[n+2]&1)){let i=this.data[n+1];r.some((o,u)=>u&1&&o==i)||r.push(this.data[n],i)}}return r}configure(e){let r=Object.assign(Object.create(t.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=n}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(o=>o.from==n);return i?i.to:n})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((n,i)=>{let o=e.specializers.find(l=>l.from==n.external);if(!o)return n;let u=Object.assign(Object.assign({},n),{external:o.to});return r.specializers[i]=Uw(u),u})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),n=r.map(()=>!1);if(e)for(let o of e.split(" ")){let u=r.indexOf(o);u>=0&&(n[u]=!0)}let i=null;for(let o=0;o<r.length;o++)if(!n[o])for(let u=this.dialects[r[o]],l;(l=this.data[u++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[l]=1;return new d0(e,n,i)}static deserialize(e){return new t(e)}};function Ai(t,e){return t[e]|t[e+1]<<16}function mT(t){let e=null;for(let r of t){let n=r.p.stoppedAt;(r.pos==r.p.stream.end||n!=null&&r.pos>n)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function Uw(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}S();var vT=0,jn=class t{constructor(e,r,n,i){this.name=e,this.set=r,this.base=n,this.modified=i,this.id=vT++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let n=typeof e=="string"?e:"?";if(e instanceof t&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let i=new t(n,[],null,[]);if(i.set.push(i),r)for(let o of r.set)i.set.push(o);return i}static defineModifier(e){let r=new ff(e);return n=>n.modified.indexOf(r)>-1?n:ff.get(n.base||n,n.modified.concat(r).sort((i,o)=>i.id-o.id))}},yT=0,ff=class t{constructor(e){this.name=e,this.instances=[],this.id=yT++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(l=>l.base==e&&bT(r,l.modified));if(n)return n;let i=[],o=new jn(e.name,i,e,r);for(let l of r)l.instances.push(o);let u=wT(r);for(let l of e.set)if(!l.modified.length)for(let c of u)i.push(t.get(l,c));return o}};function bT(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function wT(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function Hw(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let o=[],u=2,l=i;for(let g=0;;){if(l=="..."&&g>0&&g+3==i.length){u=1;break}let v=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!v)throw new RangeError("Invalid path: "+i);if(o.push(v[0]=="*"?"":v[0][0]=='"'?JSON.parse(v[0]):v[0]),g+=v[0].length,g==i.length)break;let b=i[g++];if(g==i.length&&b=="!"){u=0;break}if(b!="/")throw new RangeError("Invalid path: "+i);l=i.slice(g)}let c=o.length-1,d=o[c];if(!d)throw new RangeError("Invalid path: "+i);let h=new la(n,u,c>0?o.slice(0,c):null);e[d]=h.sort(e[d])}}return ST.add(e)}var ST=new bt,la=class{constructor(e,r,n,i){this.tags=e,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};la.empty=new la([],2,null);function _T(t,e){let r=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))r[o.tag.id]=o.class;else for(let u of o.tag)r[u.id]=o.class;let{scope:n,all:i=null}=e||{};return{style:o=>{let u=i;for(let l of o)for(let c of l.set){let d=r[c.id];if(d){u=u?u+" "+d:d;break}}return u},scope:n}}var Te=jn.define,af=Te(),as=Te(),jw=Te(as),Qw=Te(as),ls=Te(),lf=Te(ls),h0=Te(ls),si=Te(),zs=Te(si),ni=Te(),ii=Te(),p0=Te(),aa=Te(p0),cf=Te(),Me={comment:af,lineComment:Te(af),blockComment:Te(af),docComment:Te(af),name:as,variableName:Te(as),typeName:jw,tagName:Te(jw),propertyName:Qw,attributeName:Te(Qw),className:Te(as),labelName:Te(as),namespace:Te(as),macroName:Te(as),literal:ls,string:lf,docString:Te(lf),character:Te(lf),attributeValue:Te(lf),number:h0,integer:Te(h0),float:Te(h0),bool:Te(ls),regexp:Te(ls),escape:Te(ls),color:Te(ls),url:Te(ls),keyword:ni,self:Te(ni),null:Te(ni),atom:Te(ni),unit:Te(ni),modifier:Te(ni),operatorKeyword:Te(ni),controlKeyword:Te(ni),definitionKeyword:Te(ni),moduleKeyword:Te(ni),operator:ii,derefOperator:Te(ii),arithmeticOperator:Te(ii),logicOperator:Te(ii),bitwiseOperator:Te(ii),compareOperator:Te(ii),updateOperator:Te(ii),definitionOperator:Te(ii),typeOperator:Te(ii),controlOperator:Te(ii),punctuation:p0,separator:Te(p0),bracket:aa,angleBracket:Te(aa),squareBracket:Te(aa),paren:Te(aa),brace:Te(aa),content:si,heading:zs,heading1:Te(zs),heading2:Te(zs),heading3:Te(zs),heading4:Te(zs),heading5:Te(zs),heading6:Te(zs),contentSeparator:Te(si),list:Te(si),quote:Te(si),emphasis:Te(si),strong:Te(si),link:Te(si),monospace:Te(si),strikethrough:Te(si),inserted:Te(),deleted:Te(),changed:Te(),invalid:Te(),meta:cf,documentMeta:Te(cf),annotation:Te(cf),processingInstruction:Te(cf),definition:jn.defineModifier("definition"),constant:jn.defineModifier("constant"),function:jn.defineModifier("function"),standard:jn.defineModifier("standard"),local:jn.defineModifier("local"),special:jn.defineModifier("special")};for(let t in Me){let e=Me[t];e instanceof jn&&(e.name=t)}var uU=_T([{tag:Me.link,class:"tok-link"},{tag:Me.heading,class:"tok-heading"},{tag:Me.emphasis,class:"tok-emphasis"},{tag:Me.strong,class:"tok-strong"},{tag:Me.keyword,class:"tok-keyword"},{tag:Me.atom,class:"tok-atom"},{tag:Me.bool,class:"tok-bool"},{tag:Me.url,class:"tok-url"},{tag:Me.labelName,class:"tok-labelName"},{tag:Me.inserted,class:"tok-inserted"},{tag:Me.deleted,class:"tok-deleted"},{tag:Me.literal,class:"tok-literal"},{tag:Me.string,class:"tok-string"},{tag:Me.number,class:"tok-number"},{tag:[Me.regexp,Me.escape,Me.special(Me.string)],class:"tok-string2"},{tag:Me.variableName,class:"tok-variableName"},{tag:Me.local(Me.variableName),class:"tok-variableName tok-local"},{tag:Me.definition(Me.variableName),class:"tok-variableName tok-definition"},{tag:Me.special(Me.variableName),class:"tok-variableName2"},{tag:Me.definition(Me.propertyName),class:"tok-propertyName tok-definition"},{tag:Me.typeName,class:"tok-typeName"},{tag:Me.namespace,class:"tok-namespace"},{tag:Me.className,class:"tok-className"},{tag:Me.macroName,class:"tok-macroName"},{tag:Me.propertyName,class:"tok-propertyName"},{tag:Me.operator,class:"tok-operator"},{tag:Me.comment,class:"tok-comment"},{tag:Me.meta,class:"tok-meta"},{tag:Me.invalid,class:"tok-invalid"},{tag:Me.punctuation,class:"tok-punctuation"}]);var OT=99,Ww=1,xT=100,kT=101,Vw=2,Gw=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],CT=58,ET=40,Xw=95,PT=91,df=45,AT=46,$T=35,TT=37,RT=38,IT=92,NT=10;function ca(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function Kw(t){return t>=48&&t<=57}var DT=new Fo((t,e)=>{for(let r=!1,n=0,i=0;;i++){let{next:o}=t;if(ca(o)||o==df||o==Xw||r&&Kw(o))!r&&(o!=df||i>0)&&(r=!0),n===i&&o==df&&n++,t.advance();else if(o==IT&&t.peek(1)!=NT)t.advance(),t.next>-1&&t.advance(),r=!0;else{r&&t.acceptToken(o==ET?xT:n==2&&e.canShift(Vw)?Vw:kT);break}}}),MT=new Fo(t=>{if(Gw.includes(t.peek(-1))){let{next:e}=t;(ca(e)||e==Xw||e==$T||e==AT||e==PT||e==CT&&ca(t.peek(1))||e==df||e==RT)&&t.acceptToken(OT)}}),LT=new Fo(t=>{if(!Gw.includes(t.peek(-1))){let{next:e}=t;if(e==TT&&(t.advance(),t.acceptToken(Ww)),ca(e)){do t.advance();while(ca(t.next)||Kw(t.next));t.acceptToken(Ww)}}}),qT=Hw({"AtKeyword import charset namespace keyframes media supports":Me.definitionKeyword,"from to selector":Me.keyword,NamespaceName:Me.namespace,KeyframeName:Me.labelName,KeyframeRangeName:Me.operatorKeyword,TagName:Me.tagName,ClassName:Me.className,PseudoClassName:Me.constant(Me.className),IdName:Me.labelName,"FeatureName PropertyName":Me.propertyName,AttributeName:Me.attributeName,NumberLiteral:Me.number,KeywordQuery:Me.keyword,UnaryQueryOp:Me.operatorKeyword,"CallTag ValueName":Me.atom,VariableName:Me.variableName,Callee:Me.operatorKeyword,Unit:Me.unit,"UniversalSelector NestingSelector":Me.definitionOperator,MatchOp:Me.compareOperator,"ChildOp SiblingOp, LogicOp":Me.logicOperator,BinOp:Me.arithmeticOperator,Important:Me.modifier,Comment:Me.blockComment,ColorLiteral:Me.color,"ParenthesizedContent StringLiteral":Me.string,":":Me.punctuation,"PseudoOp #":Me.derefOperator,"; ,":Me.separator,"( )":Me.paren,"[ ]":Me.squareBracket,"{ }":Me.brace}),BT={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},FT={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},UT={__proto__:null,not:132,only:132},Yw=uf.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO-kQdO,59}O-{Q[O'#E^O.YQWO,5;_O.YQWO,5;_POOO'#EV'#EVP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/iQ`O1G/^O0SQXO1G/aO0jQXO1G/cO1QQXO1G/dO1hQWO,59|O1mQ[O'#DSO1tQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1{QpO,59]OOQS,59_,59_O${QdO,59aO2TQWO1G/mOOQS,59c,59cO2YQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2eQ[O,59jOOQS,59j,59jO2mQWO'#DjO2xQWO,5:VO2}QWO,5:]O&`Q[O,5:XO&`Q[O'#E_O3VQWO,5;`O3bQWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3sQWO1G0OO3xQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO4TQtO1G/iOOQO1G/i1G/iOOQO,5:x,5:xO4kQ[O,5:xOOQO-E8[-E8[O4xQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO5TQXO'#ErO5[QWO,59nO5aQtO'#EXO6XQdO'#EoO6cQWO,59ZO6hQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XOOQS1G/P1G/PO6pQWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6uQWO,5:yOOQO-E8]-E8]O7TQXO1G/xOOQS7+%j7+%jO7[QYO'#CsOOQO'#EQ'#EQO7gQ`O'#EPOOQO'#EP'#EPO7rQWO'#E`O7zQdO,5:jOOQS,5:j,5:jO8VQtO'#E]O${QdO'#E]O9WQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9kQpO<<HdO9sQWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9{QWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO:TQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3{QdO'#EaO7rQWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO:[QtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO;]QdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";o~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!X#rO!Y!Va#U!Va!S!Va~P${O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#xO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.pOp#zO|#{O~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/qOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/qOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/qO!S#|O~Oa#fP~P(aOa#cP~P${Oa$TOj#XO~O!Y$VO~Oa$WOh$XOo$XO~Op$ZO#X#]O~O]!`Xa!^X!b!^X~O]$[O~Oa$]O!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$bO~O!S$iO#X$dO#e$cO~Oj#XOt$kO!X$mO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$qO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$sOa#cX~P${Oa$uO~Oj#XOp$vO~Oa$wO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$yO~P.pOP#WOtgX!TgX~O#e$cOt!sX!T!sX~Ot${O!TwO~O!S%PO#X$dO#e$cO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$kO!X%SO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%TO~OtoOa#fa~Ot$sOa#ca~Oa%WO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[qT],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[MT,LT,DT,1,2,3,4,new ua("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>BT[t]||-1},{term:58,get:t=>FT[t]||-1},{term:101,get:t=>UT[t]||-1}],tokenPrec:1219});var jr=require("@codemirror/language");var g0=null;function m0(){if(!g0&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],r=new Set;for(let n in t)n!="cssText"&&n!="cssFloat"&&typeof t[n]=="string"&&(/[A-Z]/.test(n)&&(n=n.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),r.has(n)||(e.push(n),r.add(n)));g0=e.sort().map(n=>({type:"property",label:n,apply:n+": "}))}return g0||[]}var Zw=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),Jw=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),zT=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),jT=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),$i=/^(\w[\w-]*|-\w[\w-]*|)$/,QT=/^-(-[\w-]*)?$/;function HT(t,e){var r;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let n=(r=t.parent)===null||r===void 0?void 0:r.firstChild;return(n==null?void 0:n.name)!="Callee"?!1:e.sliceString(n.from,n.to)=="var"}var eS=new Ic,WT=["Declaration"];function VT(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function rS(t,e,r){if(e.to-e.from>4096){let n=eS.get(e);if(n)return n;let i=[],o=new Set,u=e.cursor(Jt.IncludeAnonymous);if(u.firstChild())do for(let l of rS(t,u.node,r))o.has(l.label)||(o.add(l.label),i.push(l));while(u.nextSibling());return eS.set(e,i),i}else{let n=[],i=new Set;return e.cursor().iterate(o=>{var u;if(r(o)&&o.matchContext(WT)&&((u=o.node.nextSibling)===null||u===void 0?void 0:u.name)==":"){let l=t.sliceString(o.from,o.to);i.has(l)||(i.add(l),n.push({label:l,type:"variable"}))}}),n}}var GT=t=>e=>{let{state:r,pos:n}=e,i=(0,jr.syntaxTree)(r).resolveInner(n,-1),o=i.type.isError&&i.from==i.to-1&&r.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(o||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:m0(),validFor:$i};if(i.name=="ValueName")return{from:i.from,options:Jw,validFor:$i};if(i.name=="PseudoClassName")return{from:i.from,options:Zw,validFor:$i};if(t(i)||(e.explicit||o)&&HT(i,r.doc))return{from:t(i)||o?i.from:n,options:rS(r.doc,VT(i),t),validFor:QT};if(i.name=="TagName"){for(let{parent:c}=i;c;c=c.parent)if(c.name=="Block")return{from:i.from,options:m0(),validFor:$i};return{from:i.from,options:zT,validFor:$i}}if(i.name=="AtKeyword")return{from:i.from,options:jT,validFor:$i};if(!e.explicit)return null;let u=i.resolve(n),l=u.childBefore(n);return l&&l.name==":"&&u.name=="PseudoClassSelector"?{from:n,options:Zw,validFor:$i}:l&&l.name==":"&&u.name=="Declaration"||u.name=="ArgList"?{from:n,options:Jw,validFor:$i}:u.name=="Block"||u.name=="Styles"?{from:n,options:m0(),validFor:$i}:null},XT=GT(t=>t.name=="VariableName"),tS=jr.LRLanguage.define({name:"css",parser:Yw.configure({props:[jr.indentNodeProp.add({Declaration:(0,jr.continuedIndent)()}),jr.foldNodeProp.add({"Block KeyframeList":jr.foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function nS(){return new jr.LanguageSupport(tS,tS.data.of({autocomplete:XT}))}var An=require("@codemirror/language"),AS=require("@codemirror/state"),Wr=require("@codemirror/view");S();var Be=require("@codemirror/state"),Vt=require("@codemirror/view"),ha=require("@codemirror/language"),pf=class{constructor(e,r,n,i){this.state=e,this.pos=r,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=(0,ha.syntaxTree)(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),n=Math.max(r.from,this.pos-250),i=r.text.slice(n-r.from,this.pos-r.from),o=i.search(dS(e,!1));return o<0?null:{from:n+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),n&&n.onDocChange&&(this.abortOnDocChange=!0))}};function iS(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function KT(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)r[i[o]]=!0}let n=iS(e)+iS(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function YT(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:KT(e);return i=>{let o=i.matchBefore(n);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:r}:null}}var gf=class{constructor(e,r,n,i){this.completion=e,this.source=r,this.match=n,this.score=i}};function Qs(t){return t.selection.main.from}function dS(t,e){var r;let{source:n}=t,i=e&&n[0]!="^",o=n[n.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${n})${o?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}var hS=Be.Annotation.define();function ZT(t,e,r,n){let{main:i}=t.selection,o=r-i.from,u=n-i.from;return Object.assign(Object.assign({},t.changeByRange(l=>{if(l!=i&&r!=n&&t.sliceDoc(l.from+o,l.from+u)!=t.sliceDoc(r,n))return{range:l};let c=t.toText(e);return{changes:{from:l.from+o,to:n==i.from?l.to:l.from+u,insert:c},range:Be.EditorSelection.cursor(l.from+o+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}var sS=new WeakMap;function JT(t){if(!Array.isArray(t))return t;let e=sS.get(t);return e||sS.set(t,e=YT(t)),e}var mf=Be.StateEffect.define(),fa=Be.StateEffect.define(),b0=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let n=(0,Be.codePointAt)(e,r),i=(0,Be.codePointSize)(n);this.chars.push(n);let o=e.slice(r,r+i),u=o.toUpperCase();this.folded.push((0,Be.codePointAt)(u==o?o.toLowerCase():u,0)),r+=i}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:n,any:i,precise:o,byWord:u}=this;if(r.length==1){let be=(0,Be.codePointAt)(e,0),Oe=(0,Be.codePointSize)(be),Ae=Oe==e.length?0:-100;if(be!=r[0])if(be==n[0])Ae+=-200;else return null;return this.ret(Ae,[0,Oe])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=r.length,d=0;if(l<0){for(let be=0,Oe=Math.min(e.length,200);be<Oe&&d<c;){let Ae=(0,Be.codePointAt)(e,be);(Ae==r[d]||Ae==n[d])&&(i[d++]=be),be+=(0,Be.codePointSize)(Ae)}if(d<c)return null}let h=0,g=0,v=!1,b=0,_=-1,k=-1,C=/[a-z]/.test(e),q=!0;for(let be=0,Oe=Math.min(e.length,200),Ae=0;be<Oe&&g<c;){let me=(0,Be.codePointAt)(e,be);l<0&&(h<c&&me==r[h]&&(o[h++]=be),b<c&&(me==r[b]||me==n[b]?(b==0&&(_=be),k=be+1,b++):b=0));let Ie,Ce=me<255?me>=48&&me<=57||me>=97&&me<=122?2:me>=65&&me<=90?1:0:(Ie=(0,Be.fromCodePoint)(me))!=Ie.toLowerCase()?1:Ie!=Ie.toUpperCase()?2:0;(!be||Ce==1&&C||Ae==0&&Ce!=0)&&(r[g]==me||n[g]==me&&(v=!0)?u[g++]=be:u.length&&(q=!1)),Ae=Ce,be+=(0,Be.codePointSize)(me)}return g==c&&u[0]==0&&q?this.result(-100+(v?-200:0),u,e):b==c&&_==0?this.ret(-200-e.length+(k==e.length?0:-100),[0,k]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):b==c?this.ret(-900-e.length,[_,k]):g==c?this.result(-100+(v?-200:0)+-700+(q?0:-1100),u,e):r.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,n){let i=[],o=0;for(let u of r){let l=u+(this.astral?(0,Be.codePointSize)((0,Be.codePointAt)(n,u)):1);o&&i[o-1]==u?i[o-1]=l:(i[o++]=u,i[o++]=l)}return this.ret(e-n.length,i)}},w0=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),n=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,r.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}},or=Be.Facet.define({combine(t){return(0,Be.combineConfig)(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:eR,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>n=>oS(e(n),r(n)),optionClass:(e,r)=>n=>oS(e(n),r(n)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function oS(t,e){return t?e?t+" "+e:t:e}function eR(t,e,r,n,i,o){let u=t.textDirection==Vt.Direction.RTL,l=u,c=!1,d="top",h,g,v=e.left-i.left,b=i.right-e.right,_=n.right-n.left,k=n.bottom-n.top;if(l&&v<Math.min(_,b)?l=!1:!l&&b<Math.min(_,v)&&(l=!0),_<=(l?v:b))h=Math.max(i.top,Math.min(r.top,i.bottom-k))-e.top,g=Math.min(400,l?v:b);else{c=!0,g=Math.min(400,(u?e.right:i.right-e.left)-30);let be=i.bottom-e.bottom;be>=k||be>e.top?h=r.bottom-e.top:(d="bottom",h=e.bottom-r.top)}let C=(e.bottom-e.top)/o.offsetHeight,q=(e.right-e.left)/o.offsetWidth;return{style:`${d}: ${h/C}px; max-width: ${g/q}px`,class:"cm-completionInfo-"+(c?u?"left-narrow":"right-narrow":l?"left":"right")}}function tR(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),r.type&&n.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(r,n,i,o){let u=document.createElement("span");u.className="cm-completionLabel";let l=r.displayLabel||r.label,c=0;for(let d=0;d<o.length;){let h=o[d++],g=o[d++];h>c&&u.appendChild(document.createTextNode(l.slice(c,h)));let v=u.appendChild(document.createElement("span"));v.appendChild(document.createTextNode(l.slice(h,g))),v.className="cm-completionMatchedText",c=g}return c<l.length&&u.appendChild(document.createTextNode(l.slice(c))),u},position:50},{render(r){if(!r.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=r.detail,n},position:80}),e.sort((r,n)=>r.position-n.position).map(r=>r.render)}function v0(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}var S0=class{constructor(e,r,n){this.view=e,this.stateField=r,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:o,selected:u}=i.open,l=e.state.facet(or);this.optionContent=tR(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=v0(o.length,u,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:d}=e.state.field(r).open;for(let h=c.target,g;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(g=/-(\d+)$/.exec(h.id))&&+g[1]<d.length){this.applyCompletion(e,d[+g[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let d=e.state.field(this.stateField,!1);d&&d.tooltip&&e.state.facet(or).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:fa.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:o,selected:u,disabled:l}=n.open;(!i.open||i.open.options!=o)&&(this.range=v0(o.length,u,e.state.facet(or).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),l!=((r=i.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of r.split(" "))n&&this.dom.classList.add(n);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=v0(r.options.length,r.selected,this.view.state.facet(or).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:n}=r.options[r.selected],{info:i}=n;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(n);if(!o)return;"then"in o?o.then(u=>{u&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(u,n)}).catch(u=>(0,Vt.logException)(this.view.state,u,"completion info")):this.addInfoPane(o,n)}}addInfoPane(e,r){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;n.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),r=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return r&&nR(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let u=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:u.innerWidth,bottom:u.innerHeight}}return i.top>Math.min(o.bottom,r.bottom)-10||i.bottom<Math.max(o.top,r.top)+10?null:this.view.state.facet(or).positionInfo(this.view,r,i,n,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,n){let i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let u=n.from;u<n.to;u++){let{completion:l,match:c}=e[u],{section:d}=l;if(d){let v=typeof d=="string"?d:d.name;if(v!=o&&(u>n.from||n.from==0))if(o=v,typeof d!="string"&&d.header)i.appendChild(d.header(d));else{let b=i.appendChild(document.createElement("completion-section"));b.textContent=v}}let h=i.appendChild(document.createElement("li"));h.id=r+"-"+u,h.setAttribute("role","option");let g=this.optionClass(l);g&&(h.className=g);for(let v of this.optionContent){let b=v(l,this.view.state,this.view,c);b&&h.appendChild(b)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function rR(t,e){return r=>new S0(r,t,e)}function nR(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=r.height/t.offsetHeight;n.top<r.top?t.scrollTop-=(r.top-n.top)/i:n.bottom>r.bottom&&(t.scrollTop+=(n.bottom-r.bottom)/i)}function uS(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function iR(t,e){let r=[],n=null,i=d=>{r.push(d);let{section:h}=d.completion;if(h){n||(n=[]);let g=typeof h=="string"?h:h.name;n.some(v=>v.name==g)||n.push(typeof h=="string"?{name:g}:h)}},o=e.facet(or);for(let d of t)if(d.hasResult()){let h=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)i(new gf(g,d.source,h?h(g):[],1e9-r.length));else{let g=e.sliceDoc(d.from,d.to),v,b=o.filterStrict?new w0(g):new b0(g);for(let _ of d.result.options)if(v=b.match(_.label)){let k=_.displayLabel?h?h(_,v.matched):[]:v.matched;i(new gf(_,d.source,k,v.score+(_.boost||0)))}}}if(n){let d=Object.create(null),h=0,g=(v,b)=>{var _,k;return((_=v.rank)!==null&&_!==void 0?_:1e9)-((k=b.rank)!==null&&k!==void 0?k:1e9)||(v.name<b.name?-1:1)};for(let v of n.sort(g))h-=1e5,d[v.name]=h;for(let v of r){let{section:b}=v.completion;b&&(v.score+=d[typeof b=="string"?b:b.name])}}let u=[],l=null,c=o.compareCompletions;for(let d of r.sort((h,g)=>g.score-h.score||c(h.completion,g.completion))){let h=d.completion;!l||l.label!=h.label||l.detail!=h.detail||l.type!=null&&h.type!=null&&l.type!=h.type||l.apply!=h.apply||l.boost!=h.boost?u.push(d):uS(d.completion)>uS(l)&&(u[u.length-1]=d),l=d.completion}return u}var _0=class t{constructor(e,r,n,i,o,u){this.options=e,this.attrs=r,this.tooltip=n,this.timestamp=i,this.selected=o,this.disabled=u}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new t(this.options,aS(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,n,i,o,u){if(i&&!u&&e.some(d=>d.isPending))return i.setDisabled();let l=iR(e,r);if(!l.length)return i&&e.some(d=>d.isPending)?i.setDisabled():null;let c=r.facet(or).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let d=i.options[i.selected].completion;for(let h=0;h<l.length;h++)if(l[h].completion==d){c=h;break}}return new t(l,aS(n,c),{pos:e.reduce((d,h)=>h.hasResult()?Math.min(d,h.from):d,1e8),create:cR,above:o.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(e){return new t(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new t(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}},O0=class t{constructor(e,r,n){this.active=e,this.id=r,this.open=n}static start(){return new t(aR,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,n=r.facet(or),o=(n.override||r.languageDataAt("autocomplete",Qs(r)).map(JT)).map(c=>(this.active.find(h=>h.source==c)||new Ti(c,this.active.some(h=>h.state!=0)?1:0)).update(e,n));o.length==this.active.length&&o.every((c,d)=>c==this.active[d])&&(o=this.active);let u=this.open,l=e.effects.some(c=>c.is(k0));u&&e.docChanged&&(u=u.map(e.changes)),e.selection||o.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!sR(o,this.active)||l?u=_0.build(o,r,this.id,u,n,l):u&&u.disabled&&!o.some(c=>c.isPending)&&(u=null),!u&&o.every(c=>!c.isPending)&&o.some(c=>c.hasResult())&&(o=o.map(c=>c.hasResult()?new Ti(c.source,0):c));for(let c of e.effects)c.is(gS)&&(u=u&&u.setSelected(c.value,this.id));return o==this.active&&u==this.open?this:new t(o,this.id,u)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?oR:uR}};function sR(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult();)r++;for(;n<e.length&&!e[n].hasResult();)n++;let i=r==t.length,o=n==e.length;if(i||o)return i==o;if(t[r++].result!=e[n++].result)return!1}}var oR={"aria-autocomplete":"list"},uR={};function aS(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}var aR=[];function pS(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(hS);if(n&&e.activateOnCompletion(n))return 12}let r=t.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}var Ti=class t{constructor(e,r,n=!1){this.source=e,this.state=r,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let n=pS(e,r),i=this;(n&8||n&16&&this.touches(e))&&(i=new t(i.source,0)),n&4&&i.state==0&&(i=new t(this.source,1)),i=i.updateFor(e,n);for(let o of e.effects)if(o.is(mf))i=new t(i.source,1,o.value);else if(o.is(fa))i=new t(i.source,0);else if(o.is(k0))for(let u of o.value)u.source==i.source&&(i=u);return i}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Qs(e.state))}},vf=class t extends Ti{constructor(e,r,n,i,o,u){super(e,3,r),this.limit=n,this.result=i,this.from=o,this.to=u}hasResult(){return!0}updateFor(e,r){var n;if(!(r&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),u=e.changes.mapPos(this.to,1),l=Qs(e.state);if(l>u||!i||r&2&&(Qs(e.startState)==this.from||l<this.limit))return new Ti(this.source,r&4?1:0);let c=e.changes.mapPos(this.limit);return lR(i.validFor,e.state,o,u)?new t(this.source,this.explicit,c,i,o,u):i.update&&(i=i.update(i,o,u,new pf(e.state,l,!1)))?new t(this.source,this.explicit,c,i,i.from,(n=i.to)!==null&&n!==void 0?n:Qs(e.state)):new Ti(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new t(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ti(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}};function lR(t,e,r,n){if(!t)return!1;let i=e.sliceDoc(r,n);return typeof t=="function"?t(i,r,n,e):dS(t,!0).test(i)}var k0=Be.StateEffect.define({map(t,e){return t.map(r=>r.map(e))}}),gS=Be.StateEffect.define(),Qr=Be.StateField.define({create(){return O0.start()},update(t,e){return t.update(e)},provide:t=>[Vt.showTooltip.from(t,e=>e.tooltip),Vt.EditorView.contentAttributes.from(t,e=>e.attrs)]});function C0(t,e){let r=e.completion.apply||e.completion.label,n=t.state.field(Qr).active.find(i=>i.source==e.source);return n instanceof vf?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},ZT(t.state,r,n.from,n.to)),{annotations:hS.of(e.completion)})):r(t,e.completion,n.from,n.to),!0):!1}var cR=rR(Qr,C0);function hf(t,e="option"){return r=>{let n=r.state.field(Qr,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(or).interactionDelay)return!1;let i=1,o;e=="page"&&(o=(0,Vt.getTooltip)(r,n.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:u}=n.open.options,l=n.open.selected>-1?n.open.selected+i*(t?1:-1):t?0:u-1;return l<0?l=e=="page"?0:u-1:l>=u&&(l=e=="page"?u-1:0),r.dispatch({effects:gS.of(l)}),!0}}var fR=t=>{let e=t.state.field(Qr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(or).interactionDelay?!1:C0(t,e.open.options[e.open.selected])},lS=t=>t.state.field(Qr,!1)?(t.dispatch({effects:mf.of(!0)}),!0):!1,dR=t=>{let e=t.state.field(Qr,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:fa.of(null)}),!0)},x0=class{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}},hR=50,pR=1e3,gR=Vt.ViewPlugin.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Qr).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Qr),r=t.state.facet(or);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Qr)==e)return;let n=t.transactions.some(o=>{let u=pS(o,r);return u&8||(o.selection||o.docChanged)&&!(u&3)});for(let o=0;o<this.running.length;o++){let u=this.running[o];if(n||u.context.abortOnDocChange&&t.docChanged||u.updates.length+t.transactions.length>hR&&Date.now()-u.time>pR){for(let l of u.context.abortListeners)try{l()}catch(c){(0,Vt.logException)(this.view.state,c)}u.context.abortListeners=null,this.running.splice(o--,1)}else u.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(u=>u.is(mf)))&&(this.pendingStart=!0);let i=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(u=>u.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Qr);for(let r of e.active)r.isPending&&!this.running.some(n=>n.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(or).updateSyncTime))}startQuery(t){let{state:e}=this.view,r=Qs(e),n=new pf(e,r,t.explicit,this.view),i=new x0(t,n);this.running.push(i),Promise.resolve(t.source(n)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:fa.of(null)}),(0,Vt.logException)(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(or).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(or),n=this.view.state.field(Qr);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let l=Qs(o.updates.length?o.updates[0].startState:this.view.state),c=Math.min(l,o.done.from+(o.active.explicit?0:1)),d=new vf(o.active.source,o.active.explicit,c,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:l);for(let h of o.updates)d=d.update(h,r);if(d.hasResult()){e.push(d);continue}}let u=n.active.find(l=>l.source==o.active.source);if(u&&u.isPending)if(o.done==null){let l=new Ti(o.active.source,0);for(let c of o.updates)l=l.update(c,r);l.isPending||e.push(l)}else this.startQuery(u)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:k0.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Qr,!1);if(e&&e.tooltip&&this.view.state.facet(or).closeOnBlur){let r=e.open&&(0,Vt.getTooltip)(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:fa.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:mf.of(!1)}),20),this.composing=0}}}),mR=typeof navigator=="object"&&/Win/.test(navigator.platform),vR=Be.Prec.highest(Vt.EditorView.domEventHandlers({keydown(t,e){let r=e.state.field(Qr,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||t.key.length>1||t.ctrlKey&&!(mR&&t.altKey)||t.metaKey)return!1;let n=r.open.options[r.open.selected],i=r.active.find(u=>u.source==n.source),o=n.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&C0(e,n),!1}})),yR=Vt.EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var da={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},js=Be.StateEffect.define({map(t,e){let r=e.mapPos(t,-1,Be.MapMode.TrackAfter);return r==null?void 0:r}}),E0=new class extends Be.RangeValue{};E0.startSide=1;E0.endSide=-1;var mS=Be.StateField.define({create(){return Be.RangeSet.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:n=>n>=r.from&&n<=r.to})}for(let r of e.effects)r.is(js)&&(t=t.update({add:[E0.range(r.value,r.value+1)]}));return t}});function vS(){return[wR,mS]}var y0="()[]{}<>";function yS(t){for(let e=0;e<y0.length;e+=2)if(y0.charCodeAt(e)==t)return y0.charAt(e+1);return(0,Be.fromCodePoint)(t<128?t:t+1)}function bS(t,e){return t.languageDataAt("closeBrackets",e)[0]||da}var bR=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),wR=Vt.EditorView.inputHandler.of((t,e,r,n)=>{if((bR?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(n.length>2||n.length==2&&(0,Be.codePointSize)((0,Be.codePointAt)(n,0))==1||e!=i.from||r!=i.to)return!1;let o=_R(t.state,n);return o?(t.dispatch(o),!0):!1}),SR=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=bS(t,t.selection.main.head).brackets||da.brackets,i=null,o=t.changeByRange(u=>{if(u.empty){let l=OR(t.doc,u.head);for(let c of n)if(c==l&&yf(t.doc,u.head)==yS((0,Be.codePointAt)(c,0)))return{changes:{from:u.head-c.length,to:u.head+c.length},range:Be.EditorSelection.cursor(u.head-c.length)}}return{range:i=u}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},wS=[{key:"Backspace",run:SR}];function _R(t,e){let r=bS(t,t.selection.main.head),n=r.brackets||da.brackets;for(let i of n){let o=yS((0,Be.codePointAt)(i,0));if(e==i)return o==i?CR(t,i,n.indexOf(i+i+i)>-1,r):xR(t,i,o,r.before||da.before);if(e==o&&SS(t,t.selection.main.from))return kR(t,i,o)}return null}function SS(t,e){let r=!1;return t.field(mS).between(0,t.doc.length,n=>{n==e&&(r=!0)}),r}function yf(t,e){let r=t.sliceString(e,e+2);return r.slice(0,(0,Be.codePointSize)((0,Be.codePointAt)(r,0)))}function OR(t,e){let r=t.sliceString(e-2,e);return(0,Be.codePointSize)((0,Be.codePointAt)(r,0))==r.length?r:r.slice(1)}function xR(t,e,r,n){let i=null,o=t.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:r,from:u.to}],effects:js.of(u.to+e.length),range:Be.EditorSelection.range(u.anchor+e.length,u.head+e.length)};let l=yf(t.doc,u.head);return!l||/\s/.test(l)||n.indexOf(l)>-1?{changes:{insert:e+r,from:u.head},effects:js.of(u.head+e.length),range:Be.EditorSelection.cursor(u.head+e.length)}:{range:i=u}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function kR(t,e,r){let n=null,i=t.changeByRange(o=>o.empty&&yf(t.doc,o.head)==r?{changes:{from:o.head,to:o.head+r.length,insert:r},range:Be.EditorSelection.cursor(o.head+r.length)}:n={range:o});return n?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function CR(t,e,r,n){let i=n.stringPrefixes||da.stringPrefixes,o=null,u=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:js.of(l.to+e.length),range:Be.EditorSelection.range(l.anchor+e.length,l.head+e.length)};let c=l.head,d=yf(t.doc,c),h;if(d==e){if(cS(t,c))return{changes:{insert:e+e,from:c},effects:js.of(c+e.length),range:Be.EditorSelection.cursor(c+e.length)};if(SS(t,c)){let v=r&&t.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+v.length,insert:v},range:Be.EditorSelection.cursor(c+v.length)}}}else{if(r&&t.sliceDoc(c-2*e.length,c)==e+e&&(h=fS(t,c-2*e.length,i))>-1&&cS(t,h))return{changes:{insert:e+e+e+e,from:c},effects:js.of(c+e.length),range:Be.EditorSelection.cursor(c+e.length)};if(t.charCategorizer(c)(d)!=Be.CharCategory.Word&&fS(t,c,i)>-1&&!ER(t,c,e,i))return{changes:{insert:e+e,from:c},effects:js.of(c+e.length),range:Be.EditorSelection.cursor(c+e.length)}}return{range:o=l}});return o?null:t.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function cS(t,e){let r=(0,ha.syntaxTree)(t).resolveInner(e+1);return r.parent&&r.from==e}function ER(t,e,r,n){let i=(0,ha.syntaxTree)(t).resolveInner(e,-1),o=n.reduce((u,l)=>Math.max(u,l.length),0);for(let u=0;u<5;u++){let l=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+o)),c=l.indexOf(r);if(!c||c>-1&&n.indexOf(l.slice(0,c))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>r.length+c;){if(t.sliceDoc(h.to-r.length,h.to)==r)return!1;h=h.firstChild}return!0}let d=i.to==e&&i.parent;if(!d)break;i=d}return!1}function fS(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=Be.CharCategory.Word)return e;for(let i of r){let o=e-i.length;if(t.sliceDoc(o,e)==i&&n(t.sliceDoc(o-1,o))!=Be.CharCategory.Word)return o}return-1}function _S(t={}){return[vR,Qr,or.of(t),gR,PR,yR]}var P0=[{key:"Ctrl-Space",run:lS},{mac:"Alt-`",run:lS},{key:"Escape",run:dR},{key:"ArrowDown",run:hf(!0)},{key:"ArrowUp",run:hf(!1)},{key:"PageDown",run:hf(!0,"page")},{key:"PageUp",run:hf(!1,"page")},{key:"Enter",run:fR}],PR=Be.Prec.highest(Vt.keymap.computeN([or],t=>t.facet(or).defaultKeymap?[P0]:[]));S();var Ut=require("@codemirror/view"),Hr=require("@codemirror/state");var wf=class{constructor(e,r,n){this.from=e,this.to=r,this.diagnostic=n}},Hs=class t{constructor(e,r,n){this.diagnostics=e,this.panel=r,this.selected=n}static init(e,r,n){let i=e,o=n.facet(pa).markerFilter;o&&(i=o(i,n));let u=e.slice().sort((g,v)=>g.from-v.from||g.to-v.to),l=new Hr.RangeSetBuilder,c=[],d=0;for(let g=0;;){let v=g==u.length?null:u[g];if(!v&&!c.length)break;let b,_;for(c.length?(b=d,_=c.reduce((C,q)=>Math.min(C,q.to),v&&v.from>b?v.from:1e8)):(b=v.from,_=v.to,c.push(v),g++);g<u.length;){let C=u[g];if(C.from==b&&(C.to>C.from||C.to==b))c.push(C),g++,_=Math.min(C.to,_);else{_=Math.min(C.from,_);break}}let k=BR(c);if(c.some(C=>C.from==C.to||C.from==C.to-1&&n.doc.lineAt(C.from).to==C.from))l.add(b,b,Ut.Decoration.widget({widget:new A0(k),diagnostics:c.slice()}));else{let C=c.reduce((q,be)=>be.markClass?q+" "+be.markClass:q,"");l.add(b,_,Ut.Decoration.mark({class:"cm-lintRange cm-lintRange-"+k+C,diagnostics:c.slice(),inclusiveEnd:c.some(q=>q.to>_)}))}d=_;for(let C=0;C<c.length;C++)c[C].to<=d&&c.splice(C--,1)}let h=l.finish();return new t(h,r,Uo(h))}};function Uo(t,e=null,r=0){let n=null;return t.between(r,1e9,(i,o,{spec:u})=>{if(!(e&&u.diagnostics.indexOf(e)<0))if(!n)n=new wf(i,o,e||u.diagnostics[0]);else{if(u.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new wf(n.from,o,n.diagnostic)}}),n}function AR(t,e){let r=e.pos,n=e.end||r,i=t.state.facet(pa).hideOn(t,r,n);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(u=>u.is(xS))||t.changes.touchesRange(o.from,Math.max(o.to,n)))}function $R(t,e){return t.field(hn,!1)?e:e.concat(Hr.StateEffect.appendConfig.of(FR))}var xS=Hr.StateEffect.define(),$0=Hr.StateEffect.define(),kS=Hr.StateEffect.define(),hn=Hr.StateField.define({create(){return new Hs(Ut.Decoration.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let r=t.diagnostics.map(e.changes),n=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);n=Uo(r,t.selected.diagnostic,o)||Uo(r,null,o)}!r.size&&i&&e.state.facet(pa).autoPanel&&(i=null),t=new Hs(r,i,n)}for(let r of e.effects)if(r.is(xS)){let n=e.state.facet(pa).autoPanel?r.value.length?ga.open:null:t.panel;t=Hs.init(r.value,n,e.state)}else r.is($0)?t=new Hs(t.diagnostics,r.value?ga.open:null,t.selected):r.is(kS)&&(t=new Hs(t.diagnostics,t.panel,r.value));return t},provide:t=>[Ut.showPanel.from(t,e=>e.panel),Ut.EditorView.decorations.from(t,e=>e.diagnostics)]});var TR=Ut.Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function RR(t,e,r){let{diagnostics:n}=t.state.field(hn),i,o=-1,u=-1;n.between(e-(r<0?1:0),e+(r>0?1:0),(c,d,{spec:h})=>{if(e>=c&&e<=d&&(c==d||(e>c||r>0)&&(e<d||r<0)))return i=h.diagnostics,o=c,u=d,!1});let l=t.state.facet(pa).tooltipFilter;return i&&l&&(i=l(i,t.state)),i?{pos:o,end:u,above:t.state.doc.lineAt(o).to<u,create(){return{dom:IR(t,i)}}}:null}function IR(t,e){return At("ul",{class:"cm-tooltip-lint"},e.map(r=>PS(t,r,!1)))}var NR=t=>{let e=t.state.field(hn,!1);(!e||!e.panel)&&t.dispatch({effects:$R(t.state,[$0.of(!0)])});let r=(0,Ut.getPanel)(t,ga.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},OS=t=>{let e=t.state.field(hn,!1);return!e||!e.panel?!1:(t.dispatch({effects:$0.of(!1)}),!0)},DR=t=>{let e=t.state.field(hn,!1);if(!e)return!1;let r=t.state.selection.main,n=e.diagnostics.iter(r.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)};var CS=[{key:"Mod-Shift-m",run:NR,preventDefault:!0},{key:"F8",run:DR}];var pa=Hr.Facet.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},(0,Hr.combineConfig)(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?n=>e(n)||r(n):e:r}))}});function ES(t){let e=[];if(t)e:for(let{name:r}of t){for(let n=0;n<r.length;n++){let i=r[n];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function PS(t,e,r){var n;let i=r?ES(e.actions):[];return At("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},At("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((o,u)=>{let l=!1,c=v=>{if(v.preventDefault(),l)return;l=!0;let b=Uo(t.state.field(hn).diagnostics,e);b&&o.apply(t,b.from,b.to)},{name:d}=o,h=i[u]?d.indexOf(i[u]):-1,g=h<0?d:[d.slice(0,h),At("u",d.slice(h,h+1)),d.slice(h+1)];return At("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${d}${h<0?"":` (access key "${i[u]})"`}.`},g)}),e.source&&At("div",{class:"cm-diagnosticSource"},e.source))}var A0=class extends Ut.WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return At("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}},Sf=class{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=PS(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}},ga=class t{constructor(e){this.view=e,this.items=[];let r=i=>{if(i.keyCode==27)OS(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],u=ES(o.actions);for(let l=0;l<u.length;l++)if(u[l].toUpperCase().charCodeAt(0)==i.keyCode){let c=Uo(this.view.state.field(hn).diagnostics,o);c&&o.actions[l].apply(e,c.from,c.to)}}else return;i.preventDefault()},n=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=At("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:n}),this.dom=At("div",{class:"cm-panel-lint"},this.list,At("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>OS(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(hn).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(hn),n=0,i=!1,o=null,u=new Set;for(e.between(0,this.view.state.doc.length,(l,c,{spec:d})=>{for(let h of d.diagnostics){if(u.has(h))continue;u.add(h);let g=-1,v;for(let b=n;b<this.items.length;b++)if(this.items[b].diagnostic==h){g=b;break}g<0?(v=new Sf(this.view,h),this.items.splice(n,0,v),i=!0):(v=this.items[g],g>n&&(this.items.splice(n,g-n),i=!0)),r&&v.diagnostic==r.diagnostic?v.dom.hasAttribute("aria-selected")||(v.dom.setAttribute("aria-selected","true"),o=v):v.dom.hasAttribute("aria-selected")&&v.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Sf(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:c})=>{let d=c.height/this.list.offsetHeight;l.top<c.top?this.list.scrollTop-=(c.top-l.top)/d:l.bottom>c.bottom&&(this.list.scrollTop+=(l.bottom-c.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)r();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(hn),n=Uo(r.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:kS.of(n)})}static open(e){return new t(e)}};function MR(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function bf(t){return MR(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var LR=Ut.EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:bf("#d11")},".cm-lintRange-warning":{backgroundImage:bf("orange")},".cm-lintRange-info":{backgroundImage:bf("#999")},".cm-lintRange-hint":{backgroundImage:bf("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function qR(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function BR(t){let e="hint",r=1;for(let n of t){let i=qR(n.severity);i>r&&(r=i,e=n.severity)}return e}var FR=[hn,Ut.EditorView.decorations.compute([hn],t=>{let{selected:e,panel:r}=t.field(hn);return!e||!r||e.from==e.to?Ut.Decoration.none:Ut.Decoration.set([TR.range(e.from,e.to)])}),(0,Ut.hoverTooltip)(RR,{hideOn:AR}),LR];var ma=[(0,Wr.lineNumbers)(),(0,Wr.highlightSpecialChars)(),iw(),nS(),(0,An.foldGutter)(),(0,Wr.drawSelection)(),(0,Wr.dropCursor)(),AS.EditorState.allowMultipleSelections.of(!0),(0,An.indentOnInput)(),(0,An.syntaxHighlighting)(An.defaultHighlightStyle,{fallback:!0}),Wr.EditorView.lineWrapping,(0,An.bracketMatching)(),vS(),_S(),(0,Wr.rectangularSelection)(),_y(),Wr.keymap.of([...wS,...Dw,...Ey,...aw,Mw,...An.foldKeymap,...P0,...CS])].filter(t=>t);S();var zo=require("obsidian"),_f=class extends zo.Modal{constructor(e,r,n,i){super(e),this.plugin=r,this.section=n,this.config=i}onOpen(){let{contentEl:e,modalEl:r}=this;r.addClass("modal-style-settings"),r.addClass("modal-dynamic-highlights"),new zo.Setting(e).setName(`Export settings for: ${this.section}`).then(n=>{let i=JSON.stringify(this.config,null,2);n.controlEl.createEl("a",{cls:"style-settings-copy",text:"Copy to clipboard",href:"#"},o=>{new zo.TextAreaComponent(e).setValue(i).then(u=>{o.addEventListener("click",async l=>{l.preventDefault();try{await navigator.clipboard.writeText(u.inputEl.value),o.addClass("success"),console.log("Copied to clipboard!")}catch(c){console.error("Failed to copy to clipboard",c)}})}),setTimeout(()=>{o.parentNode&&o.removeClass("success")},2e3)}),n.controlEl.createEl("a",{cls:"style-settings-download",text:"Download",attr:{download:"dynamic-highlights.json",href:`data:application/json;charset=utf-8,${encodeURIComponent(i)}`}})})}onClose(){let{contentEl:e}=this;e.empty()}};S();var c5=Eu(a5()),Li=require("obsidian");S();var l5={$schema:"http://json-schema.org/draft-07/schema#",additionalProperties:{$ref:"#/definitions/SearchQuery"},definitions:{SearchQuery:{properties:{class:{type:"string"},color:{type:["null","string"]},css:{type:"string"},enabled:{type:"boolean"},mark:{items:{enum:["line","match"],type:"string"},type:"array"},query:{type:"string"},regex:{type:"boolean"}},required:["class","color","query","regex"],type:"object"}},type:"object"};var nd=class extends Li.Modal{constructor(e,r){super(e),this.plugin=r}onOpen(){let{contentEl:e,modalEl:r}=this;r.addClass("modal-style-settings"),r.addClass("modal-dynamic-highlights"),new Li.Setting(e).setName("Import highlighters").setDesc("Import an entire or partial configuration. Warning: this may override existing highlighters"),new Li.Setting(e).then(n=>{let i=createSpan({cls:"style-settings-import-error",text:"Error importing config"});n.nameEl.appendChild(i);let o=async u=>{var l;if(u)try{let{queryOrder:c}=this.plugin.settings.staticHighlighter,d=JSON.parse(u),g=new c5.default().compile(l5);if(!g(d))throw(l=g.errors)==null?void 0:l.map(v=>`${v.instancePath} ${v.message}`).first();Object.assign(this.plugin.settings.staticHighlighter.queries,d),Object.keys(d).forEach(v=>c.includes(v)||c.push(v)),await this.plugin.saveSettings(),this.plugin.updateStaticHighlighter(),this.plugin.updateStyles(),this.plugin.updateCustomCSS(),this.plugin.settingsTab.display(),this.close()}catch(c){i.addClass("active"),i.setText(`Error importing highlighters: ${c}`)}else i.addClass("active"),i.setText("Error importing highlighters: config is empty")};n.controlEl.createEl("input",{cls:"style-settings-import-input",attr:{id:"style-settings-import-input",name:"style-settings-import-input",type:"file",accept:".json"}},u=>{u.addEventListener("change",l=>{let c=new FileReader;c.onload=async h=>{var g;(g=h.target)!=null&&g.result&&await o(h.target&&h.target.result.toString().trim())};let d=l.target.files;d!=null&&d.length&&c.readAsText(d[0])})}),n.controlEl.createEl("label",{cls:"style-settings-import-label",text:"Import from file",attr:{for:"style-settings-import-input"}}),new Li.TextAreaComponent(e).setPlaceholder("Paste config here...").then(u=>{new Li.ButtonComponent(e).setButtonText("Save").onClick(async()=>{await o(u.getValue().trim())})})})}onClose(){let{contentEl:e}=this;e.empty()}};var id=class extends ft.PluginSettingTab{constructor(e,r){super(e,r),this.plugin=r,this.scope=new ft.Scope(e.scope)}hide(){var e;(e=this.editor)==null||e.destroy(),this.pickrInstance&&this.pickrInstance.destroyAndRemove(),this.app.keymap.popScope(this.scope)}display(){this.app.keymap.pushScope(this.scope);let{containerEl:e}=this;e.empty();let r=this.plugin.settings.staticHighlighter,n=e.createDiv("import-export-wrapper");n.createEl("a",{cls:"dynamic-highlighter-import",text:"Import",href:"#"},ye=>{ye.addEventListener("click",he=>{he.preventDefault(),new nd(this.plugin.app,this.plugin).open()})}),n.createEl("a",{cls:"dynamic-highlighter-export",text:"Export",href:"#"},ye=>{ye.addEventListener("click",he=>{he.preventDefault(),new _f(this.plugin.app,this.plugin,"All",r.queries).open()})}),e.createEl("h3",{text:"Persistent Highlights"}).addClass("persistent-highlights"),e.addClass("dynamic-highlights-settings");let i=new ft.Setting(e);i.setName("Define persistent highlighters").setClass("highlighter-definition").setDesc("In this section you define a unique highlighter name along with a background color and a search term/expression. Enable the regex toggle when entering a regex query. Make sure to click the save button once you're done defining the highlighter.");let o=new ft.TextComponent(i.controlEl);o.setPlaceholder("Highlighter name"),o.inputEl.ariaLabel="Highlighter name",o.inputEl.addClass("highlighter-name");let u=i.controlEl.createDiv("color-wrapper"),l,c=new ft.ButtonComponent(u);c.setClass("highlightr-color-picker").then(()=>{this.pickrInstance=l=new pm.default({el:c.buttonEl,container:u,theme:"nano",defaultRepresentation:"HEXA",default:"#42188038",comparison:!1,components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!1,hsla:!0,hsva:!1,cmyk:!1,input:!0,clear:!0,cancel:!0,save:!0}}});let ye=u.querySelector(".pcr-button");if(!ye)throw new Error("Button is null (see ui.ts)");ye.ariaLabel="Background color picker",l.on("clear",he=>{he.hide(),o.inputEl.setAttribute("style","background-color: none; color: var(--text-normal);")}).on("cancel",he=>{he.hide()}).on("change",he=>{let Ee=(he==null?void 0:he.toHEXA().toString())||"",le;Ee&&Ee.length==6?le=`${Ee}A6`:le=Ee,o.inputEl.setAttribute("style",`background-color: ${le}; color: var(--text-normal);`)}).on("save",(he,Ee)=>{Ee.hide()})});let d=i.controlEl.createDiv("query-wrapper"),h=new ft.TextComponent(d);h.setPlaceholder("Search term"),h.inputEl.addClass("highlighter-settings-query");let g=new ft.ToggleComponent(d);g.toggleEl.addClass("highlighter-settings-regex"),g.toggleEl.ariaLabel="Enable Regex",g.onChange(ye=>{ye?h.setPlaceholder("Search expression"):h.setPlaceholder("Search term")});let b=(ye=>{let he={},Ee={match:{description:"matches",defaultState:!0},line:{description:"parent line",defaultState:!1}},le=ye.createDiv("mark-wrapper"),O;for(O in Ee){let P=Ee[O],R=le.createDiv("mark-wrapper");R.createSpan("match-type").setText(P.description);let ge=new ft.ToggleComponent(R).setValue(P.defaultState);he[O]={element:R,component:ge}}return he})(i.controlEl),_=i.controlEl.createDiv("custom-css-wrapper");_.createSpan("setting-item-name").setText("Custom CSS");let k=new ft.TextAreaComponent(_);this.editor=cq(k.inputEl,ma),k.inputEl.addClass("custom-css");let C=null,q=new ft.ButtonComponent(d);q.buttonEl.setAttribute("state","creating"),q.setClass("action-button").setClass("action-button-save").setClass("mod-cta").setIcon("save").setTooltip("Save").onClick(async ye=>{var ge;console.log("Save button clicked");let he=q.buttonEl.getAttribute("state");console.log("saveButton initial state:","state",he);let Ee=o.inputEl.dataset.original;if(C=o.inputEl.value.replace(/ /g,"-"),he==="editing"&&Ee&&Ee!==C){delete r.queries[Ee];let $=r.queryOrder.indexOf(Ee);$!==-1&&(r.queryOrder[$]=C)}let le=(ge=l.getSelectedColor())==null?void 0:ge.toHEXA().toString(),O=h.inputEl.value,P=g.getValue(),R=this.editor.state.doc.toString();if(C){if(he=="creating")if(!r.queryOrder.includes(C))r.queryOrder.push(C);else{new ft.Notice("Highlighter name already exists");return}let $=Object.entries(b).map(([pe,ce])=>ce.component.getValue()&&pe).filter(pe=>["line","match"].includes(pe));r.queries[C]={class:C,color:le||"",regex:P,query:O,mark:$,css:R,enabled:!0},await this.plugin.saveSettings(),this.plugin.updateStaticHighlighter(),this.plugin.updateCustomCSS(),this.plugin.updateStyles(),this.display(),q.buttonEl.setAttribute("state","creating"),console.log("saveButton state after saving:","state",he)}else!C&&le?new ft.Notice("Highlighter name missing"):/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(C)?new ft.Notice("Highlighter values missing"):new ft.Notice("Highlighter name missing")}),q.buttonEl.setAttribute("aria-label","Save Highlighter");let be=new ft.ButtonComponent(d);be.setClass("action-button").setClass("mod-cta").setIcon("x-circle").setTooltip("Discard Changes").onClick(()=>{let ye=q.buttonEl.getAttribute("state");if(console.log("Discard button clicked, current state:",ye),ye==="editing"){if(C!=null){let he=r.queries[C];o.inputEl.value=C,l.setColor(he.color),h.inputEl.value=he.query,g.setValue(he.regex),this.editor.setState(Ha.EditorState.create({doc:he.css||"",extensions:ma})),new ft.Notice("Changes discarded")}else o.inputEl.value="",h.inputEl.value="",l.setColor(null),l.hide(),g.setValue(!1),this.editor.setState(Ha.EditorState.create({doc:"",extensions:ma})),new ft.Notice("Form cleared");q.buttonEl.removeAttribute("state")}}),console.log("Save and discard buttons created:",q.buttonEl,be.buttonEl);let Oe=e.createEl("div",{cls:"highlighter-container"});this.plugin.settings.staticHighlighter.queryOrder.forEach(ye=>{let he=r.queries[ye];if(he){let{color:Ee,query:le,regex:O}=he,P=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill=${Ee} stroke=${Ee} stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M20.707 5.826l-3.535-3.533a.999.999 0 0 0-1.408-.006L7.096 10.82a1.01 1.01 0 0 0-.273.488l-1.024 4.437L4 18h2.828l1.142-1.129l3.588-.828c.18-.042.345-.133.477-.262l8.667-8.535a1 1 0 0 0 .005-1.42zm-9.369 7.833l-2.121-2.12l7.243-7.131l2.12 2.12l-7.242 7.131zM4 20h16v2H4z"/></svg>`,R=Oe.createEl("div");R.id="dh-"+ye,R.addClass("highlighter-item-draggable");let ge=R.createEl("span"),$=R.createEl("span");ge.addClass("highlighter-setting-icon","highlighter-setting-icon-drag"),$.addClass("highlighter-setting-icon"),$.innerHTML=P,(0,ft.setIcon)(ge,"three-horizontal-bars"),ge.ariaLabel="Drag to rearrange";let pe=[];pe.push((O?"search expression: ":"search term: ")+le),pe.push("css class: "+ye),pe.push("color: "+r.queries[ye].color),new ft.Setting(R).setClass("highlighter-details").setName(ye).setDesc(pe.join(" | ")).addToggle(ce=>{var de;ce.setValue((de=r.queries[ye].enabled)!=null?de:!0).onChange(ke=>{r.queries[ye].enabled=ke,ce.toggleEl.setAttribute("aria-label",ke?`Disable ${ye} highlighter`:`Enable ${ye} highlighter`),(async()=>(await this.plugin.saveSettings(),this.plugin.updateStaticHighlighter()))()}),ce.toggleEl.setAttribute("aria-label",r.queries[ye].enabled?`Disable ${ye} highlighter`:`Enable ${ye} highlighter`)}).addButton(ce=>{ce.buttonEl.setAttribute("aria-label",`Edit ${ye} highlighter`),ce.setClass("action-button").setClass("action-button-edit").setClass("mod-cta").setIcon("pencil").onClick(async de=>{q.buttonEl.setAttribute("state","editing");let ke=r.queries[ye];o.inputEl.value=ye,o.inputEl.dataset.original=ye,l.setColor(ke.color),h.inputEl.value=ke.query,l.setColor(ke.color),g.setValue(ke.regex);let Re=ma;if(this.editor.setState(Ha.EditorState.create({doc:ke.css?ke.css:"",extensions:Re})),ke!=null&&ke.mark){let Le=new Set(ke.mark);Object.entries(b).forEach(([Qe,Ve])=>{let st=["line","match"].includes(Qe);Ve.component.setValue(st&&Le.has(Qe))})}else Object.entries(b).map(([Le,Qe])=>Le==="match"?Qe.component.setValue(!0):Qe.component.setValue(!1));e.scrollTop=0})}).addButton(ce=>{ce.buttonEl.setAttribute("aria-label",`Delete ${ye} highlighter`),ce.setClass("action-button").setClass("action-button-delete").setIcon("trash").setClass("mod-warning").onClick(async()=>{new ft.Notice(`${ye} highlight deleted`),delete r.queries[ye],r.queryOrder.remove(ye),await this.plugin.saveSettings(),this.plugin.updateStyles(),this.plugin.updateStaticHighlighter();let de=Oe.querySelector(`#dh-${ye}`);de&&de.detach()})})}else console.warn(`Highlighter "${ye}" not found in config.queries.`)}),W3.create(Oe,{animation:500,ghostClass:"highlighter-sortable-ghost",chosenClass:"highlighter-sortable-chosen",dragClass:"highlighter-sortable-drag",handle:".highlighter-setting-icon-drag",dragoverBubble:!0,forceFallback:!0,fallbackClass:"highlighter-sortable-fallback",easing:"cubic-bezier(1, 0, 0, 1)",onSort:ye=>{let he=r.queryOrder,Ee=ye.oldIndex,le=ye.newIndex;if(typeof Ee=="number"&&typeof le=="number"){let[O]=he.splice(Ee,1);he.splice(le,0,O)}else throw new Error("index is null");this.plugin.settings.staticHighlighter.queryOrder=he,this.plugin.saveSettings()}}),e.createEl("h3",{text:"Selection Highlights"});let me=new ft.Setting(e).controlEl.createDiv("selectedHighlightsStylingsContainer");me.createDiv("choose-color-text").setText("Choose a color.");let Ce=new ft.ButtonComponent(me);Ce.setClass("selected-color-picker").then(()=>{let ye=new pm.default({el:Ce.buttonEl,theme:"nano",default:this.plugin.settings.selectionHighlighter.selectionColor,components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!1,hsla:!0,hsva:!1,cmyk:!1,input:!0,clear:!0,cancel:!0,save:!0}}});ye.on("clear",he=>{he.hide()}).on("cancel",he=>{he.hide()}).on("change",he=>{let Ee=(he==null?void 0:he.toHEXA().toString())||"",le;Ee&&Ee.length==6?le=`${Ee}A6`:le=Ee}),ye.on("save",(he,Ee)=>{let le=he.toHEXA().toString();Ee.hide(),this.plugin.settings.selectionHighlighter.selectionColor=le,this.plugin.saveSettings()})}),new ft.Setting(me).setName("Choose a decoration style.").setClass("choose-decoration-text").setClass("decoration-dropdown").addDropdown(ye=>{ye.addOption("underline","Underline").addOption("underline dotted","Dotted").addOption("underline dashed","Dashed").addOption("underline wavy","Wavy").addOption("background","Background").addOption("bold","Bold, colored text").addOption("line-through","Strikethrough").setValue(this.plugin.settings.selectionHighlighter.selectionDecoration).onChange(he=>{this.plugin.settings.selectionHighlighter.selectionDecoration=he,this.plugin.saveSettings()})}),new ft.ButtonComponent(me).setClass("action-button").setClass("mod-cta").setClass("selected-save-button").setIcon("save").setTooltip("Save CSS Snippet").onClick(async()=>{let ye=this.plugin.settings.selectionHighlighter.selectionColor,he=this.plugin.settings.selectionHighlighter.selectionDecoration;he=="default"&&(he="dotted");let Ee;ye=="default"?he=="background"?Ee="background-color: var(--text-accent)":he=="bold"?Ee="font-weight: bold; color: var(--text-accent)":he=="underline wavy"?Ee="background-image: linear-gradient(to right, var(--text-accent) 0%, var(--text-accent) 25%, transparent 25%, transparent 50%); background-size: 4px 1px; background-repeat: repeat-x; background-position: bottom; text-decoration: underline wavy; text-decoration-thickness: 1px; text-decoration-color: var(--text-accent);":Ee=`text-decoration: ${he}; text-decoration-color: var(--text-accent)`:he=="background"?Ee=`background-color: ${ye}`:he=="bold"?Ee=`font-weight: bold; color: ${ye}`:he=="underline wavy"?Ee=`background-image: linear-gradient(to right, ${ye} 0%, ${ye} 25%, transparent 25%, transparent 50%); background-size: 4px 1px; background-repeat: repeat-x; background-position: bottom; text-decoration: underline wavy; text-decoration-thickness: 1px; text-decoration-color: var(--text-accent);`:Ee=`text-decoration: ${he}; text-decoration-color: ${ye}`,this.plugin.settings.selectionHighlighter.css=Ee,await this.plugin.saveSettings(),this.plugin.updateSelectionHighlighter(),new ft.Notice("CSS Snippet saved successfully!")}).buttonEl.setAttribute("aria-label","Save Highlighter"),new ft.Setting(me).setName("").setClass("selected-spacer").setClass("selected-spacer"),new ft.Setting(e).setName("Highlight all occurrences of the word under the cursor").addToggle(ye=>{ye.setValue(this.plugin.settings.selectionHighlighter.highlightWordAroundCursor).onChange(he=>{this.plugin.settings.selectionHighlighter.highlightWordAroundCursor=he,this.plugin.saveSettings(),this.plugin.updateSelectionHighlighter()})}),new ft.Setting(e).setName("Highlight all occurrences of the actively selected text").addToggle(ye=>{ye.setValue(this.plugin.settings.selectionHighlighter.highlightSelectedText).onChange(he=>{this.plugin.settings.selectionHighlighter.highlightSelectedText=he,this.plugin.saveSettings(),this.plugin.updateSelectionHighlighter()})}),new ft.Setting(e).setName("Highlight delay").setDesc("The delay, in milliseconds, before selection highlights will appear. Must be greater than 200ms.").addText(ye=>{ye.inputEl.type="number",ye.setValue(String(this.plugin.settings.selectionHighlighter.highlightDelay)).onChange(he=>{parseInt(he)<200&&(he="200"),parseInt(he)>=0&&(this.plugin.settings.selectionHighlighter.highlightDelay=parseInt(he)),this.plugin.saveSettings(),this.plugin.updateSelectionHighlighter()})}),new ft.Setting(e).setName("Ignored words").setDesc("A comma delimted list of words that will not be highlighted").addTextArea(ye=>{ye.inputEl.addClass("ignored-words-input"),ye.setValue(this.plugin.settings.selectionHighlighter.ignoredWords).onChange(async he=>{this.plugin.settings.selectionHighlighter.ignoredWords=he,await this.plugin.saveSettings(),this.plugin.updateSelectionHighlighter()})})}};function cq(t,e){let r=new f5.EditorView({state:Ha.EditorState.create({doc:t.value,extensions:e})}),n=t.parentNode;return n&&n.insertBefore(r.dom,t),t.style.display="none",t.form&&t.form.addEventListener("submit",()=>{t.value=r.state.doc.toString()}),r}var sd=class extends nu.Plugin{constructor(){super(...arguments);this.updateConfig=(0,nu.debounce)((r,n)=>{let i;if(r==="selection")i=$y;else return;this.iterateCM6(o=>{o.dispatch({effects:i(n)})})},1e3,!0)}async onload(){try{await this.loadSettings(),this.settingsTab=new id(this.app,this),this.addSettingTab(this.settingsTab),Tp(),this.staticHighlighter=$p(this),this.extensions=[],this.updateSelectionHighlighter(),this.updateStaticHighlighter(),this.updateStyles(),this.registerEditorExtension(this.extensions),this.initCSS()}catch(r){console.error("Error loading settings:",r)}}async loadSettings(){this.settings=Object.assign({},S3,await this.loadData()),this.settings.selectionHighlighter.highlightDelay<200&&(this.settings.selectionHighlighter.highlightDelay=200,await this.saveSettings())}async saveSettings(){await this.saveData(this.settings)}initCSS(){let r=this.styleEl=document.createElement("style");r.setAttribute("type","text/css"),document.head.appendChild(r),this.register(()=>r.detach()),this.updateCustomCSS()}updateCustomCSS(){this.styleEl.textContent=Object.values(this.settings.staticHighlighter.queries).map(r=>r&&r.css).join(`
`),this.app.workspace.trigger("css-change")}updateStyles(){this.extensions.remove(this.styles),this.styles=y3(this),this.extensions.push(this.styles),this.app.workspace.updateOptions()}updateStaticHighlighter(){this.extensions.remove(this.staticHighlighter),this.staticHighlighter=$p(this),this.extensions.push(this.staticHighlighter),this.app.workspace.updateOptions()}updateSelectionHighlighter(){this.extensions.remove(this.selectionHighlighter),this.selectionHighlighter=Ay(this.settings.selectionHighlighter),this.extensions.push(this.selectionHighlighter),this.app.workspace.updateOptions()}iterateCM6(r){this.app.workspace.iterateAllLeaves(n=>{(n==null?void 0:n.view)instanceof nu.MarkdownView&&n.view.editor.cm instanceof d5.EditorView&&r(n.view.editor.cm)})}};
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

regexp-match-indices/config.js:
  (*!
  Copyright 2019 Ron Buckton
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
      http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  *)

regexp-match-indices/native.js:
  (*!
  Copyright 2019 Ron Buckton
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
      http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  *)

regexp-match-indices/implementation.js:
  (*!
  Copyright 2019 Ron Buckton
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
      http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  *)

regexp-match-indices/polyfill.js:
  (*!
  Copyright 2019 Ron Buckton
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
      http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  *)

regexp-match-indices/shim.js:
  (*!
  Copyright 2019 Ron Buckton
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
      http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  *)

regexp-match-indices/index.js:
  (*!
  Copyright 2019 Ron Buckton
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
      http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  *)

@simonwep/pickr/dist/pickr.min.js:
  (*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr *)

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.6
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/
